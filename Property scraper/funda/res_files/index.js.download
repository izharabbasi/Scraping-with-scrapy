!function(e){function t(t){for(var n,s,r=t[0],l=t[1],c=t[2],u=0,h=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&h.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(d&&d(t);h.length;)h.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,r=1;r<i.length;r++){var l=i[r];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},a={0:0},o=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="https://assets.fstatic.nl/master_3089/assets/";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;o.push([407,1]),i()}({332:function(e,t){},333:function(e,t){},407:function(e,t,i){"use strict";i.r(t);i(251),i(3);var n=i(0),a=i.n(n),o=void 0;void 0===a.a.fn.findBack&&a.a.fn.extend({findBack:function(e){return o.find(e).addBack(e)}});i(10);var s=a()({}),r=l;function l(){return a.a.ajax.apply(this,arguments).done((function(e){return s.trigger("success",e)})).fail((function(e){"abort"===e.statusText?s.trigger("abort",e):s.trigger("error",e)}))}l.onAbort=function(e){return s.on("abort",e)},l.onError=function(e){return s.on("error",e)},l.onSuccess=function(e){return s.on("success",e)};function c(e){var t=this;t.element=e,t.$element=a()(e),t.$notifications=this.$element.find("[data-notification]"),r.onError((function(){return t.show()})),r.onAbort((function(){return t.hide()})),r.onSuccess((function(){return t.hide()})),t.$notifications.on("close",(function(){return t.hide()}))}c.prototype.hide=function(){this.$element.removeClass("is-active")},c.prototype.show=function(){this.$element.hasClass("is-active")?(this.$element.removeClass("error-bar-flash"),this.element.offsetWidth,this.$element.addClass("error-bar-flash")):(this.$notifications.trigger("show"),this.$element.addClass("is-active"))},a()("[data-error-bar]").get().map((function(e){return new c(e)}));var d,u=i(1),h=i.n(u),p=i(2),f=i.n(p),m=i(64),v=(i(31),i(11),i(47)),g=i.n(v),y=i(9),b=i.n(y),w=i(4),k=i.n(w),$="poi_detail_drawer",C="drawer_maximised",S="drawer_minimised",T="drawer_hidden",E="drawer_semi",O=window.localStorage,x=(d={globalObjectId:document.querySelector("[data-global-id]")?document.querySelector("[data-global-id]").getAttribute("data-global-id"):"",mediaViewerHash:"",mediaViewerRoute:"",activeLocationId:null,userLoggedIn:null,selectedCategories:[],expandedAccordionPanels:[],loadedTiles:[]},k()(d,$,T),k()(d,"poi_overview_drawer",T),k()(d,"modalityAndTravelToggle",{modality:O&&localStorage.getItem("poiModality")||"car",travelTime:"30"}),k()(d,"errorLoadingPolygon",!1),k()(d,"showPolygonSpinner",!1),d),_=function(e,t){var i=void 0!==t.data?t.data.displayTime+" "+t.data.displayDistance:null;return b()({},e,{poiTravelTime:i})},I=function(e,t){var i=b()({},e.modalityAndTravelToggle);return i[t.selectedToggle.key]=t.selectedToggle.value,b()({},e,{modalityAndTravelToggle:i})};var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"update_polygon_modality_and_travel_time":return I(e,t);case"show_loading_spinner":return b()({},e,{showPolygonSpinner:t.show});case"set_poi_travel_distance":return _(e,t);case"set_global_object_id":return b()({},e,{globalObjectId:t.globalObjectId});case"set_media_viewer_hash":return b()({},e,{mediaViewerHash:t.mediaViewerHash});case"set_media_viewer_route":return b()({},e,{mediaViewerRoute:t.mediaViewerRoute});case"set_modality":return b()({},e,{modalityAndTravelToggle:{modality:t.label}});case"change_drawer":return b()({},e,k()({},t.drawerName,t.drawerPosition));case"set_active_location":return b()({},e,{activeLocationId:t.id});case"set_login_state":return b()({},e,{userLoggedIn:t.loggedIn,userLogInUrl:t.loginUrl});case"enable_category":return b()({},e,{selectedCategories:[].concat(g()(e.selectedCategories),[t.id])});case"disable_category":return b()({},e,{selectedCategories:e.selectedCategories.filter((function(e){return e!==t.id}))});case"set_categories":return b()({},e,{selectedCategories:t.ids});case"add_loaded_tile":return b()({},e,{loadedTiles:[].concat(g()(e.loadedTiles),[t.tileId])});case"expand_accordion_panel":return b()({},e,{expandedAccordionPanels:[].concat(g()(e.expandedAccordionPanels),[t.id])});case"collapse_accordion_panel":return b()({},e,{expandedAccordionPanels:e.expandedAccordionPanels.filter((function(e){return e!==t.id}))});case"get_header_as_partial_view":return b()({},e,{appHeader:t.appHeader});case"set_travel_time_polygon_data":return b()({},e,{errorLoadingPolygon:!1,travelTimePolygon:t.data});case"set_error_loadin_polygon":return b()({},e,{errorLoadingPolygon:t.hasError});default:return e}};i(21),i(7),i(24),i(25),i(12),i(8);function L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function A(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var j={loaded:!1,loading:!1,error:null,html:null,lastSavedPpoi:null};function D(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function M(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?D(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var R={loaded:!1,loading:!1,error:null,html:null};function F(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function V(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?F(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var H={loaded:!1,loading:!1,error:null};function N(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?N(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var z={loaded:!1,loading:!1,error:null};function U(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?U(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var G={loaded:!1,loading:!1,error:null};i(58);var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.reduce((function(e,i){return e[i[t]]=i,e}),{})},Z=function(e){return Object.keys(e).map((function(t){return e[t]}))},K={},Y=i(120),J=i.n(Y),Q=i(238),X=i.n(Q);function ee(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function te(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ee(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ie={},ne={};function ae(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function oe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var se=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=n.reduce((function(i,n){return i["".concat(n.id,"-").concat(e,"-").concat(t)]=n,i}),{});return oe({},i,{},a)},re={};function le(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ce(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?le(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):le(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var de={},ue=Object(m.b)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"get_categories":return W(t.data,"id");default:return e}},locations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"get_personal_places_success":var i=W(t.result.personalplaces.map((function(e){return{id:e.id,lat:e.lat,lng:e.lng,label:e.label,location:e.location,personalPlace:e.id}})),"id");return X()({},e,i);case"get_voorzieningen_success":var n=W(t.result.map((function(e){return{id:e.Type.toLowerCase()+"-"+e.Id,lat:e.Latitude,lng:e.Longitude,label:e.Name,location:e.Address,personalPlace:null}})),"id");return b()({},e,te({},e,{},n));case"add_location":return b()({},e,k()({},t.location.id,{id:t.location.id,lat:t.location.lat,lng:t.location.lng,label:t.location.label,location:t.location.location}));case"delete_location":return J()(e,t.id);case"delete_personal_place":if(!t.id)return e;var a=Object.keys(e).map((function(t){return e[t]})).reduce((function(e,i){return i.personalPlace===t.id?i:e}),null),o=b()({},a,{personalPlace:null});return b()({},e,k()({},o.id,o));default:return e}},personalPlaces:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"get_personal_places_success":return W(t.result.personalplaces,"id");case"delete_personal_place":return J()(e,t.id);default:return e}},travelTimes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"get_travel_times_success":return se(t.result.param.globalobjectid,t.result.param.travelmode,e,t.result.traveltimes);default:return e}},voorzieningen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"get_voorzieningen_success":var i=W(t.result.map((function(e){return{id:e.Type.toLowerCase()+"-"+e.Id,type:e.Type,lat:e.Latitude,lng:e.Longitude,name:e.Name,address:e.Address,categories:e.Categories.map((function(t){return e.Type.toLowerCase()+"-"+t})),phone:e.Phone,website:e.Website,openingHoursToday:e.OpeningHoursToday,routeLineNumber:e.RouteLineNumber,routeLongName:e.RouteLongName,provider:e.Provider,source:e.Source,marker:null}})),"id");return b()({},e,ce({},e,{},i));case"add_voorzieningen_markers":var n=ce({},e);return t.markers.forEach((function(e){n[e.id].marker=e})),n;default:return e}}}),he={freeTextSearch:[]},pe=function(e,t){if(null===e.freeTextSearchValue)return b()({},t,{freeTextSearch:[]});var i=b()([],t.freeTextSearch),n=[];return i.filter((function(t){return t.id!==e.freeTextSearchValue&&n.push(t),n})),b()({},t,{freeTextSearch:n})},fe=function(e,t){return b()({},t,{freeTextSearch:[].concat(g()(t.freeTextSearch),g()(e.freeTextSearchValue))})},me=Object(m.b)({ui:P,addPersonalPlace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"add_personal_place":return A({},e,{loading:!0,loaded:!1,error:null,html:null});case"delete_personal_place":return A({},e,{loading:!1,loaded:!0,error:null,html:null,lastSavedPpoi:null});case"add_personal_place_success":return A({},e,{loading:!1,loaded:!0,error:null,html:t.result.locationList,lastSavedPpoi:t.result});case"add_personal_place_fail":return A({},e,{loading:!1,loaded:!1,error:t.error,html:null});default:return e}},deletePersonalPlace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"delete_personal_place":return M({},e,{loading:!0,loaded:!1,error:null,html:null});case"delete_personal_place_success":return M({},e,{loading:!1,loaded:!0,error:null,html:t.result.locationList});case"delete_personal_place_fail":return M({},e,{loading:!1,loaded:!1,error:t.error,html:null});default:return e}},getPersonalPlaces:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"get_personal_places":return V({},e,{loading:!0,loaded:!1,error:null});case"get_personal_places_success":return V({},e,{loading:!1,loaded:!0,error:null});case"get_personal_places_fail":return V({},e,{loading:!1,loaded:!1,error:t.error});default:return e}},getTravelTimes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"get_travel_times":return B({},e,{loading:!0,loaded:!1,error:null});case"get_travel_times_success":return B({},e,{loading:!1,loaded:!0,error:null});case"get_travel_times_fail":return B({},e,{loading:!1,loaded:!1,error:t.error});default:return e}},getVoorzieningen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"get_voorzieningen":return q({},e,{loading:!0,loaded:!1,error:null});case"get_voorzieningen_success":return q({},e,{loading:!1,loaded:!0,error:null});case"get_voorzieningen_fail":return q({},e,{loading:!1,loaded:!1,error:t.error});default:return e}},entities:ue,searchFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"set_free_text_search":return fe(t,e);case"remove_free_text_search":return pe(t,e);default:return e}}}),ve=function(e,t){return function(e,t){return function(e,t){return t.map((function(t){return e[t]})).filter((function(e){return!!e}))}(e.locations,t)}(e.entities,[t])[0]},ge=i(240),ye=i(121),be=i.n(ye),we=i(85),ke=i.n(we);function $e(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ce(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$e(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Se=[Object(m.a)((function(){return function(e){return function(t){var i=t.promise,n=t.types,a=ke()(t,["promise","types"]);if(!i)return e(t);var o=be()(n,3),s=o[0],r=o[1],l=o[2];return e(Ce({},a,{type:s})),i.then((function(t){return e(Ce({},a,{result:t,type:r}))})).catch((function(t){return e(Ce({},a,{error:t.message,type:l}))}))}}})),Object(m.a)(ge.a)];if(window.__REDUX_DEVTOOLS_EXTENSION__){var Te=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();Se.push(Te)}var Ee,Oe=Object(m.d)(me,m.c.apply(null,Se)),xe=i(167),_e=i.n(xe),Ie=function(){function e(t,i){var n=this;h()(this,e),this.store=t,this.state=t.getState(),this.subscribers=[],this.propertiesToWatch=i,this.store.subscribe((function(){n.compare(n.store.getState(),n.state)}))}return f()(e,[{key:"compare",value:function(e,t){var i=!1;this.propertiesToWatch.forEach((function(n){_e()(e,n)!==_e()(t,n)&&(i=!0)})),this.state=this.store.getState(),i&&this.subscribers.map((function(i){return i(e,t)}))}},{key:"subscribe",value:function(e){this.subscribers.push(e)}}]),e}(),Pe=(i(5),i(17),[]),Le=/personalplaces\/traveltimes\/(.*)/,Ae=/search\/traveltimepolygons\/getpolygons\/(.*)/,je=new(function(){function e(){h()(this,e)}return f()(e,[{key:"beforeSend",value:function(e,t){Ee&&"pending"===Ee.state()&&(Le.test(t.url)||Ae.test(t.url))&&Pe.forEach((function(e){return e.abort()})),Pe.push(e)}},{key:"get",value:function(e,t){return Ee=a.a.ajax({beforeSend:this.beforeSend,url:"".concat("").concat(e),crossDomain:!0,xhrFields:{withCredentials:!0},data:t}).catch((function(e){throw new Error(e.statusText)}))}},{key:"post",value:function(e,t){return a.a.ajax({method:"POST",url:"".concat("").concat(e),xhrFields:{withCredentials:!0},data:t}).catch((function(e){throw new Error(e.responseText)}))}}]),e}()),De=function(e){return e.ui.activeLocationId},Me=function(e){return e.ui.modalityAndTravelToggle},Re=function(e){return e.ui.modalityAndTravelToggle.modality},Fe=function(e){return e.ui.modalityAndTravelToggle.travelTime},Ve=function(e){return e.ui.selectedCategories},He=function(e){return null!==De(e)},Ne=function(e,t){return De(e)!==De(t)},Be=function(e,t){return Re(e)!==Re(t)},ze=function(e){return"".concat(e).replace(".",",")};function Ue(e){return{type:"set_media_viewer_hash",mediaViewerHash:e}}function qe(e,t){return{type:"change_drawer",drawerName:e,drawerPosition:t}}function Ge(e,t){return{type:"set_login_state",loggedIn:e,loginUrl:t}}function We(e){return{type:"show_loading_spinner",show:e}}function Ze(e){return{type:"set_active_location",id:e}}function Ke(){return function(e){e(We(!1)),e(at(null)),e(Ze(null))}}function Ye(e){return{type:"delete_location",id:e}}function Je(){return{types:["get_personal_places","get_personal_places_success","get_personal_places_fail"],promise:je.get("/search/personalplaces/list/")}}function Qe(e,t,i){return{types:["get_travel_times","get_travel_times_success","get_travel_times_fail"],promise:je.get("".concat(i,"?globalObjectId=").concat(e,"&travelMode=").concat(t))}}function Xe(e){var t=ze(e.lat),i=ze(e.lng);return{types:["add_personal_place","add_personal_place_success","add_personal_place_fail"],promise:je.post("/search/personalplaces/save/","lat=".concat(t,"&lng=").concat(i,"&location=").concat(e.location,"&label=").concat(e.label))}}function et(e){return{id:e,types:["delete_personal_place","delete_personal_place_success","delete_personal_place_fail"],promise:je.post("/search/personalplaces/remove/","id=".concat(e))}}function tt(e){return{type:"enable_category",id:e}}function it(e){return{type:"set_poi_travel_distance",data:e}}function nt(e,t){var i="/search/traveltimepolygons/getpolygons/?objectId=".concat(e.id,"&lat=").concat(e.lat,"&lon=").concat(e.lng,"&travelMode=").concat(t.modality,"&timeInMinutes=").concat(t.travelTime);return function(e){return je.get(i).then((function(t){var i;e(We(!1)),i=Oe.getState(),He(i)&&e(at([t]))})).catch((function(t){"abort"!=t.message&&(e(We(!1)),e({type:"set_error_loadin_polygon",hasError:!0}))}))}}function at(e){return{type:"set_travel_time_polygon_data",data:e}}function ot(e){return{type:"set_free_text_search",freeTextSearchValue:e}}function st(e){return{type:"remove_free_text_search",freeTextSearchValue:e}}var rt="[".concat("data-app-header-menu-handle","]"),lt="webkitAnimationEnd oAnimationEnd msAnimationEnd animationend",ct=a()("body"),dt=a()(window),ut=function(){function e(t){h()(this,e);this.$element=a()(t),this.$closeButton=this.$element.find("[data-app-header-menu-close]"),this.$handle=this.$element.find(rt),this.$submenu=this.$element.find("[data-app-header-submenu]"),this.submenuOpened=!1,this.savedScrollPosition=null,this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;e.$handle.click((function(t){t.preventDefault(),e.toggleMenu()})),e.$closeButton.click((function(){return e.closeMenu()})),ct.on("click",(function(t){var i=e.$handle.is(t.target),n=e.$element.is(t.target),o=0!==a()(t.target).closest(e.$element).length;!e.submenuOpened||i||n||o||e.closeMenu()})),void 0!==window.analytics&&this.$element.find("".concat("[data-user-logout]"," a")).click((function(){return window.analytics.reset()}))}},{key:"toggleMenu",value:function(){this.$submenu.hasClass("is-open")?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var e=this;e.$submenu.one(lt,(function(){return e.openAnimationEndHandler()})),e.disableBodyScrolling(),e.$submenu.addClass("is-opening"),e.$handle.addClass("is-open"),e.$handle.attr("aria-expanded","true"),e.submenuOpened=!0}},{key:"closeMenu",value:function(){var e=this;e.$submenu.removeClass("is-open").addClass("is-closing"),e.$handle.removeClass("is-open"),e.$handle.attr("aria-expanded","false"),e.enableBodyScrolling(),e.$submenu.one(lt,(function(){return e.closeAnimationEndHandler()})),e.submenuOpened=!1}},{key:"openAnimationEndHandler",value:function(){this.$submenu.removeClass("is-opening").addClass("is-open"),this.$submenu.attr("aria-hidden","false"),this.$submenu.off(lt)}},{key:"closeAnimationEndHandler",value:function(){this.$submenu.removeClass("is-closing"),this.$submenu.attr("aria-hidden","true"),this.$submenu.off(lt)}},{key:"disableBodyScrolling",value:function(){this.savedScrollPosition=dt.scrollTop(),ct.css("top",-1*this.savedScrollPosition),ct.addClass("app-header-open")}},{key:"enableBodyScrolling",value:function(){ct.removeClass("app-header-open"),dt.scrollTop(this.savedScrollPosition)}}]),e}(),ht="[".concat("data-app-header-menu","]"),pt=a()("body"),ft=function(e){return e.ui.userLoggedIn},mt=function(e){return null!==e.ui.userLoggedIn},vt=function(){function e(t,i){h()(this,e);this.store=i||Oe,this.connect=new Ie(this.store,["ui.userLoggedIn","ui.appHeader"]),this.$element=a()(t),this.$translateLink=this.$element.find("[data-app-header-menu-translate]"),this.translateLinkUrlPrefix=this.$translateLink.data("appHeaderMenuTranslateUrl"),this.subscribeToStore(),this.initMenu(),this.bindCustomEvents()}return f()(e,[{key:"bindCustomEvents",value:function(){var e=this;a()(document).on("updateTranslateLink",(function(t,i){e.updateTranslateUrl(i.url)}))}},{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t,i){var n=mt(t)&&mt(i);ft(t)!==ft(i)&&n&&e.fetchNewHeaderPartial(),t.ui.appHeader!==i.ui.appHeader&&e.updateHeader(t.ui.appHeader)}))}},{key:"fetchNewHeaderPartial",value:function(){return this.store.dispatch((function(e){return je.get("/navigation/topforasyncheader/").then((function(t){e({type:"get_header_as_partial_view",appHeader:t})}))}))}},{key:"updateHeader",value:function(e){this.$element.replaceWith(e),this.$element=pt.find("[data-app-header]"),this.initMenu()}},{key:"initMenu",value:function(){a()(ht).each((function(e,t){return new ut(t)}))}},{key:"updateTranslateUrl",value:function(e){this.$translateLink.attr("href",this.translateLinkUrlPrefix+encodeURIComponent(e))}}]),e}();a()("[data-app-header]").each((function(e,t){return new vt(t)}));i(45),i(26),i(49);function gt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function yt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var bt=function(){function e(t){h()(this,e),this.gtmDataLayer=t||window.gtmDataLayer}return f()(e,[{key:"isAvailable",value:function(){return void 0!==this.gtmDataLayer}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.event,i=void 0===t?"GAEvent":t,n=e.eventCategory,a=e.eventAction,o=e.eventLabel,s=e.eventValue,r=e.nonInteraction,l=void 0!==r&&r,c=ke()(e,["event","eventCategory","eventAction","eventLabel","eventValue","nonInteraction"]);if(this.isAvailable()){var d=yt({event:i,eventCategory:n,eventAction:a,eventLabel:o,eventValue:s,nonInteraction:l},c);this.gtmDataLayer.push(d)}}}]),e}(),wt=new bt,kt=(i(18),i(27),{setCookie:function(e,t,i,n){void 0===i&&(i=365),void 0===n&&(n="/");var a=new Date;a.setTime(a.getTime()+864e5*i),document.cookie=e+"="+t+";expires="+a.toUTCString()+";path="+n},getCookie:function(e,t){for(var i=decodeURIComponent(document.cookie).split(";"),n=e+"=",a=0;a<i.length;a++){for(var o=i[a];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return t}});function $t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ct(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var St=function(){function e(){h()(this,e)}return f()(e,null,[{key:"log",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error";window.DD_LOGS&&DD_LOGS.logger.log(e,{context:Ct({stack_trace:(new Error).stack},t)},i)}}]),e}(),Tt=function(){function e(t){var i=this;h()(this,e),this.element=t,this.cookies=kt,this.checkIfBlueSuitCookieExists()?this.logToGtmDataLayer():this.isLoggedInToFundadesk().then((function(e){e&&(i.logToGtmDataLayer(),i.cookies.setCookie("bs-cookie","true",100))})).catch((function(e){St.log(e,{function:"isLoggedInToFundadesk"})}))}return f()(e,[{key:"checkIfBlueSuitCookieExists",value:function(){return this.cookies.getCookie("bs-cookie")}},{key:"isLoggedInToFundadesk",value:function(){var e=this;return new Promise((function(t,i){return a.a.ajax({url:e.element.dataset.url+"lis",xhrFields:{withCredentials:!0},method:"GET",success:function(e){var i=parseInt(e);return t(1===i)},error:function(e){return i(e)}})}))}},{key:"logToGtmDataLayer",value:function(){this.gtmEventLogger=new bt,this.gtmEventLogger.log({eventCategory:"blue-s",eventAction:!0,eventLabel:"fd-user",nonInteraction:!0})}}]),e}();[].slice.call(document.querySelectorAll("[data-cookie-policy-current-version]")).forEach((function(e){return new Tt(e)}));var Et="[".concat("data-popover","]"),Ot="[".concat("data-popover-store-cookie-on-close","]");function xt(e){this.Cookies=kt,this.$element=a()(e);var t=this.$element.attr("data-popover");this.$triggerClose=a()("[".concat("data-popover-close",'="').concat(t,'"]')),this.cookie=this.$element.find(Ot).attr("data-popover-store-cookie-on-close"),this.bindEvents(),this.initializeVisibility()}xt.prototype.bindEvents=function(){var e=this;e.$triggerClose.click((function(){return e.hide()}))},xt.prototype.initializeVisibility=function(){a()("#content [data-notification]").length>0||this.cookieExists()?this.$element.addClass("is-hidden"):this.show()},xt.prototype.cookieExists=function(){return this.shouldDropCookieOnClose()&&this.Cookies.getCookie(this.cookie)||!1},xt.prototype.shouldDropCookieOnClose=function(){return void 0!==this.cookie&&this.cookie.length>0},xt.prototype.show=function(){this.$element.removeClass("is-hidden")},xt.prototype.hide=function(){this.isHidden()||(this.$element.addClass("is-hidden"),void 0!==this.cookie&&this.cookie.length>0&&this.Cookies.setCookie(this.cookie,"true",100))},xt.prototype.isHidden=function(){return this.$element.hasClass("is-hidden")},xt.initialize=function(){a()(Et).each((function(e,t){return new xt(t)}))},xt.initialize();var _t=function(){function e(t,i){h()(this,e),this.localStorage=t||window.localStorage,this.gtmDataLayer=i||window.gtmDataLayer}return f()(e,[{key:"isSupported",value:function(){try{var e="__storage_test__";return this.localStorage.setItem(e,e),this.localStorage.removeItem(e),!0}catch(e){return this.logErrorToGoogleAnalytics(e.message),!1}}},{key:"logErrorToGoogleAnalytics",value:function(e){void 0!==this.gtmDataLayer&&this.gtmDataLayer.push({event:"localStorageError",errorType:"localstorage-"+e})}},{key:"saveAsStringified",value:function(e,t){this.localStorage.setItem(e,JSON.stringify(t))}},{key:"getAsParsedJson",value:function(e){try{var t=JSON.parse(this.localStorage.getItem(e));return t||void 0}catch(e){return}}}]),e}(),It="floating-traffic-driver",Pt=function(){function e(t){h()(this,e),this.$element=a()(t),this.subject=this.$element.attr("data-subject"),this.$close=this.$element.find("[data-floating-traffic-driver-close]"),this.localStorage=new _t,this.attachWindowListener(),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$close.click((function(){return e.handleClose()}))}},{key:"attachWindowListener",value:function(){var e=this;this.storageExists()||(a()(window).on("floatingbannerslidein",(function(){return e.slideIn()})),a()(window).on("floatingbannerslideout",(function(){return e.slideOut()})))}},{key:"handleClose",value:function(){this.slideOut(),this.saveInLocalStorage()}},{key:"slideIn",value:function(){this.storageExists()||this.$element.addClass("fd-modal--open").addClass("slidein")}},{key:"slideOut",value:function(){var e=this;this.storageExists()||(this.$element.one("animationend",(function(){return e.handleSlideOutAnimateEnd()})),this.$element.removeClass("slidein"),this.$element.addClass("fd-modal--open").addClass("slideout"))}},{key:"handleSlideOutAnimateEnd",value:function(){this.$element.off("animationend"),this.$element.removeClass("fd-modal--open").removeClass("slideout")}},{key:"saveInLocalStorage",value:function(){var e=this.localStorage.getAsParsedJson(It)||{};e[this.subject]="dismissed",this.localStorage.saveAsStringified(It,e)}},{key:"storageExists",value:function(){var e=this.localStorage.getAsParsedJson(It);return void 0!==e&&void 0!==e[this.subject]}}]),e}();a()("[data-floating-traffic-driver]").each((function(e,t){return new Pt(t)}));i(157),i(60),i(61),i(36),i(62),i(50),i(68);var Lt=i(105),At=i.n(Lt),jt=Dt;function Dt(){}Dt.format=function(e,t){var i=e.toString();return i.length>3&&(i=i.replace(/(\d)(?=(?:[0-9]{3})+\b)/gm,"$1"+t)),i},Dt.parse=function(e){var t=e.toString();return t.length>3&&(t=t.replace(/[.,]/gm,"")),parseInt(t,10)};var Mt=38,Rt=40,Ft=13,Vt=37,Ht=39,Nt=27,Bt=8,zt=187,Ut=107,qt=16,Gt=17,Wt=224,Zt=91,Kt=function(){function e(t){h()(this,e);this.$element=a()(t),this.$form=this.$element.closest("form"),this.isAsync=this.$element[0].hasAttribute("data-autocomplete-is-async"),this.$input=this.$element.find("[data-autocomplete-input]"),this.$suggestions=this.$element.find("[data-autocomplete-suggestions]"),this.$list=this.$element.find("[data-autocomplete-list]"),this.$output=this.$element.find("[data-autocomplete-output]"),this.$clearHandle=this.$element.find("[data-autocomplete-clear]"),this.$plusHandle=this.$element.find("[data-autocomplete-plus]"),this.itemTemplate=this.$element.find("[data-autocomplete-item-template]").html(),this.minLength=this.$input.attr("data-autocomplete-minlength")||3,this.queryObjectIndex=0,this.query="",this.isOpen=!1,this.options=[],this.selectedIndex=-1,this.$autoCompleteUrl=this.$element.find("[data-autocomplete-url]"),this.$autoCompleteAltUrl=this.$element.find("[data-autocomplete-alt-url]"),this.url=this.$autoCompleteUrl.val(),this.altUrl=this.$autoCompleteAltUrl.val(),this.activeOptions=[],this.request=null,this.requestCount=0,this.firstSubmitAttempt=!1,this.trackComponentSelector=this.$element.attr("data-track-component-selector"),this.trackComponentValue=this.$element.attr("data-track-component-value"),this.context=this.$element.attr("data-autocomplete-context"),this.close(),this.bindEvents(),t.autoComplete=this,this.altSuggestionsIsOpen=!1,this.noSuggestionsFoundIsOpen=!1,this.separator=this.$element.attr("data-thousand-separator"),this.$radius=a()("#".concat("Straal")),this.$hiddenDivPlusIcon=this.$element.find("[data-autocomplete-hidden-div-plus-icon]")[0],this.setActiveOptions(),this.isZoekSuggestionPage=window.location.pathname.includes("zoeksuggestie")}return f()(e,[{key:"bindEvents",value:function(){var e=this,t=this;t.$plusHandle.on("click",(function(){t.$input.focus(),t.addPlus(t),t.synchroniseActiveOptions(),t.$plusHandle.addClass("is-hidden")})),t.$form.on("submit",(function(e){if(t.trackedComponentAllowsSubmit()&&!t.isValidLocation()&&!t.firstSubmitAttempt)return e.preventDefault(),t.searchAlternativeSuggestions(),t.altSuggestionsIsOpen=!0,!1})),t.$form.on("invalidlocation",(function(){t.$suggestions.addClass("has-no-suggestions"),t.isOpen||t.open()})),t.$input.on("blur",(function(){setTimeout((function(){return t.closeIfValidLocation()}),400)})),a()(document).on("resultsUpdated",(function(){e.$input.val()&&e.renderPlusIconButton()})),t.$input.on("keydown",(function(i){switch(i.keyCode){case Ft:return t.firstSubmitAttempt?(e.triggerSearchUpdate(),!1):t.selectedIndex>=0?(t.altSuggestionsIsOpen=!1,e.triggerSearchUpdate({isOpen:t.isOpen}),!1):t.options.length&&t.options[0].isExact&&!t.altSuggestionsIsOpen?(t.selectItem(0),t.altSuggestionsIsOpen=!1,e.triggerSearchUpdate({isOpen:t.isOpen}),!1):t.request&&"pending"===t.request.state()?(t.requestCount++,t.altSuggestionsIsOpen=!1,e.triggerSearchUpdate(),!1):(t.searchAlternativeSuggestions(),t.altSuggestionsIsOpen=!0,!1);case zt:case Ut:var n=e;return t.selectedIndex>=0?(t.altSuggestionsIsOpen=!1,t.addPlus(n),!1):t.options.length&&t.options[0].isExact&&!t.altSuggestionsIsOpen?(t.selectItem(0),t.altSuggestionsIsOpen=!1,t.addPlus(n),!1):t.request&&"pending"===t.request.state()?(t.requestCount++,t.altSuggestionsIsOpen=!1,t.addPlus(n),!1):t.$input.val().length>0?(t.altSuggestionsIsOpen=!1,t.addPlus(n),!1):(t.searchAlternativeSuggestions(),t.altSuggestionsIsOpen=!0,!1)}})),t.$input.on("keyup",(function(e){switch(t.setDirty(),e.keyCode){case qt:case Vt:case Ht:break;case Mt:t.isOpen&&t.selectPrevItem();break;case Rt:t.isOpen&&t.selectNextItem();break;case Bt:t.altSuggestionsIsOpen=!1,t.synchroniseActiveOptions(),t.search(),t.removePlusIconButton();break;case Nt:t.synchroniseActiveOptions(),t.close();break;case Ft:t.altSuggestionsIsOpen||(t.addNewActiveOption=!0,t.close());break;case zt:case Ut:t.altSuggestionsIsOpen||(t.addNewActiveOption=!0,t.close(),t.removePlusIconButton());break;case Gt:case Zt:case Wt:t.altSuggestionsIsOpen&&(t.altSuggestionsIsOpen=!1,t.close());break;default:t.altSuggestionsIsOpen?(t.altSuggestionsIsOpen=!1,t.close(),t.removePlusIconButton()):(t.synchroniseActiveOptions(),t.search(),t.setDummyOption(),t.removePlusIconButton())}})),this.bindAutoCompleteItemEvent(),t.$clearHandle.on("mousedown",(function(e){e.preventDefault()})).on("click",(function(){t.reset(),t.removePlusIconButton()})),t.$input.on("focus",(function(){t.setDirty()})),t.$input.on("focusout",(function(){1===e.$input.val().replace(/(\s+)?\+(\s+)?/g,"+").split("+").length&&(t.$element.trigger("searchQuerySet",{multiple:!1}),t.$element.removeClass("disable-radio-filter"))})),t.$element.on("reset",(function(){return t.reset()})),t.$autoCompleteUrl.on("change",(function(){t.url=t.$autoCompleteUrl.val()})),t.$autoCompleteAltUrl.on("change",(function(){t.altUrl=t.$autoCompleteAltUrl.val()})),t.$element.on("searchqueryupdated",(function(){t.isAsync&&t.$input.blur(),t.activeOptions.map((function(e,i){t.googleTagManagerLogger({action:t.context,label:"".concat(t.activeOptions[i].description,"=").concat(t.activeOptions[i].eventValue)})}))}))}},{key:"bindAutoCompleteItemEvent",value:function(){var e=this,t=this;t.$list.find("[data-autocomplete-list-item]").on("click",(function(i){var n=a()(i.currentTarget).index();t.selectItem(n),t.$input.focus(),e.triggerSearchUpdate({isOpen:t.isOpen}),t.close()}))}},{key:"triggerSearchUpdate",value:function(e){this.updateSearcHiddenFieldWithValidOptions(),this.cleanNotMatchedValuesFromActiveOptions(),this.$element.trigger("searchqueryupdated",e)}},{key:"cleanNotMatchedValuesFromActiveOptions",value:function(){this.activeOptions=this.activeOptions.filter((function(e){return 0!==e.id}))}},{key:"updateSearcHiddenFieldWithValidOptions",value:function(){var e="";this.activeOptions.map((function(t,i){0!==t.id&&(e+=0===i?t.id:","+t.id)})),this.$output[0].value=e}},{key:"trackedComponentAllowsSubmit",value:function(){if(void 0===this.trackComponentSelector)return!0;var e=a()(this.trackComponentSelector);if(1!==e.length)return!0;var t=e.val();return this.trackComponentValue===t}},{key:"renderPlusIconButton",value:function(){var e=this.$input[0].value;this.$hiddenDivPlusIcon.innerText=e,this.$hiddenDivPlusIcon.clientWidth>=this.$input[0].clientWidth-50||"Nederland"===e?this.removePlusIconButton():(this.$plusHandle[0].style.left=this.$hiddenDivPlusIcon.clientWidth+25+"px",this.$plusHandle.removeClass("is-hidden"))}},{key:"removePlusIconButton",value:function(){this.$plusHandle.addClass("is-hidden")}},{key:"reset",value:function(){this.$element.trigger("searchQuerySet",{multiple:!1}),this.$input.val(""),this.synchroniseActiveOptions(),this.setDirty(),this.close()}},{key:"addPlus",value:function(e){e.$input.val(e.$input.val().replace(/^\s+|\s?\+?\s+$/g,"")+" + ");var t=e.$input.val().length;e.$input.selectionStart=t,e.$input.selectionEnd=t,this.googleTagManagerLogger({action:"click_addlocation",label:"click_addlocation"})}},{key:"setActiveOptions",value:function(){var e=this,t=e.$input.attr("data-autocomplete-parent-id"),i=e.$input.attr("data-autocomplete-niveau-id"),n=e.$input.val(),a=n.replace(/(\s+)?\+(\s+)?/g,"+").split("+"),o=e.$output.val().split(",");a.forEach((function(n,a){e.activeOptions[a]={value:n,id:o[a],parentId:t,niveauId:i}})),""!==n&&this.renderPlusIconButton(),a.length>1&&(e.$element.trigger("searchQuerySet",{multiple:!0}),e.$element.addClass("disable-radio-filter"))}},{key:"setDirty",value:function(){""===this.$input.val()?this.$element.removeClass("is-dirty"):this.$element.addClass("is-dirty")}},{key:"getQueryObjectOnPosition",value:function(){for(var e,t=this.$input.val().split("+"),i=this.getCaretPosition(),n=0,a=0;a<t.length;a++){if((n+=t[a].length+1)>i){e=this.activeOptions[a],this.queryObjectIndex=a;break}}return e}},{key:"getQuery",value:function(){return this.caretPositionIsOnEnd()?(this.getQueryObjectOnPosition(),this.getLastValue()):this.getQueryObjectOnPosition().value}},{key:"getCaretPosition",value:function(){return this.$input[0].selectionStart}},{key:"caretPositionIsOnEnd",value:function(){return this.getCaretPosition()===this.$input.val().length}},{key:"open",value:function(){this.isOpen=!0,this.$element.addClass("is-open"),this.$list.addClass("is-open")}},{key:"close",value:function(){this.isOpen=!1,this.altSuggestionsIsOpen=!1,this.noSuggestionsFoundIsOpen=!1,this.$element.removeClass("is-open"),this.$list.removeClass("is-open")}},{key:"closeIfValidLocation",value:function(){this.noSuggestionsFoundIsOpen||this.close()}},{key:"shouldExpandIfMobile",value:function(e){return(window.innerWidth>0?window.innerWidth:screen.width)<=750&&""!==e[e.length-1]}},{key:"shouldNotExpandIfNotMultiplePlaces",value:function(e){return e.length<=1||2===e.length&&""===e[e.length-1]}},{key:"synchroniseActiveOptions",value:function(){var e=this,t=e.$input.val().replace(/(\s+)?\+(\s+)?/g,"+").split("+");"makelaar-searchresults"===window.gtmDataLayer[0].pagetype?e.$element.trigger("searchQuerySet",{disableRadioFilter:!0}):e.shouldExpandIfMobile(t)?(e.$element.trigger("searchQuerySet",{disableRadioFilter:!0}),e.isZoekSuggestionPage||e.$element.addClass("disable-radio-filter")):e.shouldNotExpandIfNotMultiplePlaces(t)?(e.$element.trigger("searchQuerySet",{disableRadioFilter:!1}),e.$element.removeClass("disable-radio-filter")):(e.$element.trigger("searchQuerySet",{disableRadioFilter:!0}),e.isZoekSuggestionPage||e.$element.addClass("disable-radio-filter"));var i=e.activeOptions.map((function(e,i){return t[i]&&t[i].trim()===e.value?e:{}})),n=[];e.activeOptions.forEach((function(e,a){i[a]===e?n.push(e):t[a]&&n.push({id:0,value:t[a]})})),e.activeOptions=n;var a=!At()(e.activeOptions,i);e.$output.val(""),e.firstSubmitAttempt=!1,n.forEach((function(t,i){0===i?e.$output[0].value=t.id:e.$output[0].value+=","+t.id})),""===t[t.length-1]&&(e.addNewActiveOption=!0),a&&e.setDummyOption()}},{key:"getLastValue",value:function(){var e=this.$input[0].value.replace(/(\s+)?\+(\s+)?/g,"+").split("+");return e[e.length-1]}},{key:"constructSuggestQueryUrl",value:function(e,t){var i=this.$output[0].value;return e.replace("{queryPlaceholder}",t).replace("{identifierPlaceholder}",i)}},{key:"search",value:function(){var e=this,t=this;if(t.$suggestions.removeClass("has-no-suggestions").removeClass("has-alt-suggestions"),t.query=t.getQuery(),t.query.length<t.minLength)t.close();else{t.selectedIndex=-1,t.options=[];var i=t.constructSuggestQueryUrl(t.url,t.query);t.$element.addClass("is-updating"),t.request=a.a.ajax({url:i,requestCount:++t.requestCount,dataType:"jsonp",success:function(i){t.requestCount===e.requestCount&&(t.options=t.transformResponse(i),t.renderList(),t.bindAutoCompleteItemEvent(),t.options.length?t.open():t.close())},error:function(e){t.options=[],t.renderList(),St.log(e,{function:"search"})}})}}},{key:"searchAlternativeSuggestions",value:function(){var e=this,t=this;if(t.query.length<t.minLength)t.close();else{t.selectedIndex=-1,t.options=[];var i=t.constructSuggestQueryUrl(t.altUrl,t.query);t.$element.addClass("is-updating"),t.request=a.a.ajax({url:i,requestCount:++t.requestCount,dataType:"jsonp",success:function(i){t.requestCount===e.requestCount&&(t.options=t.transformResponse(i),t.renderList(),t.noSuggestionsFoundIsOpen=!0,t.options.length?(t.$suggestions.addClass("has-alt-suggestions"),t.bindAlternativeSuggestionsItemClick()):(t.firstSubmitAttempt=!0,t.$suggestions.addClass("has-no-suggestions")),t.open())},error:function(){t.options=[],t.renderList()}})}}},{key:"bindAlternativeSuggestionsItemClick",value:function(){var e=this,t=this;t.$suggestions.find("[data-autocomplete-list-item]").on("click",(function(i){var n=a()(i.currentTarget).index();t.selectItem(n),t.$input.focus(),e.triggerSearchUpdate({isOpen:t.isOpen}),t.close()}))}},{key:"renderList",value:function(){var e=this,t=a()("<ul>");e.selectedIndex=-1,e.options.forEach((function(i,n){i.id=i.id||e.$list[0].id+"-option"+n,3!==i.niveauId&&5!==i.niveauId&&15!==i.niveauId&&(i.parentId="");var a=e.renderOption(i);t.append(a)}));var i=t.html();return e.$list.html(i),e.$element.removeClass("is-updating"),i}},{key:"renderOption",value:function(e){var t=this.itemTemplate;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t=t.replace("{"+i+"}",e[i]));return t=this.highlightMatches(t)}},{key:"selectPrevItem",value:function(){var e=this.selectedIndex-1;return e<0&&(e=this.options.length-1),this.selectItem(e)}},{key:"selectNextItem",value:function(){var e=this.selectedIndex+1;return e>this.options.length-1&&(e=0),this.selectItem(e)}},{key:"selectItem",value:function(e){var t=this.options[e];this.isDirty=!At()(this.selectedOption,t),this.selectedOption=t,this.selectedIndex=e;var i=this.$list.children();i.removeClass("is-selected"),i.eq(e).addClass("is-selected");var n,a={id:t.identifier,value:t.displayValue,parentId:t.parentId,niveauId:t.niveauId,description:t.description,eventValue:t.value};n=this.activeOptions.length>0?this.queryObjectIndex:0,this.activeOptions[n]=a,this.updateActiveOptions(),this.renderPlusIconButton()}},{key:"setDummyOption",value:function(){var e=this.$input.val(),t=e.replace(/(\s+)?\+(\s+)?/g,"+").split("+"),i=t[t.length-1];if(e.length>=this.minLength&&(this.isDirty=!0),i&&(!this.activeOptions.length||i.trim()!==this.activeOptions[this.activeOptions.length-1].value)){var n={id:0,value:i.replace(/^\s+/g,"")};if(this.addNewActiveOption)this.activeOptions.push(n),this.addNewActiveOption=!1;else{var a=this.activeOptions.length>0?this.activeOptions.length-1:0;this.activeOptions[a]=n}this.updateActiveOptions()}}},{key:"updateActiveOptions",value:function(){var e=this;e.activeOptions.forEach((function(t,i){0===i?(e.$input[0].value=t.value,e.$output[0].value=t.id):(e.$input[0].value+=" + "+t.value,e.$output[0].value+=","+t.id)}))}},{key:"googleTagManagerLogger",value:function(e){var t=e.action,i=e.label,n=this.$radius.val()||null;(new bt).log({event:"GAEvent",eventCategory:"interactions-search",eventAction:t,eventLabel:i,eventValue:n,nonInteraction:!1})}},{key:"transformResponse",value:function(e){var t=this,i=[];return e.Results.forEach((function(e){var n=e.GeoIdentifier,a=e.Display.Naam.replace("+"," "),o=e.Display.Niveau?e.Display.Niveau+" ":"",s=e.Display.Parent?", "+e.Display.Parent:"",r=e.Aantal?jt.format(e.Aantal,t.separator):"",l=o+a+s;i.push({identifier:n,value:a,label:a,description:e.Display.NiveauLabel+s,count:r,niveauId:e.Niveau,parentId:e.Parent,displayValue:l,isExact:e.Exact})})),i}},{key:"highlightMatches",value:function(e){var t=a()("<temp>").html(e),i=this.query.replace(/[()]/gi,"");return i=new RegExp(i,"ig"),t.find("[data-autocomplete-match]").each((function(e,t){var n=a()(t),o=n.html().replace(i,(function(e){return'<span class="is-match">'+e+"</span>"}));n.html(o)})),t.html()}},{key:"isValidLocation",value:function(){return!(!this.options.length||!this.options[0].isExact||this.altSuggestionsIsOpen)||"0"!==this.$output.val()}}]),e}();a()("[data-autocomplete]").each((function(e,t){return new Kt(t)}));i(219),i(84),i(51),i(323),i(103),i(118);var Yt=i(15),Jt=i.n(Yt),Qt=i(13),Xt=i.n(Qt),ei=(i(63),i(28)),ti=i.n(ei);function ii(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ni(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ii(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ai="[".concat("data-advertisements-async","]"),oi="data-advertisements-lazy-type",si="[".concat("data-advertisements","]:not([").concat(oi,'="event"])'),ri="[".concat("data-advertisements","][").concat(oi,'="event"]'),li="data-advertisement-adunit-path",ci=a()(window),di={home:{mobile:{fetching:25,rendering:20},tablet:{fetching:5,rendering:5},desktop:{fetching:5,rendering:5}},searchresults:{mobile:{fetching:15,rendering:10},tablet:{fetching:20,rendering:15},desktop:{fetching:20,rendering:15}},object:{mobile:{fetching:20,rendering:15},tablet:{fetching:15,rendering:10},desktop:{fetching:15,rendering:10}},kaart:{mobile:{fetching:25,rendering:20},tablet:{fetching:20,rendering:15},desktop:{fetching:20,rendering:15}}},ui=function(){function e(t,i,n){var o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body";h()(this,e),this.initializeGoogleTagListeners(),this.$elements=t,this.targetingCategories=JSON.parse(a()(s).find("[data-advertisement-targeting]").html()||"{}");var r=this.$elements[0],l=r.getAttribute(li).includes("koop");i?this.prepareSlot(this.$elements,n):window.googletag.cmd.push((function(){o.prepareSlot(o.$elements,n),o.enableAdService(l)}))}var t;return f()(e,[{key:"prepareSlot",value:function(e,t){var i=this;[].forEach.call(e,(function(e){var n=i.getAdConfig(e);e.id=n.id,n.lazyType===t&&i.getCategoriesAndPushSlot(e,n)}))}},{key:"enableAdService",value:function(e){var t=this.getDeviceType(),i=this.getPageType(),n=e?di[i][t].fetching:25,a=e?di[i][t].rendering:20;window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().enableLazyLoad({fetchMarginPercent:n,renderMarginPercent:a,mobileScaling:2}),window.googletag.enableServices()}},{key:"getAdConfig",value:function(e){var t=a()(e);return{id:t.attr("id")||"ad-"+(this.$elements.index(t)+1),adunitpath:t.attr(li),sizemapping:JSON.parse(t.attr("data-advertisement-size-mapping")),sizedefault:JSON.parse(t.attr("data-advertisement-size-default")),categoriesUrl:t.attr("data-advertisement-categories-url"),lok:t.attr("data-advertisement-lok"),lazyType:t.attr(oi)||"scroll",lazyRefreshInterval:t.attr("data-advertisements-lazy-refresh-interval")}}},{key:"getCategoriesAndPushSlot",value:(t=ti()(Xt.a.mark((function e(t,i){var n,o,s,r;return Xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a()(t)).hasClass("dfp-display-triggered")){e.next=3;break}return e.abrupt("return");case 3:return n.addClass("dfp-display-triggered"),e.next=6,ni({},this.targetingCategories,{},{lok:i.lok});case 6:o=e.sent,s=this.buildUnitTag(i),this.setAdomikReportingTargeting(s),r=this.setCategoriesOnAdUnit(s,o),this.pushAdSlot(i,r);case 11:case"end":return e.stop()}}),e,this)}))),function(e,i){return t.apply(this,arguments)})},{key:"buildUnitTag",value:function(e){var t=this.setAdUnit(e);if(void 0!==t)return t}},{key:"setCategoriesOnAdUnit",value:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.setTargeting(i,t[i]);return e}},{key:"pushAdSlot",value:function(e,t){var i=this;window.googletag.cmd.push((function(){window.googletag.display(e.id),i.refreshAdSlot(t)}))}},{key:"setAdUnit",value:function(e){if("function"==typeof window.googletag.defineSlot){var t=window.googletag.defineSlot(e.adunitpath,e.sizedefault,e.id).defineSizeMapping(e.sizemapping).setCollapseEmptyDiv(!0).addService(window.googletag.pubads());return e.lazyRefreshInterval&&t.setTargeting("refresh",e.lazyRefreshInterval),t}}},{key:"setAdomikReportingTargeting",value:function(e){var t=window.Adomik||{};void 0!==t.randomAdGroup&&(e.setTargeting("ad_group",t.randomAdGroup()),e.setTargeting("ad_h",t.hours))}},{key:"slotRenderedHandler",value:function(e){var t=e.slot.getSlotId(),i=a()("#"+t.getDomId());i.find("div[id^=google_ads_iframe]").length>0&&this.addClassNamesToSlot(i)}},{key:"slotViewableHandler",value:function(e){var t=this,i=e.slot,n=parseInt(i.getTargeting("refresh"),10);if("number"==typeof n&&n>0){this.refreshTimeout=this.refreshTimeout||{};var a=i.getSlotElementId();this.refreshTimeout[a]=window.setTimeout((function(){t.updateUnitPathAndRefreshSlot(a,i)}),1e3*n)}}},{key:"updateUnitPathAndRefreshSlot",value:function(e,t){var i,n=this;this.$elements.each((function(a,o){if(o.id==e){i=o,n.updateAdUnitPathOnRefresh(o);var s=n.getAdConfig(i);n.destroySlots([t]),n.getCategoriesAndPushSlot(t,s)}}))}},{key:"updateAdUnitPathOnRefresh",value:function(e){var t=e.getAttribute(li);if("r0"==t.split("_").pop()){var i=t.replace(/_r0/g,"_r1");e.setAttribute(li,i)}}},{key:"refreshAdSlot",value:function(e){window.googletag.pubads().refresh([e])}},{key:"addClassNamesToSlot",value:function(e){var t;t=a()(window).width()>=750?"slot-ad-desktop":"slot-ad-non-desktop",e.addClass("advertisement dfp-callback-successful ".concat(t)),a()(".search-ad").length&&e.parents(".search-ad").addClass("search-ad--loaded")}},{key:"destroySlots",value:function(e){return window.googletag.destroySlots(e)}},{key:"resumeRefreshInterval",value:function(e){var t=window.googletag.pubads().getSlots().find((function(t){return t.getSlotElementId()===e}));this.refreshTimeout&&this.refreshTimeout[e]&&this.refreshAdSlot(t)}},{key:"pauseRefreshInterval",value:function(e){this.refreshTimeout&&this.refreshTimeout[e]&&window.clearTimeout(this.refreshTimeout[e])}},{key:"initializeGoogleTagListeners",value:function(){var e=this;window.googletag&&"object"===Jt()(window.googletag.cmd)&&window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(t){e.slotRenderedHandler(t)})),window.googletag.pubads().addEventListener("impressionViewable",(function(t){e.slotViewableHandler(t)})),a()(window).on("media-viewer-fotos-opened-event",(function(){a()("[data-media-viewer-view-fotos] [data-advertisements]").attr("id")})),a()(window).on("media-viewer-closed-event",(function(){a()("[data-media-viewer-view-fotos] [data-advertisements]").attr("id")}))}))}},{key:"getDeviceType",value:function(){var e=navigator.userAgent.toLowerCase();if(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e))return"tablet";var t,i=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(i=!0),!0===i?"mobile":"desktop"}},{key:"getPageType",value:function(){return window.gtmDataLayer[0].pagetype}}],[{key:"populateCustomEvents",value:function(e){var t=new Set;return e.each((function(e,i){var n=a()(i).attr("data-advertisements-event-trigger")||null;null!=n&&t.add(n)})),Array.from(t).join(" ")}},{key:"destroyAllSlots",value:function(){"function"==typeof window.googletag.destroySlots&&window.googletag.destroySlots()}}]),e}();if(a()(si).length>0&&new ui(a()(si),!1,"scroll"),a()(ri).length>0){var hi=ui.populateCustomEvents(a()(ri));ci.one(hi,(function(e){return new ui(a()("".concat(ri,"[").concat("data-advertisements-event-trigger",'="').concat(e.type,'"]')),!1,"event")}))}a()(ai).length>0&&a()(document).on("resultsUpdated",(function(){ui.destroyAllSlots(),new ui(a()(ai),!0,"scroll")}));function pi(e){this.$element=a()(e),this.version=e.getAttribute("data-soort-notification-cookie-version"),this.soortAanbod=e.getAttribute("data-soort-notification-cookie-soortaanbod"),this.cookieName="notificationAcknowledged_sa_"+this.version,this.$closeButton=this.$element.find("[data-soort-notification-cookie-close]"),this.bindEventListeners()}pi.prototype.bindEventListeners=function(){var e=this;this.$closeButton.on("click",(function(t){return e.clickHandler(t)}))},pi.prototype.clickHandler=function(e){e.preventDefault(),this.acknowledgeNotification(),a()(document).find("[data-soort-notification-cookie]").toArray().forEach((function(e){return a()(e).addClass("is-acknowledged")}))},pi.prototype.acknowledgeNotification=function(){this.setCookie()},pi.prototype.setCookie=function(){var e=new Date;e.setFullYear(e.getFullYear()+1);var t=this.cookieName+"="+this.version+"; expires="+e.toGMTString()+"; path= /";return document.cookie=t,t},a()("[data-soort-notification-cookie]").each((function(e,t){return new pi(t)}));var fi=".js?rnd="+Math.random().toString();function mi(e){var t=e.getAttribute("data-notification-status-area"),i=e.getAttribute("data-notification-status-html"),n=e.getAttribute("data-notification-status-insert-top");this.statusDomain=e.getAttribute("data-funda-status-domain"),window.statusScriptSettings={options:{},site:"funda"},window.statusScriptSettings.options[t]=!0,i&&(window.statusScriptSettings.options.html=i),n&&"true"==n&&(window.statusScriptSettings.options.insertTop=!0),this.loadStatus()}mi.prototype.loadStatus=function(){var e=document.createElement("script"),t=document.body.appendChild(e),i="/js/"+window.statusScriptSettings.site+fi;e.setAttribute("defer","defer"),e.setAttribute("src",document.location.protocol+"//"+this.statusDomain+i),t.parentNode.insertBefore(e,t)},"[data-notification-status]".length&&a()("[data-notification-status]").each((function(e,t){return new mi(t)}));var vi=function(){function e(t){h()(this,e),this.$element=a()(t),this.$count=this.$element.find("[data-filter-count-number]"),this.initialCount=this.getInitialCount(),this.$label=this.$element.find("[data-filter-count-label]"),this.labelCountOne=this.$label.attr("data-filter-count-label-one"),this.labelCountMultiple=this.$label.attr("data-filter-count-label-multiple"),this.$form=this.$element.closest("form"),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;a()(document).on("setfiltercount",(function(t,i){return e.setCount(i.amount)}))}},{key:"getLabel",value:function(e){return 1===e?this.labelCountOne:this.labelCountMultiple}},{key:"setCount",value:function(e){this.initialCount>0?this.initialCount===e&&(this.initialCount=0):(this.count=e||0,this.$count.text(this.count),this.$label.text(this.getLabel(this.count)))}},{key:"getInitialCount",value:function(){return this.$count.length>0?parseInt(this.$count[0].innerText,10):0}}]),e}();a()("[data-filter-count]").each((function(e,t){return new vi(t)}));var gi=i(70),yi=i(34),bi=i.n(yi);i(327);function wi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ki(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wi(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}bi.a.use(gi.a);var $i={updateCounts:function(e,t){e.counts=t},updateFilter:function(e,t){var i=t.filterData;e.selectedFilters=ki({},e.selectedFilters,k()({},i.filterTitle,ki({},e.selectedFilters[i.filterTitle],{},i[i.filterTitle])))},removeFilter:function(e,t){var i=t.filterTitle,n=t.filterType;n?bi.a.delete(e.selectedFilters[i],n):bi.a.delete(e.selectedFilters,i)},addToSearchUrl:function(e,t){var i=t.filterData,n=t.filterType,a=ki({},e.searchUrl);i[i.filterTitle].data?i[i.filterTitle].data.map((function(e){a[e.input]=e.value})):i[i.filterTitle][n].data.map((function(e){a[e.input]=e.value})),e.searchUrl=a},removeFromSearchUrl:function(e,t){var i=t.input;bi.a.delete(e.searchUrl,i)},clearAllFilters:function(e){e.selectedFilters={},e.searchUrl={}}},Ci={requestData:function(){window.dispatchEvent(new window.CustomEvent("storeUpdated"))},updateFilterCounts:function(e,t){this.commit("updateCounts",t)},updateSelectedFilters:function(e,t){this.commit("updateFilter",t),this.commit("addToSearchUrl",t)},removeSelectedFilters:function(e,t){this.commit("removeFilter",t),this.commit("removeFromSearchUrl",t)},clearAllFilters:function(e,t){this.commit("clearAllFilters",t)}},Si=new gi.a.Store({state:{counts:{},selectedFilters:{},searchUrl:{}},mutations:$i,actions:Ci,strict:!1}),Ti=function(){function e(t,i){h()(this,e);this.store=i||Oe,this.$element=a()(t),this.$element.addClass("is-enhanced"),this.$form=this.$element.closest("form"),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;e.$resetElements=e.$form.find("[data-resettable]"),e.$element.on("click",(function(t){t.preventDefault(),e.store.dispatch(Ke()),e.$resetElements.trigger("resetfilter"),Si.dispatch("clearAllFilters")})),a()(document).on("setfiltercount",(function(t,i){var n=!0;i.amount>0&&(n=!1),e.$element.prop("disabled",n)}))}}]),e}();a()("[data-filter-reset]").each((function(e,t){return new Ti(t)}));var Ei=Oi;function Oi(e){var t=this;t.store=Oe,t.connect=new Ie(this.store,["ui.activeLocationId","searchFilter.freeTextSearch"]),t.vuexStore=Si,t.bindToElements(e),a()(window).on("sidebar-refresh",(function(){var e=a()("[data-applied-filters]");1==e.length&&t.bindToElements(e)})),t.subscribeToVueStore(),t.subscribeToStore(e)}Oi.prototype.subscribeToVueStore=function(){var e=this;this.vuexStore.subscribe((function(t){"clearAllFilters"===t.type&&e.removeAll()}))},Oi.prototype.subscribeToStore=function(){var e=this;this.connect.subscribe((function(t,i){var n=t.ui.activeLocationId;if(He(t)&&Ne(t,i)){var a=t.entities.personalPlaces[n].label||t.entities.personalPlaces[n].location,o={filterGroupId:i.ui.activeLocationId,filterGroupName:n,filterName:a,labelText:a};Oi.add(o,(function(){e.store.dispatch(Ke())}),!0)}null===n&&Oi.remove(i.ui.activeLocationId),t.searchFilter.freeTextSearch.length||i.searchFilter.freeTextSearch.map((function(e){Oi.remove(e.id)}))}))},Oi.prototype.bindToElements=function(e){var t=this;t.$element=a()(e),t.$items=t.$element.find("[data-applied-filter-list]"),t.$element.on("update",(function(){return t.updateState()})),t.$element.on("resetfilter",(function(){return t.removeAll()}))},Oi.prototype.removeAll=function(){this.$items.html(""),this.updateState()},Oi.prototype.updateState=function(){var e=this.$items.find("[data-remove-applied-filter]").length;a()(document).trigger("setfiltercount",{amount:e}),e>0?this.$element.removeClass("is-closing").addClass("is-visible"):this.$element.removeClass("is-visible").addClass("is-closing")},Oi.getButton=function(e){var t=a()("[data-applied-filter-template]").html(),i=null;if(void 0!==t){var n={id:{find:"{filterGroupId}",replace:e.filterGroupId},group:{find:"{filterGroupName}",replace:e.filterGroupName},option:{find:"{filterName}",replace:e.filterName},label:{find:"{combinedFilterName}",replace:e.labelText}};for(var o in n)void 0!==n[o].replace&&(i=new RegExp("("+n[o].find+")","gm"),t=t.replace(i,n[o].replace));return t}},Oi.add=function(e,t,i){i&&Oi.remove(e.filterGroupId);var n=Oi.getButton(e);a()("[data-applied-filter-list]").append(Oi.applyClearBinding(n,t)),a()("[data-applied-filters]").trigger("update")},Oi.remove=function(e){var t=a()('[data-applied-filter-list] [data-applied-filter-group-id="'+e+'"], [data-applied-filter-list] [data-applied-filter-group-name="'+e+'"]');t.length>0&&(t.detach(),a()("[data-applied-filters]").trigger("update"))},Oi.applyClearBinding=function(e,t){return a()(e).on("click",(function(e){return e.preventDefault(),t.apply(),!1}))},a()("[data-applied-filters]").each((function(e,t){return new Oi(t)}));var xi=13;function _i(e){this.$element=a()(e),this.$input=this.$element.find("[data-input-number-field]"),this.$mask=this.$element.find("[data-input-number-mask]"),this.separator=this.$element.attr("data-thousand-separator"),this.displayString=this.$element.attr("data-display-string")||"{value}",this.token="{value}",this.bindEvents()}_i.prototype.bindEvents=function(){var e=this;e.$input.on("keypress",(function(e){e.keyCode===xi&&(e.preventDefault(),a()(e.currentTarget).blur())})),e.$input.on("blur",(function(){e.updateMask()}))},_i.prototype.updateMask=function(){var e=this.$input.val();if(e>0){var t=jt.format(parseInt(e,10),this.separator),i=this.displayString.replace(this.token,t);this.$mask.text(i)}else this.$mask.text("")},a()("[data-input-number]").each((function(e,t){return new _i(t)}));var Ii=Pi;function Pi(e,t){this.$element=a()(e),this.$parent=t,this.$preset=this.$element.find("[data-range-filter-selector-preset]"),this.$custom=this.$element.find("[data-range-filter-selector-custom]"),this.$select=this.$element.find("[data-range-filter-selector-preset-select]"),this.$input=this.$element.find("[data-input-number-field]"),this.$clearCustomValue=this.$element.find("[data-range-filter-selector-clear-custom-value]"),this.defaultValue=this.$select.find("[data-range-filter-selector-default-value]").val(),this.defaultIndex=this.$select.find("[data-range-filter-selector-default-value]").index(),this.selectedIndex=this.$select[0].selectedIndex,this.valueIsDefault=this.isDefault(),this.bindEvents()}Pi.prototype.bindEvents=function(){var e=this;e.$input.on("blur",(function(){return e.updateCustomValueInput()})),e.$select.on("reset",(function(){return e.setDefault()})),e.$select.on("change",(function(t){return e.changedPresetValue(t)})),e.$clearCustomValue.on("click",(function(){return e.setDefault()}))},Pi.prototype.isDefault=function(){return this.defaultIndex===this.selectedIndex},Pi.prototype.setDefault=function(){this.removeValidation(),this.setPresetSelect(this.defaultValue),this.$input.val(""),this.$custom.addClass("is-inactive"),this.$preset.removeClass("is-inactive"),this.$parent.trigger("numberchanged")},Pi.prototype.setPresetSelect=function(e){this.$select.val(e),this.selectedIndex=this.$select[0].selectedIndex},Pi.prototype.getValue=function(){var e="other"===this.$select.val()?this.$input.val():this.$select.val();return e>0?parseInt(e,10):e},Pi.prototype.setValue=function(e){this.setPresetSelect("other"),this.$input.val(e),this.showCustomValue(),this.$input.blur(),this.$parent.trigger("numberchanged")},Pi.prototype.setValueDifference=function(e){var t=this.$select.find("option").filter((function(){return parseInt(a()(this).val(),10)>e}));t.length>0?this.setPresetSelect(t.first().val()):this.setPresetSelect(this.$select.find("option:last").val()),this.$parent.trigger("numberchanged")},Pi.prototype.changedPresetValue=function(e){var t=a()(e.currentTarget);if(this.selectedIndex=t[0].selectedIndex,"other"===t.val())return e.stopPropagation(),t.find('option[value="other"]').prop("selected",!0),void this.showCustomValue();this.$parent.trigger("numberchanged")},Pi.prototype.showCustomValue=function(){this.$preset.addClass("is-inactive"),this.$custom.removeClass("is-inactive"),this.$input.focus()},Pi.prototype.updateCustomValueInput=function(){""===this.$input.val()?this.setDefault():this.$parent.trigger("numberchanged")},Pi.prototype.setInvalid=function(){this.$element.addClass("is-invalid")},Pi.prototype.isInvalid=function(){return this.$element.hasClass("is-invalid")},Pi.prototype.removeValidation=function(){this.isInvalid()&&this.$element.removeClass("is-invalid")};var Li=function(){function e(t){h()(this,e),this.$element=a()(t),this.$form=a()("form"),this.$minContainer=this.$element.find("[data-range-filter-min] [data-range-filter-selector]"),this.$maxContainer=this.$element.find("[data-range-filter-max] [data-range-filter-selector]"),this.min=new Ii(this.$minContainer,this.$element),this.max=new Ii(this.$maxContainer,this.$element),this.filterGroupId=this.$element.attr("data-filter-name"),this.filterGroupName=this.$element.attr("data-filter-name"),this.separator=this.$element.attr("data-thousand-separator"),this.displayString=this.$element.attr("data-display-string")||"&euro; {value}",this.rangeFilterInputLabelString=this.$element.attr("data-label-text")||"",this.token="{value}",this.currentRange=null,this.isInitiated=!1,this.$rangeFlyout=this.$element.find("[data-filter-flyout-range]"),this.bindEvents(),this.adjustFilter()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$element.on("resetfilter",(function(){e.reset()})),this.$element.on("numberchanged",(function(){e.adjustFilter()})),this.$rangeFlyout.on("calculatorsurfacerange",(function(t,i){e.min.setValue(i.min),e.max.setValue(i.max)})),this.isInitiated=!0}},{key:"addToken",value:function(e,t){if(t)return this.displayString.replace(this.token,e);var i=jt.format(e,this.separator);return this.displayString.replace(this.token,i)}},{key:"addFilter",value:function(e){var t=this,i={filterGroupId:this.filterGroupId,filterGroupName:this.filterGroupName,filterName:e,labelText:e+" "+this.rangeFilterInputLabelString};Ei.add(i,(function(){t.reset(t)}),!0)}},{key:"adjustFilter",value:function(){if(this.isValidRange()){var e=0,t=this.min.getValue(),i=this.max.getValue(),n=jt.format(t||"",this.separator);if("ignore_filter"===i&&t>0)e=this.addToken(n+"+",!0);else if("ignore_filter"!==i&&i>0){var a=jt.format(i,this.separator);e=this.addToken(n,!0)+" - "+this.addToken(a,!0)}this.isInitiated&&this.currentRange!==e&&this.$element.trigger("rangechanged"),0!==e&&"0"!==e?this.addFilter(e):Ei.remove(this.filterGroupId),this.currentRange=e}}},{key:"setRangeDifference",value:function(){var e=this.min.getValue();this.max.setValueDifference(e)}},{key:"isValidRange",value:function(){return this.min.getValue()>this.max.getValue()?(this.max.setInvalid(),this.bindFormChangeEvent(),!1):(this.max.removeValidation(),this.unbindFormEvent(),!0)}},{key:"reset",value:function(e){var t=e||this;t.min.setDefault(),t.max.setDefault()}},{key:"unbindFormEvent",value:function(){this.$form.off("change.external")}},{key:"bindFormChangeEvent",value:function(){var e=this;this.$form.on("change.external",(function(t){1!==a()(t.target).closest("[data-range-filter]").length&&e.formChanged()}))}},{key:"formChanged",value:function(){this.min.getValue()>this.max.getValue()&&this.max.isInvalid()&&this.setRangeDifference()}},{key:"isVisible",value:function(){return this.$element.is(":visible")}}]),e}();a()("[data-range-filter]").each((function(e,t){return new Li(t)}));var Ai=function(){var e={},t=[],i={};return e.listen=function(e,n){var a,o;void 0===n?(a=e,t.push(a)):(a=n,void 0===i[o=e]&&(i[o]=[]),i[o].push(a))},e.notify=function(e,n){for(var a=0;a<t.length;a++)t[a](e,n);if(void 0!==e&&void 0!==i[e])for(var o=0;o<i[e].length;o++)i[e][o](n)},e};var ji=function(){var e={},t=[],i=0;function n(e,n){1!==e.length&&St.log("For binding a controller we need to have exactly one html, but we have ".concat(e.length),{function:"getControllerBy$element",element:e,selector:n.getSelector()});var a=e.data("controller-uid");return void 0===a&&(a=i++,t[a]=new n(e),e.attr("data-controller-uid",a)),t[a]}return e.getInstance=function(e,t){return n(function(e,t){return"function"==typeof t.getSelector?a()(e).find(t.getSelector()):a()(e)}(t,e),e)},e.getAllInstances=function(e,t){var i=e.getSelector(),o=[];return(void 0===t?a()(i):a()(t).find(i)).each((function(t,i){return o.push(n(a()(i),e))})),o},e}(),Di=Ri,Mi=a()("body");function Ri(e){var t=this;this.$element=a()(e),this.expandibleId=this.$element.attr("data-expandible")||!1,this.expandibleOnBlur=this.$element.attr("data-expandible-on-blur")||!1,this.isExpanded=this.$element.hasClass("is-expanded"),this.$handlesOutside=a()(),this.hasNestedExpandible=this.$element.find("[data-expandible]").length>0,this.hasHandleOutside=!!this.expandibleId,this.observers=new Ai,this.onChange=function(e){t.observers.listen(e)},this.expandibleId&&(this.$handlesOutside=Mi.find('[data-expandible-handle="'+this.expandibleId+'"]')),this.expandibleOnBlur&&Mi.on("click",(function(e){var i=t.$handlesOutside.is(e.target),n=t.$element.is(e.target),o=0!==a()(e.target).closest(t.$element).length;!t.isExpanded||i||n||o||t.toggleExpand()})),this.$element.addClass("is-expandible"),this.toggleExpand(this.isExpanded),this.hasNestedExpandible||this.hasHandleOutside||this.$element.on("click","[data-expandible-handle]",(function(e){void 0!==a()(e.target).attr("data-prevent-default")&&e.preventDefault(),t.toggleExpand()})),this.expandibleId&&Mi.on("click",'[data-expandible-handle="'+this.expandibleId+'"]',(function(e){void 0!==a()(e.target).attr("data-prevent-default")&&e.preventDefault(),t.toggleExpand()})),this.$element.on("expandibletoggle",(function(e,i){return t.toggleExpand(i)}))}Ri.prototype.toggleExpand=function(e){return this.isExpanded=void 0!==e?e:!this.isExpanded,this.$element.toggleClass("is-expanded",this.isExpanded),this.$handlesOutside.toggleClass("is-expanded",this.isExpanded),this.$element.attr("aria-expanded",this.isExpanded),this.$handlesOutside.attr("aria-expanded",this.isExpanded),this.$element.trigger(this.isExpanded?"expandibleopened":"expandibleclosed"),this.observers.notify(this.isExpanded),this.isExpanded},Ri.getSelector=function(){return"[data-expandible]"},Ri.initialize=function(){return ji.getAllInstances(Ri)},Ri.initialize();var Fi=i(22),Vi=i.n(Fi);function Hi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=this;i.element=e,i.$form=a()(i.element).find("form"),i.handle=i.element.querySelectorAll("[data-partial-page-update-handle]"),i.url=i.element.dataset.partialPageUpdate,i.outputs=i.element.querySelectorAll("[data-partial-page-update-output]"),i.ajax=t,i.outputMap={},i.outputs.forEach((function(e){var t=e.dataset.partialPageUpdateOutput;i.outputMap[t]=e})),i.bindEvents(),window.history.replaceState("push_state_set_by_funda",window.title)}Hi.prototype.bindEvents=function(){var e=this;e.handle.forEach((function(t){t.addEventListener("change",Vi()((function(){e.doRequest()}),500,{leading:!0}))}))},Hi.prototype.doRequest=function(){var e=this,t=e.$form.serialize();a()(document).trigger("resultsUpdating"),e.request&&e.request.abort(),e.request=e.ajax({url:e.url+"?ajax=true",method:"GET",data:t,timeout:3e4,success:function(t){return e.successHandler(t)}})},Hi.prototype.successHandler=function(e){this.updatePartialPage(e)},Hi.prototype.updatePartialPage=function(e){document.title=e.title,this.updateHistory(e.url),this.renderOutputResults(e),a()(document).trigger("resultsUpdated")},Hi.prototype.renderOutputResults=function(e){var t=e.content;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&this.outputMap[i]&&null!==t[i])if("INPUT"===this.outputMap[i].tagName)this.outputMap[i].value=t[i],this.outputMap[i].dispatchEvent(new Event("change"));else if("contentPlatformLink"===i){var n=a()(this.outputMap[i]).find("[data-text-container]"),o=a()(t[i]).find("[data-text-container]");n[0].innerHTML=o[0].innerHTML}else this.outputMap[i].innerHTML=t[i]},Hi.prototype.updateHistory=function(e){window.history.pushState("push_state_set_by_funda",window.title,e),a()(document).trigger("updateTranslateLink",[{url:e}])},a()("[data-partial-page-update]").each((function(e,t){return new Hi(t)}));function Ni(e){var t=this;t.$element=a()(e),t.$select=t.$element.find("select"),t.$form=t.$element.closest("form"),t.$autocomplete=t.$form.find("[data-autocomplete]"),t.$autocomplete.hasClass("disable-radio-filter")&&t.setDisabled(!0),t.$autocomplete.on("reset",(function(){t.$select[0].selectedIndex=0})),t.$select.on("change",(function(){var e=+t.$select.val();a()(document).trigger("changeRadius",{selectedRadius:e})})),a()(document).on("changeBuurt",(function(e,i){t.setDisabled(i.selectedFilterCount>1)})),t.$autocomplete.on("searchQuerySet",(function(e,i){t.setDisabled(i.disableRadioFilter)}))}Ni.prototype.setDisabled=function(e){e?(this.$select.attr("disabled",!0),this.$element.addClass("is-hidden"),this.$element.addClass("is-disabled"),this.$select[0].selectedIndex=0):(this.$select.removeAttr("disabled"),this.$element.removeClass("is-disabled"),this.$element.removeClass("is-hidden"))},a()("[data-input-radius]").each((function(e,t){return new Ni(t)}));var Bi=zi;function zi(e){this.$element=a()(e),this.sourceUrl=this.$element.attr("data-request-url"),this.$handler=this.$element.find("[data-instant-search-handle]"),this.$selectedOption=this.$element.find("[data-selected-option]"),this.$optionsList=this.$element.find("[data-selectbox-list]"),this.isOpen=!1,this.selectedIndex=-1,this.placeholder=this.$element.attr("data-custom-select-placeholder"),this.noOptions=this.$element.attr("data-custom-select-nooptions"),this.init()}zi.prototype.init=function(){this.$selectedOption.html(this.placeholder),this.sourceUrl?this.fetchOptions():this.fetchOptionsFromPage(),this.checkOptions(),this.bindEvents()},zi.prototype.renderOptionsList=function(){var e=this;e.$optionsList.html(""),e.selectedIndex=-1,e.options.forEach((function(t){var i=e.renderOption(t);e.$optionsList.append(i)}))},zi.prototype.renderOption=function(e){var t='<li role="option"\n    id="{Id}"\n    data-selectbox-option-display-value="{Value}"\n    class="selectbox-option">\n    <span class="selectbox-label" data-selectbox-match>{Label}</span>\n    <div class="selectbox-option-count">{ResultCount}</div>\n</li>';for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t=t.replace("{"+i+"}",e[i]));return t},zi.prototype.fetchOptions=function(){var e=this;a.a.ajax({url:e.sourceUrl,success:function(t){e.options=Array.isArray(t)?t:[],e.renderOptionsList(),e.handleZeroResults()},error:function(){e.options=[],e.$selectedOption.html(e.noOptions)}})},zi.prototype.handleZeroResults=function(){this.$optionsList.find("li").each((function(e,t){var i=a()(t),n=a()(i.find(".selectbox-option-count")).html();0==parseInt(n,8)&&i.addClass("no-results")}))},zi.prototype.fetchOptionsFromPage=function(){this.options=a()(".selectbox-list").find("li").map((function(){var e={};e.Id=a()(this).attr("id"),e.Value=a()(this).data("selectboxOptionDisplayValue");var t=a()(this).children();return void 0!==t&&(void 0!==t[0]&&(e.Label=a()(this).children()[0].textContent),void 0!==t[1]&&(e.ResultCount=a()(this).children()[1].textContent)),e}))||[]},zi.prototype.checkOptions=function(){var e=this.$optionsList.find(".selectbox-option.is-selected");e.length&&this.selectOption(e.index())},zi.prototype.bindEvents=function(){this.bindSelectboxEvent(),this.bindSelectOptionEvent(),this.bindClickOutsideEvent()},zi.prototype.bindSelectboxEvent=function(){var e=this;e.$selectedOption.on("click",(function(){e.isOpen?e.closeOptions():e.openOptions()}))},zi.prototype.openOptions=function(){this.isOpen=!0,this.$element.addClass("is-open"),this.$optionsList.addClass("is-open")},zi.prototype.closeOptions=function(){this.isOpen=!1,this.$element.removeClass("is-open"),this.$optionsList.removeClass("is-open")},zi.prototype.bindSelectOptionEvent=function(){var e=this;e.$optionsList.on("click","li",(function(t){var i=a()(t.currentTarget).index();e.selectOption(i),e.updatePage(),e.closeOptions()}))},zi.prototype.selectOption=function(e){var t=this.options[e];this.selectedOption=t,this.selectedIndex=e;var i=this.$optionsList.children();i.removeClass("is-selected"),i.eq(e).addClass("is-selected"),this.$selectedOption.html(t.Label)},zi.prototype.updatePage=function(){this.$handler.val(this.selectedOption.Value),this.$handler.trigger("change")},zi.prototype.bindClickOutsideEvent=function(){var e=this;a()(document).on("click",(function(t){0===a()(t.target).closest(".custom-select-box").length&&e.closeOptions()}))},a()("[data-custom-select-box]").each((function(e,t){return new zi(t)}));var Ui=function(){function e(t){h()(this,e),this.$element=a()(t),this.$form=this.$element.find("[data-search-block-form]"),this.$autocomplete=this.$element.find("[data-autocomplete]"),this.$soortAanbodSelect=this.$form.find("[data-search-block-soort-aanbod-selector]")}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$autocomplete.on("searchqueryupdated",(function(t,i){void 0!==i&&i.isOpen||e.$form.submit()})),this.$soortAanbodSelect.on("mousedown.removeSelectPlaceholder",this.removeSelectPlaceholder),this.$soortAanbodSelect.on("keydown.removeSelectPlaceholder",this.removeSelectPlaceholder),this.$soortAanbodSelect.on("change.removeSelectPlaceholder",this.removeSelectPlaceholder)}},{key:"removeSelectPlaceholder",value:function(){var e=a()(this),t=e.find("[data-search-block-select-placeholder]").get(0);t&&t.remove(),e.off(".removeSelectPlaceholder")}}]),e}();a()("[data-search-block]").each((function(e,t){new Ui(t).bindEvents()}));var qi=i(241),Gi=i.n(qi);function Wi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var Zi=function(e,t,i,n,a,o){if(t=t||{},void 0!==(n=n||window.analytics))if(e){var s;a=a||(null===(s=document.querySelector("[data-tracking-global-properties]"))?{}:JSON.parse(s.innerHTML)),i||(o=o||function(){var e=document.querySelectorAll("[data-tracking-properties]");if(0===e.length)return{};var t={};return e.forEach((function(e){t=Gi()(t,JSON.parse(e.innerHTML),(function(e,t){return Array.isArray(e)?e.concat(t):e}))})),t}());var r=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Wi(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},a,{},o||{},{},t);n.track(e,r)}else St.log("Event is empty",{function:"track"});else(function(){var e=kt.getCookie("OptanonConsent");if(!e)return!1;var t=e.split("&").map((function(e){return e.split("=")})).filter((function(e){return"groups"===e[0]}))[0][1];return!!t&&"1"===decodeURIComponent(t).split(",")[2].split(":")[1]})()&&document.getElementById("krnomhVATBFQ")&&St.log('Segment is not loaded when executing "'.concat(e,'" event'),{eventKey:e,function:"track"})},Ki="[".concat("data-track-click","]"),Yi=function(){function e(){h()(this,e)}return f()(e,null,[{key:"getEventName",value:function(e){var t=e.attr("data-track-click");return t||(St.log("There is no event with key ".concat(t),{function:"TrackingClick"},"warn"),null)}},{key:"getProps",value:function(e){var t=e.attr("data-track-props");return t?JSON.parse(t):{}}},{key:"onClick",value:function(t){var i=a()(t),n=void 0!==i.attr("data-track-exclude-page-properties"),o=e.getEventName(i);o&&Zi(o,e.getProps(i),n)}}]),e}();a()(document).on("click",Ki,(function(e){Yi.onClick(e.currentTarget)}));var Ji="[".concat("data-tooltip-inline","]");function Qi(e){var t=this;t.$element=a()(e),t.$handler=this.$element.find("[data-tooltip-handle]"),this.$handler.on("click",(function(e){return t.open(e)})),t.content=this.$element.attr("title"),t.createTooltip()}Qi.prototype.open=function(e){var t=this;e.preventDefault(),e.stopPropagation(),t.$element.addClass("is-expanded"),this.$handler.off("click"),a()(window).on("click",(function(e){return t.close(e)}))},Qi.prototype.close=function(e){var t=this;e.stopPropagation(),t.$element.removeClass("is-expanded"),this.$handler.on("click",(function(e){return t.open(e)}))},Qi.prototype.createTooltip=function(){this.$tooltip=a()("<div/>"),this.$tooltip.addClass("tooltip__content"),this.$tooltip.html(this.content),this.$element.append(this.$tooltip)},a()(Ji).each((function(e,t){return new Qi(t)}));function Xi(e){this.$element=a()(e),this.initialInfo=void 0,this.removeTitle(),this.bindEvents()}Xi.prototype.bindEvents=function(){var e=this;a()(window).on("resize click",(function(){return e.tooltipHandler()}))},Xi.prototype.tooltipHandler=function(){if(this.$element.hasClass("is-expanded")){var e=this.getUpdateDescriptor();this.updateTooltip(e)}},Xi.prototype.getUpdateDescriptor=function(){var e;if(!(a()("body").outerWidth()<500)){if(this.doesInitialTooltipFitInCurrentWindow())e={isBottom:this.initialInfo.isBottom,isReversed:this.initialInfo.isReversed};else{e=this.getCurrentTooltipDescriptor();var t=this.getTooltipAbsolutePosition(e);t.bottom<0&&e.isBottom?e.isBottom=!1:t.top<0&&!e.isBottom&&(e.isBottom=!0),t.left<0&&e.isReversed?e.isReversed=!1:t.right<0&&!e.isReversed&&(e.isReversed=!0)}return e}},Xi.prototype.doesInitialTooltipFitInCurrentWindow=function(){this.initialInfo||(this.initialInfo=this.getCurrentTooltipDescriptor());var e=this.getTooltipAbsolutePosition(this.initialInfo);return e.top>0&&e.bottom>0&&e.left>0&&e.right>0},Xi.prototype.getCurrentTooltipDescriptor=function(){var e=window.getComputedStyle(this.$element[0],":after");return{isReversed:this.$element.hasClass("reverse"),isBottom:this.$element.hasClass("bottom"),width:parseInt(e.width,10),height:parseInt(e.height,10),topFromParent:parseInt(e.top,10),leftFromParent:parseInt(e.left,10)}},Xi.prototype.getTooltipAbsolutePosition=function(e){var t=a()("body"),i=this.$element.offset().top+e.topFromParent,n=this.$element.offset().left+e.leftFromParent;return{top:i,left:n,right:t.width()-e.width-n,bottom:t.height()-e.height-i}},Xi.prototype.updateTooltip=function(e){"object"===Jt()(e)&&void 0!==e.isBottom&&void 0!==e.isReversed&&(e.isBottom?this.$element.addClass("bottom"):this.$element.removeClass("bottom"),e.isReversed?this.$element.addClass("reverse"):this.$element.removeClass("reverse"))},Xi.prototype.removeTitle=function(){var e=this.$element.attr("title");this.$element.attr("title",""),this.$element.attr("data-title",e)},a()("[data-tooltip]").each((function(e,t){return new Xi(t)}));function en(e){var t=this;t.$element=a()(e),t.container=a()("[data-aanmeld-invoice-container]"),t.inputs=t.container.find("[data-aanmeld-invoice-inputs]"),t.$element.on("change",(function(){return t.toggleActive(!e.checked)})),t.toggleActive(!e.checked)}en.prototype.toggleActive=function(e){this.container.toggleClass("is-hidden",e),this.inputs.attr("required",!e)},a()("[data-aanmeld-invoice]").each((function(e,t){return new en(t)}));function tn(e){this.$element=a()(e),this.bindEvents(),this.updateHeight()}tn.prototype.bindEvents=function(){var e=this;a()(window).on("resize click",(function(){return e.updateHeight()})),setInterval((function(){return e.updateHeight()}),500)},tn.prototype.updateHeight=function(){var e=50+this.$element.height();e!==this.Height&&(this.Height=e,window.parent.postMessage("height="+e,"*"))},a()("[data-iframe-height-updater]").each((function(e,t){return new tn(t)}));function nn(e){this.$element=a()(e),this.bindEvents()}nn.prototype.bindEvents=function(){var e=this;e.$element.on("change",(function(){return e.changeHandler()}))},nn.prototype.changeHandler=function(){this.loadUrl(this.$element.find(":selected").val())},nn.prototype.loadUrl=function(e){window.location=e},a()("[data-auto-dropdown]").each((function(e,t){return new nn(t)}));var an=sn,on="[data-".concat("async-url-add-param","]");function sn(e){this.$element=a()(e),this.parameter=this.$element.data("async-url-add-param"),this.bindEvents()}sn.prototype.bindEvents=function(){var e=this;e.$element.on("click",(function(t){return an.addParam(e.parameter,t)}))},sn.addParam=function(e,t){"object"===Jt()(t)&&"function"==typeof t.preventDefault&&t.preventDefault();var i=an.getUrl(),n=i+(i.indexOf("?")<0?"?":"&")+e;an.setUrl(n)},sn.getUrl=function(){return window.location.href},sn.setUrl=function(e){window.location.href=e},sn.initialize=function(){a()(on).each((function(e,t){return new sn(t)}))},sn.initialize();var rn=cn,ln="[data-".concat("async-url-remove-param","]");function cn(e){this.$element=a()(e),this.parameter=this.$element.data("async-url-remove-param"),this.bindEvents()}cn.prototype.bindEvents=function(){var e=this;e.$element.on("click",(function(t){return rn.removeParam(e.parameter,t)}))},cn.removeParam=function(e,t){"object"===Jt()(t)&&"function"==typeof t.preventDefault&&t.preventDefault();var i=rn.getUrl().split("?"),n=i[0],a=i[1];"string"==typeof a&&((a=a.replace(e,"").replace("&&","&")).length>0&&"&"==a[0]&&(a=a.substr(1)),a.length>0&&"&"==a[a.length-1]&&(a=a.substr(0,a.length-1)),a.length>0&&(n+="?"+a)),rn.setUrl(n)},cn.getUrl=function(){return window.location.href},cn.setUrl=function(e){window.location.href=e},cn.initialize=function(){a()(ln).each((function(e,t){return new cn(t)}))},cn.initialize();function dn(e){var t=this;t.$element=a()(e),t.url=t.$element.attr("data-log-request"),t.url&&0!==t.url.length&&t.$element.on("click",(function(e){var i=a()(e.target);i.data("logged")||(a.a.ajax(t.url),i.data("logged",!0))}))}a()("[data-log-request]").each((function(e,t){return new dn(t)}));var un=function(){function e(t){h()(this,e),this.$element=a()(t),this.$element.addClass("is-enhanced"),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$element.find("[data-object-contact-phone-handle]").on("click","button",(function(t){return e.onShowPhoneNumberClick(t.currentTarget)})),this.$element.find("[data-contact-brochure]").click((function(t){return e.setTracking(t.currentTarget,"Brochure Request Clicked")})),this.$element.find("[data-contact-broker]").click((function(t){return e.setTracking(t.currentTarget,"Contact Request Clicked")})),this.$element.find("[data-contact-viewing]").click((function(t){return e.setTracking(t.currentTarget,"Viewing Request Clicked")}))}},{key:"onShowPhoneNumberClick",value:function(e){var t=a()(e).parent(),i=a()(e),n=t.find("a");t.addClass("is-clicked"),n.addClass("is-shown"),setTimeout((function(){i.addClass("is-clicked")}),0)}},{key:"setTracking",value:function(e,t){var i=a()(e).closest("[".concat("data-broker-id","]")).attr("data-broker-id");Zi(t,{lead_broker_id:i?parseInt(i):null,navigation_trigger:"listing_contact_container"})}}]),e}();a()("[data-object-contact]").each((function(e,t){return new un(t)}));var hn=pn;function pn(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};a.a.get({url:t,crossDomain:!0,dataType:"html",success:function(t,i,n){pn.showData(e,t),204==n.status&&pn.hideWidget(e)},error:function(){pn.hideWidget(e)},complete:i})}pn.showData=function(e,t){a()(e).html(t)},pn.hideWidget=function(e){a()(e).addClass("is-hidden")};var fn="[".concat("data-track-viewed-event","]"),mn="[".concat("data-track-clicked-event","]"),vn=function(){function e(t){h()(this,e),this.$element=a()(t),this.$radioButtons=this.$element.find("[data-radio-button]"),this.$fieldsets=this.$element.find("[data-fieldset]");var i=this.$element.find("[data-campaign-id]").val();this.trackingProps={campaign_id:isNaN(i)?null:parseInt(i),mortgage_name:this.$element.find("[data-campaign-name]").val()},this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$radioButtons.click((function(t){return e.handleRadioButtonSelected(t.target)}));var t=this.$element.closest(fn).attr("data-track-viewed-event");Zi(t,this.trackingProps)}},{key:"handleRadioButtonSelected",value:function(e){var t=a()(e),i=t.parents("[data-fieldset]");if(this.resetSelection(),i.addClass("selected"),"true"===t.val()){var n=this.$element.closest(mn).attr("data-track-clicked-event");Zi(n,this.trackingProps)}}},{key:"resetSelection",value:function(){this.$fieldsets.removeClass("selected")}}]),e}();a()("[data-hypotheek-advies-alternative]").each((function(e,t){return new vn(t)}));var gn=function(){yn.prototype.handleComplete()};function yn(e){this.urlFeed=e.getAttribute("data-content-fetch-url"),hn(e,this.urlFeed,gn)}yn.prototype.handleComplete=function(){var e=this;a()("[data-hypotheek-advies-box]").each((function(t,i){e.toggleForm(a()(i))})),a()("[data-hypotheek-advies-alternative]").each((function(e,t){return new vn(t)}))},yn.prototype.toggleForm=function(e){this.$trigger=e.find("[data-hypotheek-advies-handle]"),this.$target=e.find("[data-hypotheek-advies-target]"),this.$inputs=this.$target.find("input"),this.handleChange(this.$trigger,this.$inputs)},yn.prototype.handleChange=function(e,t){var i=this;e.on("change",(function(){a()(this).is(":checked")?i.checkedFeedback(t):i.unCheckedFeedback(t)}))},yn.prototype.checkedFeedback=function(e){a()(e).parents("[data-hypotheek-advies-box]").addClass("is-expanded"),e.prop("required",!0)},yn.prototype.unCheckedFeedback=function(e){a()(e).parents("[data-hypotheek-advies-box]").removeClass("is-expanded"),e.prop("required",!1)},a()("[data-hypotheek-advies]").each((function(e,t){return new yn(t)}));function bn(e){var t=this;t.$element=a()(e),t.$itemCopyLink=t.$element.find("[data-object-share-menu-copy-link]"),t.$itemCopyLink.on("click",(function(e){e.preventDefault(),function(e){var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre";var i=document.createElement("iframe");i.sandbox="allow-same-origin",document.body.appendChild(i);var n=i.contentWindow;n.document.body.appendChild(t);var a=n.getSelection();a||(n=window,a=n.getSelection(),document.body.appendChild(t));var o=n.document.createRange();a.removeAllRanges(),o.selectNode(t),a.addRange(o);var s=!1;try{s=n.document.execCommand("copy")}catch(e){St.log(e,{function:"copyToClipboard"})}i.style.display="none",a.removeAllRanges(),t.remove(),i.remove()}(t.$itemCopyLink.attr("href"))}))}bn.initialize=function(){a()("[data-object-share-menu]").each((function(e,t){return new bn(t)}))},bn.initialize();a()("[data-content-trending-refresh-handle]").each((function(e,t){t.addEventListener("click",(function(){window.location.reload()}))}));var wn=function(){function e(t){var i=this;h()(this,e),this.minutesElement=t.querySelector("[data-content-trending-timer-minutes]"),this.minutesSpent=0,this.setMinuteCount(this.minutesSpent),window.setInterval((function(){i.setMinuteCount(++i.minutesSpent)}),6e4)}return f()(e,[{key:"setMinuteCount",value:function(e){this.minutesElement.innerHTML="".concat(e)}}]),e}();a()("[data-content-trending-timer]").each((function(e,t){return new wn(t)}));i(332);var kn=function(){function e(){h()(this,e),this.fetchImgSources(),this.setSrcsetSources()}return f()(e,[{key:"fetchImgSources",value:function(){return{desktop:a()("[data-hero-fib]").find("[data-hero-fib-image-desktop]"),mobile:a()("[data-hero-fib]").find("[data-hero-fib-image-mobile]"),fallback:a()("[data-hero-fib]").find("[data-hero-fib-image-preloaded]"),desktopHidden:a()("[data-hero-fib]").find("[data-hero-fib-srcset-desktop]"),mobileHidden:a()("[data-hero-fib]").find("[data-hero-fib-srcset-mobile]")}}},{key:"setSrcsetSources",value:function(){var e=this.fetchImgSources();e.desktop[0].srcset=e.desktopHidden[0].value,e.mobile[0].srcset=e.mobileHidden[0].value,e.fallback[0].src=e.desktopHidden[0].value.split(" ")[0]}}]),e}();a()("[data-hero-fib]").each((function(e){return new kn(e)}));var $n="[".concat("data-notification-store-cookie-on-close","]"),Cn=function(){function e(t){var i=this;h()(this,e),this.$element=a()(t),this.cookies=kt,this.$element.find($n).length>0&&(this.cookieName=this.$element.find($n)[0].getAttribute("data-notification-store-cookie-on-close")),a()(document).on("resultsUpdated",(function(){return i.showComponentIfCookiesDontExist()}))}return f()(e,[{key:"showComponentIfCookiesDontExist",value:function(){void 0===this.cookies.getCookie(this.cookieName)&&this.$element.hasClass("is-initially-hidden")&&this.$element.removeClass("is-initially-hidden")}}]),e}();a()("[data-show-component-if-cookie-is-not-present]").each((function(e,t){new Cn(t).showComponentIfCookiesDontExist()}));i(333);var Sn=Tn;function Tn(e,t){this.element=e,this.$element=a()(e),this.defaultTop=t}Tn.prototype.updateVerticalPosition=function(){if(this.$element.removeAttr("style"),0===document.documentElement.getBoundingClientRect().top)this.$element.css({"margin-top":this.defaultTop});else{var e=this.element.getBoundingClientRect().top,t=.4*window.innerHeight-e;this.$element.css({"margin-top":t+"px"})}};var En=On;function On(e){this.$element=a()(e),function(){var e=!1,t=["Webkit","Moz","O","ms","Khtml"],i=document.createElement("div");void 0!==i.style.animationName&&(e=!0);if(!1===e)for(var n=0;n<t.length;n++)if(void 0!==i.style[t[n]+"AnimationName"]){e=!0;break}return e}()&&this.$element.addClass("keyframe-animation-supported")}On.prototype.show=function(){var e=this;return e.spinnerDelay=window.setTimeout((function(){e.$element.addClass("is-visible")}),1500),a.a.when()},On.prototype.hide=function(){return window.clearTimeout(this.spinnerDelay),this.$element.removeClass("is-visible"),a.a.when()},On.prototype.isVisible=function(){return this.$element.hasClass("is-visible")};var xn=function(){function e(t){h()(this,e);var i=this;i.element=t,i.$element=a()(t),i.spinner=new En("[data-search-results-spinner]"),i.resultsLoader=new Sn(i.element,"48px"),a()(document).on("resultsUpdating",(function(){i.show()})),r.onError((function(){return i.hide()})),r.onSuccess((function(){return i.hide()}))}return f()(e,[{key:"show",value:function(){this.$element.addClass("is-loading"),this.resultsLoader.updateVerticalPosition(),this.spinner.isVisible()||this.spinner.show()}},{key:"hide",value:function(){this.spinner.hide(),this.$element.removeClass("is-loading")}}]),e}();a()("[data-search-results-loading-spinner]").each((function(e,t){return new xn(t)}));function _n(e){this.element=e,this.$element=a()(e),this.$notification=this.$element.find("[data-search-scroll-notification]"),this.notification=new Sn(this.element,.4),this.checkLastSearchResultVisibility(),this.bindToEvents()}_n.prototype.bindToEvents=function(){var e=this;a()(document).on("resultsUpdated",(function(){e.checkLastSearchResultVisibility()})),e.$element.on("click","[data-search-scroll-notify-anchor]",(function(){e.hideNotification()}))},_n.prototype.checkLastSearchResultVisibility=function(){var e=a()("[data-search-scroll-notify-target]")[0];!e||e.getBoundingClientRect().top>0?this.hideNotification():this.showNotification()},_n.prototype.showNotification=function(){this.$notification.addClass("is-active"),this.notification.updateVerticalPosition()},_n.prototype.hideNotification=function(){this.$notification.removeClass("is-active"),this.$element.removeAttr("style")},a()("[data-search-scroll-notify]").each((function(e,t){return new _n(t)}));var In=function(){function e(t){h()(this,e),this.element=t,this.nodeListings=[],this.mappedListingIds=[],this.gtmEvent,this.gtm=new bt}return f()(e,[{key:"attachEventListeners",value:function(){var e=this;a()(document).on("resultsUpdated.gtmLogging",(function(){e.filterListingData()}))}},{key:"filterListingData",value:function(){this.nodeListings=a()(this.element).find("[data-search-result-listing]");var e=a()('[data-component="pagination"]'),t=a()(e).find(".pagination-pages").get(0).children.length>0?parseInt(a()(e).find('[aria-current="page"]').get(0).dataset.paginationPage):null;this.mappedListingIds=[];for(var i=0;i<this.nodeListings.length;i++)this.mappedListingIds.push({listingType:this.nodeListings[i].dataset.listingType,globalId:this.nodeListings[i].dataset.globalId});this.logListingData(t)}},{key:"logListingData",value:function(e){this.gtmEvent={event:"searchResultListings",eventCategory:"interactions-searchresults",eventAction:"searchresultlistings",nonInteraction:!0,objectImpressions:this.mappedListingIds,pageNum:e},this.gtm.log(this.gtmEvent)}}]),e}();[].slice.call(document.querySelectorAll('[data-search-content="search-content"]')).forEach((function(e){var t=new In(e);t.attachEventListeners(),t.filterListingData()}));var Pn,Ln,An,jn=i(52),Dn=i.n(jn),Mn=i(242),Rn=i.n(Mn),Fn=1,Vn=2,Hn={SUGGESTION:1,COORDINATE:2,ENTRY_POINT_MAP:3,ENTRY_POINT_GO_TO:4,ENTRY_POINT_ADD:5,MARKER:6,SAVE_POI:7,MODALITY:8,DELETE_POI:9,LOGIN_FACEBOOK:10,LOGIN_EMAIL:11,REGISTER_FACEBOOK:12,REGISTER_EMAIL:13,CATEGORY:14,ENTRY_POINT_SERVICES:15,DESKTOP_OVERVIEW_DRAWER_EXPAND:16,DESKTOP_OVERVIEW_DRAWER_COLLAPSE:17,DESKTOP_DETAIL_DRAWER_DISMISS:18,HEART_CLICK:19,SEARCH_MAP_SAVE_POI:23,SEARCH_MAP_CLICK_POI_LIST:24,SEARCH_MAP_CLICK_POI_MARKER:25,SEARCH_MAP_ENTRYPOINT_TRAVEL_TIME_LOGIN:26,SEARCH_MAP_SEARCH_MAP_SWITCH_MODALITY:27,SEARCH_MAP_SEARCH_MAP_SWITCH_TRAVEL_TIME:28,SEARCH_MAP_ENTRYPOINT_TRAVELTIME:29,MOBILE_DETAIL_DRAWER_EXPAND:19,MOBILE_DETAIL_DRAWER_COLLAPSE:20,MOBILE_DETAIL_DRAWER_DISMISS:21,MOBILE_DETAIL_DRAWER_TAP_GRIP:22},Nn=(An={},k()(An,Fn,(Pn={},k()(Pn,Hn.SUGGESTION,"location-suggestion"),k()(Pn,Hn.COORDINATE,"location-coordinates"),k()(Pn,Hn.ENTRY_POINT_MAP,"entry-point-map"),k()(Pn,Hn.ENTRY_POINT_GO_TO,"entry-point-go-to"),k()(Pn,Hn.ENTRY_POINT_ADD,"entry-point-add"),k()(Pn,Hn.MARKER,"click-marker"),k()(Pn,Hn.SAVE_POI,"save-poi"),k()(Pn,Hn.MODALITY,"switch-modality"),k()(Pn,Hn.DELETE_POI,"delete-poi"),k()(Pn,Hn.LOGIN_FACEBOOK,"login-facebook"),k()(Pn,Hn.LOGIN_EMAIL,"login-email"),k()(Pn,Hn.REGISTER_FACEBOOK,"register-facebook"),k()(Pn,Hn.REGISTER_EMAIL,"register-email"),k()(Pn,Hn.DESKTOP_OVERVIEW_DRAWER_EXPAND,"desktop-overview-drawer-expand"),k()(Pn,Hn.DESKTOP_OVERVIEW_DRAWER_COLLAPSE,"desktop-overview-drawer-collapse"),k()(Pn,Hn.DESKTOP_DETAIL_DRAWER_DISMISS,"desktop-detail-drawer-dismiss"),k()(Pn,Hn.SEARCH_MAP_ENTRYPOINT_TRAVELTIME,"searchmap-entrypoint-traveltime"),k()(Pn,Hn.SEARCH_MAP_SAVE_POI,"searchmap-save-poi"),k()(Pn,Hn.SEARCH_MAP_CLICK_POI_LIST,"searchmap-click-poi-list"),k()(Pn,Hn.SEARCH_MAP_CLICK_POI_MARKER,"searchmap-click-poi-marker"),k()(Pn,Hn.SEARCH_MAP_ENTRYPOINT_TRAVEL_TIME_LOGIN,"searchmap-entrypoint-traveltime-login"),k()(Pn,Hn.SEARCH_MAP_SEARCH_MAP_SWITCH_MODALITY,"searchmap-switch-modality"),k()(Pn,Hn.SEARCH_MAP_SEARCH_MAP_SWITCH_TRAVEL_TIME,"searchmap-switch-traveltime"),k()(Pn,Hn.MOBILE_DETAIL_DRAWER_EXPAND,"mobile-detail-drawer-expand"),k()(Pn,Hn.MOBILE_DETAIL_DRAWER_COLLAPSE,"mobile-detail-drawer-collapse"),k()(Pn,Hn.MOBILE_DETAIL_DRAWER_DISMISS,"mobile-detail-drawer-dismiss"),k()(Pn,Hn.MOBILE_OVERVIEW_DRAWER_TAP_GRIP,"mobile-overview-drawer-tap-grip"),k()(Pn,Hn.MOBILE_DETAIL_DRAWER_TAP_GRIP,"mobile-detail-drawer-tap-grip"),Pn)),k()(An,Vn,(Ln={},k()(Ln,Hn.CATEGORY,"select-services-category"),k()(Ln,Hn.MARKER,"click-services-marker"),k()(Ln,Hn.ENTRY_POINT_SERVICES,"entry-point-services"),Ln)),An),Bn=function(){function e(){h()(this,e)}return f()(e,null,[{key:"travelTime",value:function(t,i){e._log(Fn,t,i)}},{key:"services",value:function(t,i){e._log(Vn,t,i)}},{key:"_log",value:function(t,i,n){Object.prototype.hasOwnProperty.call(Nn[t],i)&&wt.log({eventCategory:e.gtmCategory(t),eventAction:Nn[t][i],eventLabel:n})}},{key:"gtmCategory",value:function(e){switch(e){case Fn:case Vn:return"interactions-traveltime";default:return null}}}]),e}(),zn=qn,Un={body:null,success:null,error:null,submitCallback:null};function qn(e,t){this.$element=e.find("form"),this.options=Rn()(Un,t),0!==this.$element.length&&this.hookForm()}qn.prototype.hookForm=function(){var e=this,t=e.$element.attr("action");a()('form[action="'+t+'"]').on("submit",(function(i){i.preventDefault();for(var n=qn.getSubmitButtons(a()(i.target)),o=0,s=n.length;o<s;o++)a()(n[o]).prop("disabled",!0);var r=a()(this).find(":input").serialize(),l=-1!==t.indexOf("/mijn/login/dialog/")?Hn.LOGIN_EMAIL:Hn.REGISTER_EMAIL;a.a.post({url:t,data:r,cache:!1,xhrFields:{withCredentials:!0},dataType:"json"}).then((function(t){if("OK"===t.Result)if(null===t.View||void 0===t.View)Dn()(e.options.success)&&(a()(document).trigger("user-authenticated-event",{loginType:l}),e.options.success());else{var i=a()(t.View);if(e.options.body.html(t.View),e.options.submitCallback&&e.options.submitCallback(e.options.body),qn.wantsAjaxSubmit(i))return new qn(i,{success:e.options.success,error:e.options.error})}})).catch((function(e){St.log(e,{function:"hookForm"});for(var t=0,i=n.length;t<i;t++)a()(n[t]).prop("disabled",!1)}))}))},qn.wantsAjaxSubmit=function(e){return qn.getSubmitButtons(e).length>0},qn.getSubmitButtons=function(e){return e.find("[dialog-ajax-submit]")};var Gn=Wn;function Wn(e){var t=this;e.instance=t,t.$element=a()(e),t.provider=e.getAttribute("data-social-login-provider"),t.dialogElement=document.querySelector('[data-dialog="user-form"]');var i=a()(e).find(".facebook-button-text").text();t.eventType="Log on with Facebook"===i||"Inloggen met Facebook"===i?Hn.LOGIN_FACEBOOK:Hn.REGISTER_FACEBOOK,t.state={reauthenticate:!1,rootUrl:e.getAttribute("data-social-login-root-url")},t.state.returnUrl=t.getReturnUrl()||t.state.rootUrl,t.$element.on("click",(function(){return t.doAuth()})),t.initLocalStorageFallback(),window.socialCall=function(e,i,n){return t.socialCall(e,i,n)}}Wn.prototype.initLocalStorageFallback=function(){var e=this;localStorage.removeItem("returnUrl"),localStorage.removeItem("facebookGaTag"),window.addEventListener("storage",(function(t){return e.storageEventListener(t)}))},Wn.prototype.storageEventListener=function(e){if("returnUrl"===e.key){var t=e.newValue;localStorage.removeItem("returnUrl"),this.redirect(t)}else if("facebookGaTag"===e.key){var i=e.newValue;localStorage.removeItem("facebookGaTag"),this.addGtmTag(i)}},Wn.prototype.doAuth=function(){var e=(screen.width-500)/2,t=(screen.height-500-100)/2,i="status=0,toolbar=0,location=1,resizable=1,scrollbars=1,"+"left=".concat(e,",top=").concat(t,",width=").concat(500,",height=").concat(500),n="".concat(this.state.rootUrl.slice(0,-1),"/mijn/sociallogin/externallogin/?")+"provider=".concat(this.provider,"&returnUrl=").concat(this.state.returnUrl)+"&currentUrl=".concat(document.location.pathname,"&rerequest=").concat(this.state.reauthenticate?"1":"0");this.addGtmTag("Facebook-clicked"),this.displayDialog(n,i)},Wn.prototype.displayDialog=function(e,t){this.popup=window.open(e,"",t)},Wn.prototype.redirect=function(e){e&&(window.location.href=e)},Wn.prototype.addGtmTag=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return t=window.ga?function(t){var n=setTimeout((function(){return t("Timeout failure")}),i),a=function(e){t(e),clearTimeout(n)};window.ga("send","event",{eventCategory:"login",eventAction:"socialLogin",eventLabel:e,eventValue:1,hitCallback:function(){return a("Success")},hitCallbackFail:function(){return a("Failure")}})}:function(e){return e("Ga tag is not available")},new Promise(t)},Wn.prototype.socialCall=function(e,t,i){var n=this;return n.popup&&n.popup.close&&n.popup.close(),n.addGtmTag(i).then((function(){e&&(a()(document).trigger("user-authenticated-event",{loginType:n.eventType}),null!==n.dialogElement?n.dialogElement.dialog.onFormSuccess():n.redirect(t))}))},Wn.prototype.getReturnUrl=function(){var e=this.$element[0].getAttribute("data-social-login-return-url")||null;if(null!=e)return e;for(var t=window.location.search.substr(1).split("&"),i=0;i<t.length;++i){var n=t[i].split("=");2===n.length&&"ReturnUrl"===n[0]&&(e=decodeURIComponent(n[1].replace(/\+/g," ")))}return e},a()("[data-social-login]").each((function(e,t){return new Wn(t)}));var Zn=i(243),Kn=a()("body");function Yn(e){e.dialog=this,this.AsyncForm=zn,this.SocialLogin=Gn,this.AppSpinner=En,this.element=e,this.$element=a()(e),this.$body=this.$element.find("[data-dialog-body]"),this.$spinner=this.$element.find("[data-dialog-spinner]"),this.isUserLoggedInUrl=e.getAttribute("data-isuserloggedinurl"),this.onFormSuccess=void 0,this.previousDialog=void 0,"function"!=typeof document.createElement("dialog").show&&Zn.a.registerDialog(e),this.loadOnStart(),this.bindEvents()}Yn.prototype.bindEvents=function(){var e=this,t=a()(window),i=a()(document);e.$body.on("click","[data-dialog-handle]",(function(t){return e.loadContent(t)})),t.on("popstate",(function(t){return e.close(t)})),i.on("keydown",(function(t){return e.keyDownHandler(t)})),e.$element.on("click","[data-dialog-close], a.cancel-button",(function(t){return e.close(t)}))},Yn.prototype.keyDownHandler=function(e){27===e.keyCode&&this.close()},Yn.prototype.loadContent=function(e){e.preventDefault(),e.target.href&&(this.$body.html(""),this.getContent(e.target.href),this.element.open||this.open())},Yn.prototype.getContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",i=this,n={url:e,cache:!1,data:{currentUrl:window.location.pathname+window.location.search},xhrFields:{withCredentials:!0},dataType:t};return i.spinner=new i.AppSpinner(i.$spinner[0]),i.spinner.show(),a.a.ajax(n).then((function(e){return i.contentResponseHandler(e)})).catch((function(e){return i.errorHandler(e)})).always((function(){return i.spinner.hide()}))},Yn.prototype.contentResponseHandler=function(e){try{"OK"===e.Result?this.updateContent(e.View||e.Html):this.updateContent(e)}catch(e){St.log(e,{function:"contentResponseHandler"})}},Yn.prototype.errorHandler=function(e){St.log(e)},Yn.prototype.enableSocialLogin=function(e){var t=this,i=e.find("[data-social-login]");i.length>0&&a()(i).each((function(e,i){return new t.SocialLogin(i)}))},Yn.prototype.updateContent=function(e){this.$body.html(e),this.$body.find("[dialog-ajax-submit]").length>0&&this.asyncForm(),this.enableSocialLogin(this.$body)},Yn.prototype.asyncForm=function(){var e=this;return new e.AsyncForm(e.$body,{body:e.$body,success:function(t){e.onFormSuccess?e.onFormSuccess(t):window.location.reload(),e.close()},submitCallback:function(t){e.enableSocialLogin(t)}})},Yn.prototype.hideVisibleDialogs=function(){var e=a()("dialog[open]");e.length&&(this.previousDialog=e[0],this.previousDialog.close())},Yn.prototype.restorePreviousDialogs=function(){null!=this.previousDialog&&(this.previousDialog.showModal(),this.previousDialog=null)},Yn.prototype.open=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,i=t.$element.find("[data-dialog-close], a.cancel-button");e?i.hide():i.show(),t.hideVisibleDialogs(),t.element.showModal(),Kn.addClass("has-open-dialog")},Yn.prototype.close=function(e){"object"===Jt()(e)&&"function"==typeof e.preventDefault&&e.preventDefault(),this.element.open&&Dn()(this.element.close)&&this.element.close(),Kn.removeClass("has-open-dialog"),this.restorePreviousDialogs()},Yn.prototype.loadOnStart=function(){var e=Kn.find("[data-dialog-auto-open]");if(1===e.length){var t=void 0!==e.data("disable-close");this.$body.html(e.html()),this.open(t)}},a()("[data-dialog]").each((function(e,t){return new Yn(t)}));i(335);function Jn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var Qn=function(){},Xn=function(){function e(t,i,n,o){h()(this,e),this.onClearInputFieldHandler=o||Qn,this.$element=a()(t),this.$input=this.$element.find("[data-clearable-textbox-input]"),this.$buttonClear=this.$element.find("[data-clearable-textbox-clear]"),this.$mainIcon=this.$element.find("[data-clearable-textbox-main-icon]"),this.inputFieldEventHandlers=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Jn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},i),this.bindEvents(),n&&this.addIconClass(n),this.showOrHideClearButtonBasedOnValue(this.$input.val())}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$input.on("input",(function(t){e.showOrHideClearButtonBasedOnValue(t.target.value)})),this.$input.on("focus",(function(){return e.removeErrorState()})),this.$buttonClear.on("click",(function(t){t.preventDefault(),e.clearInput()}));var t=function(t){var i=e.inputFieldEventHandlers[t];e.$input.on(t,(function(e){return i(e)}))};for(var i in this.inputFieldEventHandlers)t(i)}},{key:"clearInput",value:function(){this.setValue(""),this.onClearInputFieldHandler()}},{key:"showOrHideClearButtonBasedOnValue",value:function(e){e&&e.length?this.showClearButton():this.removeClearButton()}},{key:"addIconClass",value:function(e){this.$mainIcon.removeClass(),this.$mainIcon.addClass("icon main-icon ".concat(e))}},{key:"showClearButton",value:function(){this.$buttonClear.removeClass("is-hidden"),this.$mainIcon.addClass("is-hidden")}},{key:"removeClearButton",value:function(){this.$buttonClear.addClass("is-hidden"),this.$mainIcon.removeClass("is-hidden")}},{key:"setValue",value:function(e){this.$input.val(e),this.$input.trigger("input")}},{key:"setErrorState",value:function(){this.$element.addClass("clearable-textbox--has-error")}},{key:"removeErrorState",value:function(){this.$element.removeClass("clearable-textbox--has-error")}},{key:"focus",value:function(){this.$input.focus()}},{key:"disable",value:function(){this.$input.prop("disabled",!0),this.removeClearButton()}},{key:"enable",value:function(){this.$input.prop("disabled",!1)}}]),e}(),ea=i(33),ta=i.n(ea),ia=function(){},na=function(){function e(t,i){h()(this,e),this.$element=a()(t),this.$list=this.$element.find("[data-save-location-form-result-list-target]"),this.compiledTemplateListEmpty=ta()(this.$element.find("[data-save-location-form-result-list-empty-template]").html()),this.compiledTemplateListItem=ta()(this.$element.find("[data-save-location-form-result-list-item-template]").html()),this.onListItemClicked=i||ia}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$list.find("[data-list-result-item]").on("click",(function(t){return e.onListItemClickedHandler(t)}))}},{key:"onListItemClickedHandler",value:function(e){if(e.preventDefault(),"LI"===e.currentTarget.tagName){var t=this.getItemPropertiesElement(e.currentTarget);this.onListItemClicked(t)}}},{key:"getItemPropertiesElement",value:function(e){return{value:e.dataset.itemValue,key:e.dataset.itemKey}}},{key:"getItemPropertiesByIndex",value:function(e){var t=this.$list.find("[data-list-result-item]").eq(e);return this.getItemPropertiesElement(t[0])}},{key:"layout",value:function(e){var t=this.buildList(e);this.showList(),this.$list.html(t),this.bindEvents()}},{key:"hideList",value:function(){this.$element.addClass("is-hidden")}},{key:"showList",value:function(){this.$element.removeClass("is-hidden")}},{key:"buildList",value:function(e){var t=this;return e.length?e.map((function(e){return t.compiledTemplateListItem({value:e.value,key:e.key})})):this.compiledTemplateListEmpty()}}]),e}(),aa=38,oa=40,sa=13,ra=function(){},la=function(){function e(t,i,n,o,s,r){var l=this;h()(this,e),this.onItemSelected=n||ra,this.onQueryChangedCallback=i||ra,this.onSuggestionClear=o||ra,this.onRemoveFormErrorMessage=s||ra,this.onSuggestingChangedHandler=r||ra,this.clearSuggestion=this.clearSuggestion.bind(this);var c={input:function(e){return l.addressSuggestInputChange(e)},focus:function(e){return l.onRemoveFormErrorMessage(e)},blur:function(e){return l.onTextBoxBlur(e)}};this.$element=a()(t),this.$clearableTextbox=this.$element.find("[data-travel-time-input-container] .clearable-textbox"),this.$autoSuggestResults=this.$element.find("[data-save-location-form-result-list]"),this.clearableTextbox=new Xn(this.$clearableTextbox,c,"icon-search-grey",this.clearSuggestion),this.autoSuggestList=new na(this.$autoSuggestResults,this.onItemSelected),this.autoSuggestList.hideList(),this.previousClearableTextboxValue=void 0,this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.clearableTextbox.$input.on("keydown",(function(t){var i=t.which||t.keyCode,n=e.getSelectedItemIndex();switch(i){case aa:e.selectPreviousItem(n);break;case oa:e.selectNextItem(n);break;case sa:if(n>-1){e.hideSuggestions();var a=e.autoSuggestList.getItemPropertiesByIndex(n);e.onItemSelected(a)}}}))}},{key:"onTextBoxBlur",value:function(e){e.relatedTarget!==this.autoSuggestList.$list[0]&&this.hideSuggestions()}},{key:"getSelectedItemIndex",value:function(){return this.$autoSuggestResults.find(".suggest-item").filter(".".concat("is-active")).first().index()}},{key:"selectPreviousItem",value:function(e){var t=e>0?e-1:0;this.setSelectedItem(t)}},{key:"selectNextItem",value:function(e){var t=-1!==e?e+1:0;this.setSelectedItem(t)}},{key:"setSelectedItem",value:function(e){var t=this.$autoSuggestResults.find(".suggest-item").eq(e);t.length<1||(this.$autoSuggestResults.find(".suggest-item").removeClass("is-active"),t.addClass("is-active"),this.scrollListItemIntoView(t[0]))}},{key:"scrollListItemIntoView",value:function(e){var t=this.$autoSuggestResults[0],i=t.scrollTop,n=t.scrollTop+t.clientHeight,a=e.offsetTop,o=e.offsetTop+e.clientHeight;a>=i&&o<=n||(t.scrollTop=e.offsetTop)}},{key:"clearSuggestion",value:function(){this.onSuggestionClear(),this.hideSuggestions(),this.previousClearableTextboxValue=void 0}},{key:"addressSuggestInputChange",value:function(e){var t=e.target.value,i=t!==this.previousClearableTextboxValue,n=t.length>=1,a=0===t.length;i&&(n||a)&&this.onQueryChangedCallback(t),this.previousClearableTextboxValue=t}},{key:"setValue",value:function(e){this.clearableTextbox.setValue(e),this.hideSuggestions()}},{key:"updateList",value:function(e){this.autoSuggestList.layout(e),this.onSuggestingChangedHandler(!0)}},{key:"hideSuggestions",value:function(){this.autoSuggestList.hideList(),this.onSuggestingChangedHandler(!1)}},{key:"focus",value:function(){this.clearableTextbox.focus()}},{key:"disable",value:function(){this.clearableTextbox.disable()}},{key:"enable",value:function(){this.clearableTextbox.enable()}}]),e}(),ca=function(){},da=function(){function e(t,i,n,o,s){h()(this,e),this.onLocationSelectedHandler=i||ca,this.onSuggestingResultsChangedHandler=s||ca,this.onLocationClearedHandler=n||ca,this.getSuggestions=this.getSuggestions.bind(this),this.getSuggestionsDebounced=Vi()(this.getSuggestions,120),this.getCoordinates=this.getCoordinates.bind(this),this.onLocationSelected=this.onLocationSelected.bind(this),this.onLocationClearedHandler=this.onLocationClearedHandler.bind(this),this.onSuggestingResultsChanged=this.onSuggestingResultsChanged.bind(this),this.$element=a()(t),this.$autoSuggest=this.$element.find("[data-travel-time-suggest]"),this.autoSuggest=new la(this.$autoSuggest,this.getSuggestionsDebounced,this.onLocationSelected,this.onLocationClearedHandler,o,this.onSuggestingResultsChanged),this.suggestEndpoint=this.$element.data("suggest-endpoint"),this.coordinateEndpoint=this.$element.data("coordinate-endpoint"),this._cancelAutoSuggestResultsResponseHandler=!1}return f()(e,[{key:"onSuggestingResultsChanged",value:function(e){e||(this._cancelAutoSuggestResultsResponseHandler=!0,this.getSuggestionsDebounced.cancel()),this.onSuggestingResultsChangedHandler(e)}},{key:"getSuggestions",value:function(e){var t=this;this._cancelAutoSuggestResultsResponseHandler=!1;var i=!e||e.length<1;return Promise.resolve(e).then((function(e){if(!i)return t.fetchSuggestions(e).then((function(e){t._cancelAutoSuggestResultsResponseHandler||t.updateAutoSuggestResults(e)}));t.updateAutoSuggestResults([]),t.autoSuggest.clearSuggestion()})).catch((function(){t.updateAutoSuggestResults([])}))}},{key:"fetchSuggestions",value:function(e){var t=this;return a.a.ajax({url:this.suggestEndpoint,data:{query:e},dataType:"json"}).then((function(e){return t.mapSuggestionResponseToAutoSuggestFormat(e.result)}))}},{key:"onLocationSelected",value:function(e){var t=this;return this.getCoordinates(e).then((function(i){t.autoSuggest.setValue(e.value),t.onLocationSelectedHandler({location:e.value,placeId:e.key,coordinates:i})}))}},{key:"getCoordinates",value:function(e){return Bn.travelTime(Hn.COORDINATE,e.value),a.a.ajax({url:this.coordinateEndpoint,data:{placeId:e.key},dataType:"json"}).then((function(e){return e.result})).then((function(e){return{lat:e.Lat,lng:e.Lng}}))}},{key:"mapSuggestionResponseToAutoSuggestFormat",value:function(e){return e.map((function(e){return{value:e.Text,key:e.PlaceId}}))}},{key:"updateAutoSuggestResults",value:function(e){this.autoSuggest.updateList(e)}},{key:"setValue",value:function(e){this.autoSuggest.setValue(e)}},{key:"focus",value:function(){this.autoSuggest.focus()}},{key:"disable",value:function(){this.autoSuggest.disable()}},{key:"enable",value:function(){this.autoSuggest.enable()}}]),e}();function ua(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ha(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ua(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var pa=function(){},fa=function(){function e(t,i,n,o){var s=this;h()(this,e),this.onSubmit=i||pa,this.onCancel=n||pa,this.onSelectLocation=this.onSelectLocation.bind(this),this.onClearLocation=this.onClearLocation.bind(this),this.removeErrorMessage=this.removeErrorMessage.bind(this);var r={input:function(e){return s.onLabelChange(e)}};this.$element=a()(t),this.$autoSuggestLocations=this.$element.find("[data-save-location-form-auto-suggest-wrapper]").find("[data-auto-suggest-locations]"),this.$label=this.$element.find("[data-save-location-form-label-wrapper] .clearable-textbox"),this.$submit=this.$element.find("[data-save-location-submit-button]"),this.$cancel=this.$element.find("[data-save-location-cancel-button]"),this.$errorMessage=this.$element.find(".save-location-form-error"),this.label=new Xn(this.$label,r,"icon-promolabel-grey"),this.addressSuggest=new da(this.$autoSuggestLocations,this.onSelectLocation,this.onClearLocation,this.removeErrorMessage,o),this.resetFormData(),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$submit.on("click",(function(t){t.preventDefault(),e.submitForm()})),this.$cancel.on("click",(function(){return e.cancelForm()}))}},{key:"resetFormData",value:function(){this.formData={location:null,label:null}}},{key:"submitForm",value:function(){this.isFormValid()?(this.formData.label=this.formData.label||"",this.onSubmit(this.formData)):(this.addressSuggest.autoSuggest.clearableTextbox.setErrorState(),this.showErrorMessage())}},{key:"cancelForm",value:function(){this.onCancel()}},{key:"isFormValid",value:function(){return!!this.formData.location}},{key:"showErrorMessage",value:function(){this.$errorMessage.removeClass("is-hidden"),this.autoSuggestLocations=new da(this.$autoSuggestLocations),this.label=new Xn(this.$label,{},"icon-promolabel-grey")}},{key:"removeErrorMessage",value:function(){this.$errorMessage.addClass("is-hidden")}},{key:"onLabelChange",value:function(e){this.formData=ha({},this.formData,{label:e.target.value})}},{key:"onSelectLocation",value:function(e){this.formData=ha({},this.formData,{coordinates:e.coordinates,placeId:e.placeId,location:e.location})}},{key:"onClearLocation",value:function(){this.formData.location=void 0,this.formData.coordinates=void 0,this.formData.placeId=void 0,this.removeErrorMessage()}},{key:"setLocation",value:function(e,t,i,n){this.resetFormData(),this.removeErrorMessage(),this.addressSuggest.enable(),this.addressSuggest.setValue(t),this.formData={coordinates:{lat:i,lng:n},placeId:e,location:t},this.label.focus()}},{key:"disableLocationInput",value:function(){this.addressSuggest.disable()}},{key:"clear",value:function(){this.addressSuggest.setValue(""),this.label.setValue(""),this.resetFormData()}}]),e}(),ma="[".concat("data-location-id","]"),va=function(e){return function(e){return Z(e.entities.locations)}(e).filter((function(e){return!!e.personalPlace}))},ga=function(){},ya=function(){function e(t,i,n,o){h()(this,e),this.onPersonalPlaceSelectedHandler=n||ga,this.onRemovePersonalPlace=o,this.store=i||Oe,this.connect=new Ie(this.store,["entities.personalPlaces"]),this.$element=a()(t),this.compiledItemTemplate=ta()('\n  <li class="personal-place" data-location-id="<%- locationId %>">\n    <a href="#" class="personal-place__label truncate title="Toon route naar <%- label %>" data-calculate-route-button>\n        <span class="personal-place__icon icon-pin-blue" data-grunticon-embed></span>\n        <span title="<%- label %>" class="truncate"> <%- label %> </span>\n    </a>\n\n    <div class="personal-place__actions">\n        <a class="personal-place__actions-action" href="#" title="Toon route naar <%- label %>" data-calculate-route-button>\n            <span class="a11y-sr-only">Toon route naar <%- label %></span>\n            <span class="personal-place__actions-action-icon icon-navigate-blue" data-grunticon-embed></span>\n        </a>\n\n        <a class="personal-place__actions-action" href="#" title="Verwijder" data-remove-button>\n            <span class="a11y-sr-only">Verwijder</span>\n            <span class="personal-place__actions-action-icon icon-trash-blue" data-grunticon-embed></span>\n        </a>\n    </div>\n  </li>'),this.layout(),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.connect.subscribe((function(t,i){if(t.entities.personalPlaces!==i.entities.personalPlaces){var n=va(t);e.layout(n)}})),this.$element.on("click","[data-remove-button]",(function(t){t.preventDefault();var i=e.findLocationIdFromLocationItemChildElement(t.currentTarget);e.removePersonalPlace(i)})),this.$element.on("click","[data-calculate-route-button]",(function(t){t.preventDefault();var i=e.findLocationIdFromLocationItemChildElement(t.currentTarget);e.selectPersonalPlace(i)}))}},{key:"findLocationIdFromLocationItemChildElement",value:function(e){return a()(e).parents(ma).attr("data-location-id")}},{key:"removePersonalPlace",value:function(e){this.onRemovePersonalPlace(e)}},{key:"selectPersonalPlace",value:function(e){this.onPersonalPlaceSelectedHandler(e)}},{key:"layout",value:function(e){var t=this,i=(e=e||[]).map((function(e){return t.compiledItemTemplate({locationId:e.id,label:e.label||e.location})}));this.$element.html(i)}}]),e}();function ba(e,t){var i=document.querySelector('[data-dialog="user-form"]'),n=document.querySelector('[data-dialog="save-search-form"]');i&&i.dialog&&(i.dialog.onFormSuccess=function(){t()},null!==n&&(n.dialog.onFormSuccess=function(){t()}),this.dialog=i.dialog,this.dialog.open(),this.dialog.getContent(e))}var wa=function(){function e(){h()(this,e),this.isUserLoggedInUrl="/mijn/account/isuserloggedin/",this.loginDialogUrl="/mijn/login/dialog/",this.$loginDialogElement=a()(document).find('[data-dialog="user-form"]')}return f()(e,[{key:"getUserAuthenticationInfo",value:function(){var e=this.isUserLoggedInUrl;return a.a.ajax({url:e,contentType:"json"}).then((function(e){return{isLoggedIn:e.LoggedIn,loginUrl:e.LoginUrl}})).catch((function(t){St.log(t,{function:"getUserAuthenticationInfo",url:e})}))}},{key:"openLoginDialog",value:function(){var e=this;return new Promise((function(t){new ba(e.loginDialogUrl,(function(){t(!0)}))}))}},{key:"closeLoginDialog",value:function(){this.$loginDialogElement&&this.$loginDialogElement.length&&this.$loginDialogElement[0].dialog.close()}}]),e}(),ka=function(){function e(){h()(this,e),this.store=Oe,this.authentication=new wa}return f()(e,[{key:"fetchUserAuthenticationInfo",value:function(){var e,t=this.authentication.isUserLoggedInUrl;this.store.dispatch((e=t,function(t){return je.get(e).then((function(e){e.LoggedIn,t(Ge(e.LoggedIn,e.LoginUrl))}))}))}},{key:"openLoginDialog",value:function(){var e=this;return this.store.dispatch(Ge(!1)),this.authentication.openLoginDialog().then((function(){e.store.dispatch(Ge(!0))}))}},{key:"closeLoginDialog",value:function(){this.authentication.closeLoginDialog()}}]),e}(),$a=a()(window),Ca=function(e){return e.ui.userLoggedIn},Sa=function(e){return e.entities.personalPlaces},Ta=function(){},Ea=function(){function e(t,i,n){h()(this,e),this.closeFlyout=n||Ta,this.store=i||Oe,this.connect=new Ie(this.store,["entities.personalPlaces","ui.userLoggedIn","addPersonalPlace.loaded","addPersonalPlace.error","getPersonalPlaces.loaded","deletePersonalPlace.loaded","addPersonalPlace.lastSavedPpoi"]),this.handleAutoSuggestSuggestionsToggle=this.handleAutoSuggestSuggestionsToggle.bind(this),this.onSaveLocationFormSubmit=this.onSaveLocationFormSubmit.bind(this),this.removePersonalPlace=this.removePersonalPlace.bind(this),this.cancelSaveLocation=this.cancelSaveLocation.bind(this),this.personalPlaceSelected=this.personalPlaceSelected.bind(this),this.$element=a()(t),this.$personalPlacesListContent=this.$element.find("[data-travel-time-flyout-wrapper-personal-places-list]"),this.$saveLocationFormContent=this.$element.find("[data-travel-time-flyout-wrapper-save-location]"),this.$addNewPersonalPlace=this.$element.find("[data-travel-time-flyout-wrapper-add-personal-place]"),this.$whiteBackground=this.$element.find(".white-bg"),this.$saveLocationForm=this.$element.find("[data-save-location-form]"),this.$personalPlacesList=this.$element.find("[data-personal-places-list]"),this.$loginButton=this.$element.find("[data-login-button]"),this.saveLocationForm=new fa(this.$saveLocationForm,this.onSaveLocationFormSubmit,this.cancelSaveLocation,this.handleAutoSuggestSuggestionsToggle),this.personalPlacesList=new ya(this.$personalPlacesList,this.store,this.personalPlaceSelected,this.removePersonalPlace),this.authenticationRedux=new ka,this.subscribeToStore(),this.bindEvents(),this.layout(),this.authenticationRedux.fetchUserAuthenticationInfo()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$addNewPersonalPlace.on("click",(function(){return e.showSaveLocationForm()})),this.$loginButton.on("click",(function(t){t.preventDefault(),e.authenticationRedux.openLoginDialog().then((function(){e.authenticationRedux.closeLoginDialog(),Bn.travelTime(Hn.SEARCH_MAP_ENTRYPOINT_TRAVEL_TIME_LOGIN)}))}))}},{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t,i){var n=t.addPersonalPlace.lastSavedPpoi;!0!==Ca(t)?e.showLoginButton():e.removeLoginButton(),!0===Ca(t)&&!0!==Ca(i)&&e.fetchSavedPersonalPlaces(),function(e,t,i){return t[e].loaded&&!t[e].error&&t[e].loaded!==i[e].loaded}("addPersonalPlace",t,i)&&e.fetchSavedPersonalPlaces(),Sa(t)!==Sa(i)&&(null!==n&&e.setActiveLocation(n.id),e.layout())}))}},{key:"layout",value:function(){0===this.amountOfPersonalPlaces()?this.showSaveLocationForm():this.showPersonalPlacesList()}},{key:"showLoginButton",value:function(){this.$loginButton.removeClass("is-hidden")}},{key:"removeLoginButton",value:function(){this.$loginButton.addClass("is-hidden")}},{key:"onSaveLocationFormSubmit",value:function(e){var t=this,i=this.store.getState();Ca(i)?this.saveLocation(e):this.authenticationRedux.openLoginDialog().then((function(){t.saveLocation(e),t.authenticationRedux.closeLoginDialog()}))}},{key:"saveLocation",value:function(e){var t={location:e.location,label:e.label,lat:e.coordinates.lat,lng:e.coordinates.lng};this.store.dispatch(Xe(t)),Bn.travelTime(Hn.SEARCH_MAP_SAVE_POI,t.location),this.saveLocationForm.clear()}},{key:"amountOfPersonalPlaces",value:function(){var e=this.store.getState();return Object.keys(Sa(e)).length}},{key:"cancelSaveLocation",value:function(){this.amountOfPersonalPlaces()>0?this.showPersonalPlacesList():this.closeFlyout()}},{key:"removePersonalPlace",value:function(e){var t=this.store.getState();this.store.dispatch(et(e)),t.ui.activeLocationId===e&&this.store.dispatch(Ke())}},{key:"showPersonalPlacesList",value:function(){this.$personalPlacesListContent.removeClass("is-hidden"),this.$saveLocationFormContent.addClass("is-hidden")}},{key:"showSaveLocationForm",value:function(){this.$personalPlacesListContent.addClass("is-hidden"),this.$saveLocationFormContent.removeClass("is-hidden")}},{key:"fetchSavedPersonalPlaces",value:function(){this.store.dispatch(Je())}},{key:"personalPlaceSelected",value:function(e){Bn.travelTime(Hn.SEARCH_MAP_CLICK_POI_LIST,e),this.setActiveLocation(e),this.closeFlyout(),$a.trigger("travel-time-selected-ppoi")}},{key:"setActiveLocation",value:function(e){this.store.dispatch(Ze(e))}},{key:"handleAutoSuggestSuggestionsToggle",value:function(e){this.$whiteBackground.toggleClass("is-hidden",!e)}}]),e}(),Oa=function(){function e(t,i,n){h()(this,e),this.store=i||Oe,this.onSelectPoi=n,this.connect=new Ie(this.store,["ui.activeLocationId"]),this.$element=a()(t),this.subscribeToStore()}return f()(e,[{key:"bindElements",value:function(){var e=this;this.$element.find("[data-filter-group-id]").on("click",(function(){e.store.dispatch(Ke())}))}},{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t,i){var n=t.ui.activeLocationId;if(He(t)&&Ne(t,i)){e.travelTimeSelectedPoiTemplate||(e.travelTimeSelectedPoiTemplate=ta()(e.$element.find("[data-filter-flyout-selected-option-template]").html()));var a=t.entities.personalPlaces[n].label||t.entities.personalPlaces[n].location;e.renderComponent(a,n),e.bindElements()}else e.clearComponent();e.onSelectPoi(n)}))}},{key:"clearComponent",value:function(){this.$element.empty(),this.hideTooltips()}},{key:"hideTooltips",value:function(){a()(window).trigger("remove-tooltip-last-tip-event")}},{key:"renderComponent",value:function(e,t){var i=this.travelTimeSelectedPoiTemplate({id:t,groupId:"travel-time-group",label:e});this.$element.html(i)}}]),e}(),xa=_a;function _a(e){var t=this;t.$element=a()(e),t.$inputs=t.$element.find("input").not("[data-toggle-all-inputs-handle]"),t.$handle=t.$element.find("[data-toggle-all-inputs-handle]"),t.totalAmountInputs=t.$inputs.length,t.$inputs.on("change",(function(){var e=t.$element.find("input:checked").not("[data-toggle-all-inputs-handle]").length===t.totalAmountInputs;t.$handle.prop("checked",e)})),t.$handle.on("change",(function(){var e=t.$handle.is(":checked");t.changeCheckedState(e)})),t.initializeHandler()}_a.prototype.initializeHandler=function(){var e=this.$handle.is(":checked");e&&this.changeCheckedState(e)},_a.prototype.changeCheckedState=function(e){this.$inputs.each((function(){var t=a()(this);!0!==e||t.is(":checked")?!1===e&&t.is(":checked")&&(t.prop("checked",e),t.trigger("change")):(t.prop("checked",e),t.trigger("change"))}))};var Ia={min:0,max:0},Pa=13,La=27,Aa=32,ja=a()("body"),Da=a()("document"),Ma=a()(".zoek-op-kaart__map"),Ra=function(){function e(t,i){var n=this;if(h()(this,e),this.uniqueId=null,this.bindToElements(t,i),this.bindEvents(),this.setInitialSelectedFilters(),a()(window).on("sidebar-refresh",(function(){if(null!=n.uniqueId){var e=a()('[data-filter-flyout][data-unique="'+n.uniqueId+'"]');n.bindToElements(e,!1),n.bindEvents()}})),this.isCampaignForTravelTime()&&this.$element[0].classList.contains("filter-flyout-travel-time")){a()(window).width()>=1020&&this.$flyoutButton.click(),this.cookies=kt,this.cookies.setCookie("show-travel-time-tooltip-cookies",0)}}return f()(e,[{key:"isCampaignForTravelTime",value:function(){return window.location.hash.includes("zoekopreistijd")}},{key:"bindToElements",value:function(e,t){var i=this;this.$element=a()(e),this.$filterOption=this.$element.find("[data-flyout-item]"),this.$filterOptionContainer=this.$element.find("[data-filter-flyout-option-label]"),this.$selectedOptions=this.$element.find("[data-flyout-selected-options]"),this.$flyout=this.$element.find("[data-filter-flyout-panel]"),this.$flyoutButton=this.$element.find("[data-filter-open-flyout]"),this.$flyoutBackdrop=this.$element.find("[data-filter-flyout-backdrop]"),this.$flyoutClose=this.$element.find("[data-filter-close-flyout]"),this.flyoutIsOpen=!1,this.$previewOptions=this.$element.find("[data-filter-flyout-preview-options]"),this.$parentFilter=this.$element.closest("[data-nested-filter]"),this.hasParentFilter=this.$parentFilter.length>0,this.$form=this.$element.closest("form"),this.$rangeInputSubmit=this.$element.find("[data-range-submit]"),this.$rangeMin=this.$element.find("[data-range-min]"),this.$rangeMax=this.$element.find("[data-range-max]");var n=this.$element.find("[data-filter-flyout-selected-option-template]");n.length>0&&(this.compiledSelectedOptionsTemplate=ta()(n.html()));var o=this.$flyout.find("[data-flyout-wrapper]"),s=this.$element.find("[data-flyout-selected-options]");if(this.$calculatorContainer=this.$element.find("[data-calculator]"),this.$calculatorInput=this.$element.find("[data-calculator-input]"),this.$calculatorOutputMin=this.$element.find("[data-calculator-output-min]"),this.$calculatorOutputMax=this.$element.find("[data-calculator-output-max]"),this.$calculatorSubmit=this.$element.find("[data-calculator-submit]"),o.length>0&&(this.travelTime=new Ea(o,null,this.closeFlyout.bind(this)),this.selectedLocation=new Oa(s,null,this.determineFilterSelected.bind(this))),t){var r=null,l=[];this.$element.find("[data-filter-group-name]").each((function(e,t){var i=a()(t);r=i.attr("data-filter-group-name").toLowerCase(),l.indexOf(r)<0&&(l.push(r),Ei.remove(r))}))}if(this.hasParentFilter&&this.$parentFilter.on("deselect-filter-item",(function(){i.$selectedOptions.find("li").length>0&&(i.$filterOption.each((function(e,t){var n=a()(t);i.removeFilterLabel(n)})),i.$filterOption.prop("checked",!1),i.$selectedOptions.empty())})),this.$element.find("[data-toggle-all-inputs]")){var c=this.$element.find("[data-toggle-all-inputs]")[0];this.toggleAllInputs=new xa(c)}null==this.uniqueId&&(this.uniqueId=this.$element.data("unique"))}},{key:"bindEvents",value:function(){var e=this,t=this;this.$element.on("sendrangeinputvalues",(function(){e.sendRangeEvent()})).on("rangedeselected",(function(){e.$rangeMin.val(""),e.$rangeMax.val("")})).on("resetfilter",(function(){e.$filterOption.each((function(t,i){var n=a()(i);n[0].checked&&e.removeFilterLabel(n)}))})).on("change","[data-flyout-item]",(function(){var e=a()(this),i=null;i=e[0].checked?t.addSelectedFilterLabel(e):t.removeSelectedFilter(e),e.parents("[data-instant-search-output=wijkNaamFilter]").length>0&&Da.trigger("changeBuurt",{selectedFilterCount:i})})).on("filterflyoutclose",(function(){e.closeFlyout()})),this.$calculatorContainer.length&&(this.$calculatorInput.on("keypress",(function(t){var i=String.fromCharCode(t.charCode);if(!/[0-9]/.test(i))return!1;e.normalizeCalculatorInputs(t),e.updateCalculatorOutput()})),this.$calculatorInput.on("input",(function(t){e.normalizeCalculatorInputs(t),e.updateCalculatorOutput()}))),this.$rangeInputSubmit.on("click",(function(){e.sendRangeEvent(),e.closeFlyout()})),this.$calculatorSubmit.on("click",(function(){e.sendCalculatorEvent(),e.closeFlyout()})),this.$flyoutButton.on("click",(function(){e.toggleFlyout(),e.travelTime&&e.logActivityOnGoogleAnalytics()})),this.$flyoutBackdrop.on("click",(function(){e.closeFlyout()})),this.$flyoutClose.on("click",(function(){e.closeFlyout()})),this.$selectedOptions.on("click","[data-flyout-selected-option]",(function(e){e.preventDefault(),e.stopPropagation();var i=a()(this),n=i.attr("data-filter-id"),o=t.$flyout.find('input[id="'+n+'"]');o.prop("checked",!1),o.trigger("change"),i.remove()})),this.$filterOptionContainer.on("changed",(function(){e.previewTimer&&clearTimeout(e.previewTimer),e.previewTimer=setTimeout((function(){e.setPreviewOptions()}),300)})),Da.on("changeRadius",(function(t,i){var n=0===i.selectedRadius;e.toggleBuurtFilter(n)})),a()(window).on("remove-tooltip-last-tip-event",(function(){e.toolTips=e.$element.parent().find("[data-popover]"),e.$toolTipNext=e.$flyout.parent().find("[search-map-dismiss-travel-time-tip]"),e.toolTips.eq(0).addClass("is-hidden")})),a()(window).on("tooltip-last-tip-event",(function(){e.toolTips=e.$element.parent().find("[data-popover]"),e.$toolTipNext=e.$flyout.parent().find("[search-map-dismiss-travel-time-tip]"),e.closeLastTooltip=e.toolTips.eq(0).find(".popover__close-button"),e.toolTips.eq(0).removeClass("is-hidden"),e.$toolTipNext.on("click",(function(){kt.setCookie("show-travel-time-tooltip-cookies",5),e.toolTips.eq(0).addClass("is-hidden")})),e.closeLastTooltip.on("click",(function(e){e.preventDefault()}))}))}},{key:"sendRangeEvent",value:function(e){var t=e?"rangeinitialized":"rangeselected",i={min:this.$rangeMin.val(),max:this.$rangeMax.val()};(i.max||i.min)&&this.$element.trigger(t,i)}},{key:"sendCalculatorEvent",value:function(){var e={min:this.$calculatorOutputMin.text(),max:this.$calculatorOutputMax.text()};(e.max>0||e.min>0)&&this.$element.trigger("calculatorsurfacerange",e)}},{key:"setInitialSelectedFilters",value:function(){var e=this;this.$filterOption.length>0?this.$filterOption.each((function(t,i){var n=a()(i);n[0].checked&&e.addSelectedFilterLabel(n)})):setTimeout((function(){e.sendRangeEvent(!0)}),125)}},{key:"toggleFlyout",value:function(){this.flyoutIsOpen=!this.flyoutIsOpen,this.flyoutIsOpen?this.openFlyout():this.closeFlyout()}},{key:"logActivityOnGoogleAnalytics",value:function(){Bn.travelTime(Hn.SEARCH_MAP_ENTRYPOINT_TRAVELTIME)}},{key:"openFlyout",value:function(){var e=this;this.flyoutIsOpen=!0,null!==document.querySelector("main > .zoek-op-kaart")&&ja.addClass("zoek-op-kaart-flyout-open"),this.$flyout.addClass("is-open").attr("aria-expanded",this.flyoutIsOpen),this.$flyout.hasClass("is-bottom")&&this.$flyout.toggleClass("is-bottom");var t=this.$flyout[0].getBoundingClientRect();t.top+t.height>Ma.height()&&this.$flyout.addClass("is-bottom"),this.$flyoutButton.addClass("is-open"),this.$element.trigger("filterflyoutopened"),this.$element.on("keydown",(function(t){t.keyCode===Pa&&(t.preventDefault(),e.closeFlyoutOnEnter(t,t.keyCode))})),this.$element.on("keypress",(function(e){var t=e.keyCode||e.charCode,i=String.fromCharCode(t);e.target.classList.contains("filter-flyout-range-input")&&!/[0-9]/.test(i)&&t>=Aa&&e.preventDefault()})),Da.on("keydown.closeFlyout",(function(t){t.keyCode===La&&e.closeFlyout()}))}},{key:"closeFlyout",value:function(){ja.removeClass("zoek-op-kaart-flyout-open"),this.flyoutIsOpen=!1,this.$flyout.removeClass("is-open").attr("aria-expanded",this.flyoutIsOpen),this.$flyoutButton.removeClass("is-open"),this.$element.trigger("filterflyoutclosed"),this.$element.off("keydown"),Da.off("keydown.closeFlyout")}},{key:"closeFlyoutOnEnter",value:function(){ja.removeClass("zoek-op-kaart-flyout-open"),this.sendRangeEvent(),this.$element.trigger("filterflyoutclose"),this.$element.off("keydown")}},{key:"addSelectedFilterLabel",value:function(e){var t=this,i=this.filterIsRadioButton(e),n=e.next(".label-text")[0].childNodes[0].nodeValue,a=e.attr("data-filter-group-id"),o=e.attr("data-filter-group-name"),s={filterGroupId:e[0].id,filterGroupName:o.toLowerCase(),filterName:n,labelText:n};i&&(this.removeSelectedFilter(e),s.filterGroupId=a),e.is("[data-filter-flyout-add-groupname-to-label]")&&(n=n+" ("+o.toLowerCase()+")"),e.is("[data-filter-flyout-add-groupname-to-filter]")&&(s.labelText=s.labelText+" ("+s.filterGroupName+")");var r={id:e[0].id,label:n,groupId:a};this.appendFilterOption(r);var l=this.determineFilterSelected();return Ei.add(s,(function(){var i=t;t.removeFilterLabel(e,i)}),i),l}},{key:"appendFilterOption",value:function(e){var t=this.compiledSelectedOptionsTemplate(e);this.$selectedOptions.append(t)}},{key:"removeSelectedFilter",value:function(e){var t=null,i=e[0].id;return this.filterIsRadioButton(e)?(i=e.attr("data-filter-group-id"),t=this.$selectedOptions.find('[data-filter-group-id="'+i+'"]')):t=this.$selectedOptions.find('[data-filter-id="'+i+'"]'),t.length>0&&(t.remove(),this.determineFilterSelected(),Ei.remove(i)),this.determineFilterSelected()}},{key:"removeFilterLabel",value:function(e,t){(t||this).removeSelectedFilter(e),e.prop("checked",!1),e.trigger("change")}},{key:"filterIsRadioButton",value:function(e){return"radio"===e.attr("type")}},{key:"determineFilterSelected",value:function(e){var t=this.$element.find("[data-flyout-selected-option]").length;return e||t>0?this.$element.addClass("has-selected-filter"):this.$element.removeClass("has-selected-filter"),t}},{key:"setPreviewOptions",value:function(){var e=[];this.$filterOptionContainer.each((function(t,i){var n=a()(i);n.hasClass("is-disabled")||e.push(n.attr("data-filter-flyout-option-label"))})),this.$previewOptions.text(e.join(", "))}},{key:"toggleBuurtFilter",value:function(e){var t=ja.find('[data-instant-search-output="wijkNaamFilter"]');0!==t.length&&(e?a()(".filter-flyout",t).removeClass("is-disabled"):(a()(".filter-flyout-fieldset input[type=checkbox]:checked",t).click(),a()(".filter-flyout",t).addClass("is-disabled")))}},{key:"trimCalculatorExcessInputDigits",value:function(e){e.target.value.length>4&&this.$calculatorInput.val(e.target.value.slice(0,4))}},{key:"convertTotalPeopleToSquareMeters",value:function(){var e=this.$calculatorInput.val();0===e.length||0===Number(e)?(Ia.min="...",Ia.max="..."):(Ia.min=6*e,Ia.max=9*e)}},{key:"normalizeCalculatorInputs",value:function(e){this.trimCalculatorExcessInputDigits(e),this.convertTotalPeopleToSquareMeters()}},{key:"updateCalculatorOutput",value:function(){this.$calculatorOutputMin.text(Ia.min),this.$calculatorOutputMax.text(Ia.max)}}]),e}();a()("[data-filter-flyout]").each((function(e,t){return new Ra(t,!1)}));var Fa=i(244),Va=i.n(Fa),Ha=i(122),Na=i.n(Ha),Ba=i(42),za=i.n(Ba),Ua=i(46),qa=i.n(Ua),Ga=i(168),Wa=i.n(Ga),Za=function(){function e(){h()(this,e)}return f()(e,[{key:"initialize",value:function(){var e=this,t=window.history.pushState,i=window.history.replaceState;window.history.pushState=function(i){for(var n=e.processState(i),a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];t.apply(window.history,[n].concat(o))},window.history.replaceState=function(t){for(var n=e.processState(t),a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];i.apply(window.history,[n].concat(o))},window.onpopstate=function(e){var t=e.state;za()(t)&&t.scrollX&&t.scrollY&&Wa()(t.scrollX)&&Wa()(t.scrollY)&&window.scrollTo(t.scrollX,t.scrollY)}}},{key:"processState",value:function(e){var t={scrollX:window.scrollX,scrollY:window.scrollY};return"string"==typeof e||qa()(e)?t.state=e:za()(e)&&(t=a.a.extend(t,e)),t}}]),e}(),Ka="pushState"in window.history,Ya=!1,Ja=sessionStorage.scrollTop,Qa=window.location.pathname.includes("koop"),Xa=function(){function e(t){if(h()(this,e),Ka){this.bindToElements(t),this.bindToEvents(),this.hasReplaceState&&window.history.replaceState("push_state_set_by_funda",window.title),0===a()("[data-instant-map-search]").length&&(this.historyState=new Za,this.historyState.initialize()),this.vuexStore=Si}}return f()(e,[{key:"browserHasReplaceState",value:function(){try{return window.history.replaceState("push_state_set_by_funda",window.title),!0}catch(e){return this.logError(e.message),!1}}},{key:"bindToElements",value:function(e){var t=a()(e),i=Qa||document.referrer.includes("huur");document.onreadystatechange=function(){"complete"==document.readyState&&Qa&i&&setTimeout((function(){window.scrollTo(0,Ja)}),500)},this.form=e,this.$form=t,this.outputMap={},this.request=null,this.asyncResult={},this.metaDescriptionTag=document.querySelector('meta[name="description"]'),this.soldFilterOption=this.$form.find("[data-instant-search-sold-objects]"),this.forSaleFilterOption=this.$form.find("[data-instant-search-for-sale-objects]"),this.soldObjectToggle=this.$form.find(".sold-objects-toggle"),this.stateObject={},this.$filterCountNumber=this.$form.find("[data-filter-count-number]"),this.$outputs=this.getOutputs(a()("body")),this.hasReplaceState=this.browserHasReplaceState(),this.sortTypeSelectBox=this.$form.find("[data-sorting]"),this.historyState=new Za,this.historyState.initialize()}},{key:"bindToEvents",value:function(){var e=this;function t(){return Vi()((function(t){e.doRequest(t)}),500,{leading:!0})}window.addEventListener("storeUpdated",t()),e.$form.find("[data-search-sidebar]").on("sidebarclosed",(function(){Object.keys(e.asyncResult).length>0&&(e.renderOutputResults(e.asyncResult),e.asyncResult={})})),window.addEventListener("popstate",e.onpopstate,!1),window.addEventListener("pagehide",e.rememberScrollPosition),e.$form.on("pricerangereset","[data-range-filter]",t()),e.$form.on("radiogroupreset","[data-radio-group]",t()),e.$form.on("change","[data-input-radius] select",t()),e.$form.on("change","[data-search-filter-checkbox]",t()),e.$form.on("freetextsearchupdated","[data-free-text-search-name-input]",t()),e.$form.on("change","[data-instant-search-handle]",t()),e.$form.on("change","select[data-zoektype]",t()),e.$form.on("rangechanged","[data-instant-search-range]",t()),e.$form.on("rangeselected","[data-filter-flyout-range]",t()),e.$form.on("pageadjusted","[data-pagination]",t()),e.$form.on("searchqueryupdated","[data-autocomplete]",t()),e.$form.on("range_filter_removed",t()),e.$form.on("pricetogglereset",t()),a()("body").delegate("[data-sorting]","change",(function(){Ya=!0}))}},{key:"onpopstate",value:function(e){var t=e.state;za()(t)&&"push_state_set_by_funda"===t.state&&window.location.reload()}},{key:"rememberScrollPosition",value:function(){if(Qa){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;sessionStorage.setItem("scrollTop",e)}else sessionStorage.setItem("scrollTop",0)}},{key:"serializeVUEXData",value:function(e){return Va.a.stringify(e)}},{key:"doRequest",value:function(){var e=this,t="",i=e.$form.serialize();e.vuexStore.state.searchUrl&&(t=e.serializeVUEXData(this.vuexStore.state.searchUrl)),a()(".container.search-main").addClass("disabled-point-events"),e.$outputs.addClass("is-updating"),a()(document).trigger("resultsUpdating"),e.request&&e.request.abort(),e.request=r({url:e.form.action,method:(this.form.method||"POST").toUpperCase(),data:i+"&"+t,timeout:3e4}),e.request.done((function(t){a()(".container.search-main").removeClass("disabled-point-events"),t.Error?(e.stoppedUpdating(),e.logError(t.Error),e.$form.trigger("invalidlocation")):t.forcedRedirectUrl?window.location=t.forcedRedirectUrl:(e.updateResults(t),Ya&&(e.sendSortStats(),Ya=!1))})),e.request.fail((function(t){"abort"!==t.statusText&&e.stoppedUpdating()}))}},{key:"markSelectedSource",value:function(e,t){var i=a()(t.target).attr("name");if(void 0!==i){var n=-1==="123456789".indexOf(i.slice(-1))?i:i.substr(0,i.length-1),o=this.$form.find("input[name^="+n+"]");Na()(o,(function(e,t){var i=a()(t).attr("name");return-1===e.indexOf(i)&&e.push(i),e}),[]).length>1&&(e+="&filter_InteractionBase="+n,e+="&filter_InteractionPostfix="+i.replace(n,""))}return e}},{key:"updateResults",value:function(e){document.title=e.title,this.metaDescriptionTag&&this.metaDescriptionTag.setAttribute("content",e.description),this.soldFilterOption.attr("href",e.historischAanbodUrl),this.soldFilterOption.text(e.historischAanbodLabel),this.soldFilterOption.toggleClass("multiline",e.multilineHistorischAanbodLabel),this.forSaleFilterOption.text(e.actiefAanbodLabel),this.forSaleFilterOption.toggleClass("multiline",e.multilineActiefAanbodLabel),this.updateTotalCount(e.content.total,e.content.searchButtonTotal),this.updateCounts(e.counts),this.vuexStore.dispatch("updateFilterCounts",e.counts),this.updateHistory(e.url),this.$form.find("[data-search-sidebar]").hasClass("is-extended")?this.asyncResult=e:this.renderOutputResults(e),e.content.historischAvailable?this.soldObjectToggle.removeClass("disabled"):(this.soldObjectToggle.removeClass("disabled").addClass("disabled"),this.soldObjectToggle.find('[for="IndHistorisch-koop1"]').click())}},{key:"logError",value:function(e){void 0!==window.gtmDataLayer&&gtmDataLayer.push({event:"searchResultError",errorType:"invalid-"+e})}},{key:"renderOutputResults",value:function(e){var t=e.content;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.outputMap[i]&&null!==t[i]&&(this.outputMap[i].is("input")?this.outputMap[i].val(t[i]):this.outputMap[i].html(t[i]));if(Object.keys(t).length>0){this.stoppedUpdating(),this.sendResultsUpdatedEvent(e.url);var n=this.$form.attr("data-page-viewed");n&&Zi(n)}this.updateBinds(t)}},{key:"sendResultsUpdatedEvent",value:function(e){a()(document).trigger("resultsUpdated",{url:e})}},{key:"stoppedUpdating",value:function(){this.$outputs.removeClass("is-updating")}},{key:"updateCounts",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=this.$form.find('[data-instant-search-count="'+t+'"]'),n=i.closest("li"),a=e[t];i.text(a),"0"===a?n.addClass("has-no-results"):n.removeClass("has-no-results")}}},{key:"updateTotalCount",value:function(e,t){this.outputMap.total.each((function(t,i){a()(i).text(e)})),this.outputMap.searchButtonTotal.each((function(e,i){a()(i).text(t)}))}},{key:"updateHistory",value:function(e){window.history.pushState("push_state_set_by_funda",window.title,e),a()(document).trigger("updateTranslateLink",[{url:e}])}},{key:"updateBinds",value:function(e){if(a()("[data-custom-select-box]").each((function(e,t){return new Bi(t)})),e.wijkNaamFilter&&e.wijkNaamFilter.length>1){var t=this.$form.find("[data-dynamic-filter]");return new Ra(t,!0)}this.$form.find("[data-dynamic-filter]").length<1&&Ei.remove("buurt")}},{key:"getOutputs",value:function(e){var t=this,i=e.find("[data-instant-search-output]");return i.each((function(e,i){var n=i.getAttribute("data-instant-search-output"),o=t.outputMap[n]||a()();t.outputMap[n]=o.add(i)})),i}},{key:"sendSortStats",value:function(){var e=this.sortTypeSelectBox.val().split("-")[1];void 0!==window.gtmDataLayer&&window.gtmDataLayer.push({event:"sendSortOption",sortOption:e})}}]),e}();a()("[data-instant-search]").each((function(e,t){new Xa(t)}));function eo(e,t,i){this.urlClick=e.getAttribute("data-makelaars-ads-click-url"),this.$element=a()(e),this.$items=this.$element.find("[data-makelaar-ads-item]"),this.ads=[],this.defaultImageUrl=i,this.promotionImageUrl=e.getAttribute("data-makelaars-ads-promotion-image-url"),this.promotionText=e.getAttribute("data-makelaars-ads-promotion-text"),this.resetAds(),this.loadAds(this.visibleItems(),t),this.handleClickEvent()}eo.prototype.resetAds=function(){for(var e=this.$items,t=0;t<e.length;t++){var i=e[t];a()(i).find("[data-makelaar-ads-title]").empty(),a()(i).find("[data-makelaar-ads-logo]").attr("src",""),a()(i).find("[data-makelaar-ads-line1]").empty(),a()(i).find("[data-makelaar-ads-line2]").empty(),a()(i).find("[data-makelaar-ads-website]").html(""),a()(i).attr("href",null),a()(i).attr("class","makelaar-ads-item"),a()(i).attr("data-globalId",""),a()(i).find("[data-makelaar-ads-logo]").remove()}this.$element.addClass("reset-ads")},eo.prototype.visibleItems=function(){return this.$items.filter(":visible")},eo.prototype.loadAds=function(e,t){var i=t+"&count="+e.length;this.loadAdsAjax(i)},eo.prototype.loadAdsAjax=function(e){var t=this;a.a.get({url:e,crossDomain:!0,dataType:"json",success:function(e){t.setAds(e.MakelaarAds),t.togglePromoAdForMakelaarIfSpaceAvailable()}})},eo.prototype.updateObjects=function(e){return e},eo.prototype.setAds=function(e){for(var t=this,i=0;i<e.length;i++){var n=t.getAvailableSlot(),o=e[i];!1===t.isAdAlreadyBeingDisplayed(o)&&this.renderAd(n,o)}e.length>0&&(t.$element.removeClass("reset-ads"),t.$element.addClass("injected")),a.a.each(e,(function(){t.ads.push(this)}),this)},eo.prototype.togglePromoAdForMakelaarIfSpaceAvailable=function(){if(this.ads.length>0&&(this.$element.find("[makelaar-ads-header]").css("max-height","inherit"),this.$element.find("[makelaar-ads-header]").show(),1===this.ads.length&&this.visibleItems().length>1)){var e={GlobalId:0,Titel:this.promotionText,TekstRegels:["Adverteer hier met uw kantoor in","uw werkgebied"],LinkText:"Klik voor meer informatie",ImageUrl:this.promotionImageUrl,Href:"/content/default.aspx?pagina=/nl/algemene-teksten-funda-sites/fundanl/verkoop/makelaarads"},t=this.getAvailableSlot();this.renderAd(t,e)}},eo.prototype.isAdAlreadyBeingDisplayed=function(e){for(var t=this.visibleItems(),i=0;i<t.length;i++){var n=t[i];if(a()(n).attr("data-globalId")===e.GlobalId)return!0}return!1},eo.prototype.getAvailableSlot=function(){for(var e=this.visibleItems(),t=0;t<e.length;t++){var i=e[t];if(""===i.getAttribute("data-globalId"))return i}},eo.prototype.renderAd=function(e,t){var i=t.ImageUrl||this.defaultImageUrl;a()(e).find(".makelaar-ads-image-wrap").prepend(a()('<img data-makelaar-ads-logo class="makelaar-ads-image" src="'+i+'">')),a()(e).attr("data-globalId",t.GlobalId),a()(e).find("[data-makelaar-ads-title]").text(t.Titel),a()(e).find("[data-makelaar-ads-line1]").text(t.TekstRegels[0]),a()(e).find("[data-makelaar-ads-line2]").text(t.TekstRegels[1]),a()(e).find("[data-makelaar-ads-website]").text(t.LinkText),a()(e).addClass("loaded"),a()(e).attr("href",t.Href),a()(e).css("max-height","inherit"),a()(e).attr("data-index",t.Index).attr("data-geogebiednaam",t.GeoGebiedNaam).attr("data-geogebiedniveau",t.GeoGebiedNiveau).attr("data-makelaarid",t.MakelaarId)},eo.prototype.handleClickEvent=function(){this.unregisterClickEvent("click",".makelaar-ads-item"),this.handleElementOnClick()},eo.prototype.handleElementOnClick=function(){var e=this;e.$items.on("click",(function(){var t=a()(this);e.handleClick(t)}))},eo.prototype.handleClick=function(e){this.registerClick(e)},eo.prototype.unregisterClickEvent=function(e){this.$items.off(e)},eo.prototype.registerClick=function(e){var t={makelaarAdId:e.attr("data-globalId"),makelaarAdPosition:e.attr("data-index")-1,geoGebiedNaam:e.attr("data-geogebiednaam"),geoGebiedNiveau:e.attr("data-geogebiedniveau"),makelaarId:e.attr("data-makelaarid")};+t.makelaarAdId&&a.a.ajax({url:this.urlClick,type:"POST",data:t})},eo.prototype.setCurrentUrl=function(e){return a()("[data-makelaar-ads]").attr("data-makelaars-ads-feed-url",e)},eo.prototype.getCurrentUrl=function(){return a()("[data-makelaar-ads]").attr("data-makelaars-ads-feed-url")},eo.prototype.getAsyncUrl=function(){return a()("[data-makelaarads-feed-async]").attr("data-makelaarads-feed-async-url")},eo.prototype.handleMakelaarAdsOnResultsUpdated=function(){var e=eo.prototype.getAsyncUrl();e!=eo.prototype.getCurrentUrl()&&eo.prototype.createMakelaarAds(e),eo.prototype.setCurrentUrl(e)},eo.prototype.createMakelaarAds=function(e){a()("[data-makelaar-ads]").each((function(t,i){return new eo(i,e,i.getAttribute("data-makelaars-ads-default-image-url"))}))},eo.initialize=function(){a()("[data-makelaar-ads]").each((function(e,t){return new eo(t,t.getAttribute("data-makelaars-ads-feed-url"),t.getAttribute("data-makelaars-ads-default-image-url"))})),a()(document).on("resultsUpdated",(function(){eo.prototype.handleMakelaarAdsOnResultsUpdated()}))},eo.initialize();var to="data-filter-visibility-target",io=function(){function e(t){h()(this,e);var i=this;i.$element=a()(t),i.$targets=a()("[data-filter-visibility-target]"),i.vuexStore=Si,i.connectToVueStore(),i.$element.on("change","[data-filter-visibility-invalid-filters]",(function(e){i.$element.find("[data-filter-visibility-invalid-filters]").each((function(e,t){var n=a()(t).attr("data-filter-visibility-invalid-filters").split(" ");i.enableFilters(n)}));var t=a()(e.currentTarget);if(t.is(":checked")){var n=t.attr("data-filter-visibility-invalid-filters").split(" ");i.disableFilters(n)}}))}return f()(e,[{key:"connectToVueStore",value:function(){var e=this,t=["PublicatieDatum","ExtrasGroup"];e.vuexStore.subscribe((function(i){"updateFilter"===i.type?"onbeschikbaar"===i.payload.filterData[i.payload.filterData.filterTitle].data[0].value&&e.disableFilters(t):"removeFilter"===i.type&&"onbeschikbaar"===i.payload.value&&e.enableFilters(t)}))}},{key:"disableFilters",value:function(e){this.$targets=a()("[data-filter-visibility-target]"),this.$targets.each((function(t,i){var n=i.getAttribute(to);if(e.indexOf(n)>-1){var o=a()(i);o.trigger("resetfilter"),o.addClass("is-disabled").trigger("changed")}}))}},{key:"enableFilters",value:function(e){this.$targets.each((function(t,i){var n=i.getAttribute(to);e.indexOf(n)>-1&&a()(i).removeClass("is-disabled")}))}}]),e}();a()("[data-filter-visibility]").each((function(e,t){return new io(t)}));function no(e){var t=this;this.$element=a()(e),this.$pageNumber=a()(),this.$element.on("click","[data-pagination-page]",(function(e){e.preventDefault();var i=a()(e.currentTarget).attr("data-pagination-page");t.setPage(i)})).bind(this)}no.prototype.setPage=function(e){window.scrollTo(0,0),this.$pageNumber=this.$element.find("[data-pagination-input]"),this.$pageNumber.val(e),this.$element.trigger("pageadjusted")},no.initialize=function(){a()("[data-pagination]").each((function(e,t){return new no(t)}))},no.initialize();var ao=function(){function e(t){var i=this;h()(this,e),this.groupName=null,this.bindToElements(t),this.groupSettings={filterGroupId:this.$element.attr("data-radio-group"),filterGroupName:this.$element.attr("data-radio-group-label")},this.initialCheckState(),this.bindEvents(),a()(window).on("sidebar-refresh",(function(){if(null!=i.groupName){var e=a()("[data-radio-group][data-radio-group="+i.groupName+"]");i.bindToElements(e),i.initialCheckState(),i.bindEvents()}}))}return f()(e,[{key:"bindToElements",value:function(e){this.$element=a()(e),this.$item=this.$element.find("[data-radio-group-item]"),this.$items=this.$element.find("[data-radio-group-items]"),this.$inputs=this.$element.find("[data-radio-group-input]"),this.isNestedFilter=this.$element.is("[data-nested-filter]"),this.$rangeFlyout=this.$element.find("[data-filter-flyout-range]"),this.rangeTemplate=this.$element.find("[data-range-template]"),this.isExpandible=this.$element.is("[data-is-expandible]"),this.$rangeItem=this.$element.find("[data-radio-group-range]"),this.separator=this.rangeTemplate.attr("data-thousand-separator"),this.unitType=this.rangeTemplate.attr("data-range-unit-type"),this.notInAppliedFilters=this.$element.is("[data-not-in-applied-filters]"),null==this.groupName&&(this.groupName=this.$element.attr("data-radio-group"))}},{key:"bindEvents",value:function(){var e=this,t=this;this.$element.on("change","[data-radio-group-input]",(function(){var e=a()(this);t.toggleCheckedState(e)})),this.$element.on("reset",(function(){e.$items.find("[data-radio-group-range]").remove(),e.$element.removeClass("has-checked"),e.$item.removeClass("is-checked")})),this.$element.on("resetfilter",(function(){e.resetCheckState()})),this.$rangeFlyout.on("rangeselected",(function(t,i){e.addActiveRangeLabel(i)})),this.$rangeFlyout.on("rangeinitialized",(function(t,i){e.addActiveRangeLabel(i)}))}},{key:"addActiveRangeLabel",value:function(e){var t=this.rangeTemplate.html(),i=this.groupSettings;this.$items.find("[data-radio-group-range]").remove(),!e.min&&e.max&&(e.min="0");var n="";e.min&&!e.max?(e.min=e.min+"+",t=t.replace("- ",""),n=jt.format(e.min,this.separator)):n=jt.format(e.min,this.separator)+" - "+jt.format(e.max,this.separator),t=t.replace("{min}",jt.format(e.min,this.separator)).replace("{max}",jt.format(e.max,this.separator)),i.labelText=n+" "+this.unitType,i.filterName=i.labelText.replace("("+i.filterGroupName+")",""),this.applyOption(i),this.$items.append(t),this.$element.addClass("has-checked"),this.onRemoveActiveRange()}},{key:"onRemoveActiveRange",value:function(){var e=this;this.$rangeItem=this.$element.find("[data-radio-group-range]"),this.$rangeItem.on("click",(function(){e.removeCheckedState(),e.$rangeItem.remove(),e.$rangeFlyout.trigger("rangedeselected"),a()("[data-instant-search]").trigger("range_filter_removed")}))}},{key:"initialCheckState",value:function(){var e=this.$inputs.filter(":checked"),t=this.$inputs.index(e);this.onRemoveActiveRange(),this.isExpandible&&(this.$element.attr("data-expandible",""),this.expandible=new Di(this.$element[0])),this.isExpandible&&t>2&&this.expandible.toggleExpand(!0),e.length>0&&this.toggleCheckedState(e.first())}},{key:"toggleCheckedState",value:function(e){var t=e.closest("[data-radio-group-item]");e.is("[data-radio-group-default]")?this.removeCheckedState():this.addCheckedState(t,e)}},{key:"resetCheckState",value:function(e){var t=e||this,i=t.$inputs.filter(":checked"),n=i.is("[data-radio-group-default]");if(""!==i.val()&&i.length>0){if(n)i.prop("checked",!1);else t.$inputs.filter("[data-radio-group-default]").prop("checked",!0);t.$items.find("[data-radio-group-range]").remove(),t.removeCheckedState()}t.$rangeItem.length>0&&(t.$rangeItem.remove(),t.$rangeFlyout.trigger("rangedeselected"),t.removeCheckedState()),t.$element.trigger("radiogroupreset")}},{key:"removeCheckedState",value:function(){this.$element.removeClass("has-checked"),this.$item.removeClass("is-checked"),Ei.remove(this.groupSettings.filterGroupId),this.isNestedFilter&&this.$element.trigger("deselect-filter-item")}},{key:"addCheckedState",value:function(e,t){var i=this.groupSettings;this.$element.addClass("has-checked"),this.$item.not(e).removeClass("is-checked"),e.addClass("is-checked"),i.filterName=t.attr("data-radio-group-option-name"),i.labelText=i.filterName,t.is("[data-radio-group-add-groupname-to-filter]")?i.labelText=i.filterName+" ("+i.filterGroupName+")":t.is("[data-radio-group-add-text-to-filter]")&&(i.labelText=i.filterName+" ("+t.data("radioGroupAddTextToFilter")+")"),this.applyOption(i)}},{key:"applyOption",value:function(e){var t=this;this.notInAppliedFilters||Ei.add(e,(function(){t.resetCheckState(t)}))}}]),e}();a()("[data-radio-group]").each((function(e,t){return new ao(t)}));var oo=function(){function e(t){h()(this,e);var i=this;i.$element=a()(t),i.$autocomplete=i.$element.find("[data-autocomplete]"),i.$autocomplete.on("searchQuerySet",(function(e,t){i.setMultiplePlacesSearch(t.disableRadioFilter)}))}return f()(e,[{key:"setMultiplePlacesSearch",value:function(e){e?(this.$element.addClass("is-multiple-places"),this.$element.removeClass("has-radius")):(this.$element.removeClass("is-multiple-places"),this.$element.addClass("has-radius"))}}]),e}();a()("[data-search-header-selector]").each((function(e,t){return new oo(t)}));i(38),i(229);var so={props:{properties:{type:Array,required:!0},inputName:{type:String,required:!0},onChange:{type:Function},counts:{type:Object},selectedFilters:{type:[Object,Array]}},data:function(){return{selectedItem:this.selectedFilters.length>0?this.selectedFilters[0].value:""}},watch:{selectedFilters:function(){this.setSelectedItem()}},methods:{setSelectedItem:function(){this.selectedFilters.length>0?this.selectedItem=this.selectedFilters[0].value:this.selectedItem=""},getItemCount:function(e){return 0===Object.entries(this.counts).length&&this.counts.constructor===Object?e.count:this.counts[e.id]}}},ro=i(6),lo=Object(ro.a)(so,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"search-filters-radio-button-list"},[i("ul",{staticClass:"fd-m-none fd-p-none"},e._l(e.properties,(function(t){return i("li",{key:t.id,staticClass:"fd-m-bottom-xs radio-group-item-input radio-group-row",class:{"has-no-results":0==e.getItemCount(t)}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedItem,expression:"selectedItem"}],staticClass:"custom-radio",attrs:{id:t.id,type:"radio","data-filter-visibility-invalid-filters":t.visibilityInvalidFilters},domProps:{value:t.value,checked:e._q(e.selectedItem,t.value)},on:{change:[function(i){e.selectedItem=t.value},function(i){return e.onChange(Object.assign({},t,{input:e.inputName}))}]}}),e._v(" "),i("label",{staticClass:"label-text",attrs:{for:t.id}},[i("span",[e._v("\n                    "+e._s(t.name)+"\n                ")])]),e._v(" "),i("span",{staticClass:"count"},[e._v(e._s(e.getItemCount(t)))])])})),0)])}),[],!1,null,null,null).exports,co={bind:function(e,t,i){if("function"!=typeof t.value){var n=i.context.name,a="[Vue-click-outside:] provided expression '".concat(t.expression,"' is not a function, but has to be");n&&(a+="Found in component '".concat(n,"'")),St.log(a,{function:"ClickOutside"},"warn")}var o=t.modifiers.bubble,s=function(i){(o||!e.contains(i.target)&&e!==i.target)&&t.value(i)};e.__vueClickOutside__=s,document.addEventListener("click",s,!0)},unbind:function(e){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}};bi.a.directive("click-outside",co);var uo={directives:{ClickOutside:co},props:{label:{type:String,required:!0}},data:function(){return{balloonIsActive:!1}},methods:{toggleBalloonState:function(){this.balloonIsActive=!this.balloonIsActive,this.$emit("tooltipClicked",this.balloonIsActive)}}},ho=Object(ro.a)(uo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(t){e.balloonIsActive=!1},expression:"\n        e => {\n            balloonIsActive = false;\n        }\n    "}],staticClass:"search-filters-tooltip app-tooltip filter-status-info fd-display-inline-block",on:{click:function(t){return t.stopPropagation(),e.toggleBalloonState()}}},[i("div",{staticClass:"icon-info-blue",attrs:{title:"+ Info"}},[e.balloonIsActive?i("span",{staticClass:"info-message-floating",domProps:{innerHTML:e._s(e.label)}}):e._e()])])}),[],!1,null,null,null).exports,po={components:{"app-radio-button-list":lo,"app-tooltip":ho},props:{title:{type:String,required:!0},isVisible:{type:Boolean},inputName:{type:String,required:!0},properties:{type:Array,required:!0},tooltipLabel:{type:String},counts:{type:Object},selectedFilters:{type:[Object,Array]}},data:function(){return{isHiddenMobileToolTip:!0}},methods:{onSelectFilterOption:function(e){this.$emit("onRadioFilterSelected",e)},tooltipClicked:function(){this.isHiddenMobileToolTip=!this.isHiddenMobileToolTip},toggleMobileTooltip:function(){this.isHiddenMobileToolTip=!0}}},fo=Object(ro.a)(po,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"search-filters-radio-button-filter-wrapper"},[i("fieldset",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){e.isHiddenMobileToolTip=!0},expression:"\n            () => {\n                isHiddenMobileToolTip = true;\n            }\n        "}],staticClass:"app-search-sidebar-filter",on:{click:function(t){return t.stopPropagation(),e.toggleMobileTooltip()}}},[i("legend",{staticClass:"mobile-sidebar-info fd-container-full",class:{"is-hidden":e.isHiddenMobileToolTip}},[i("div",{staticClass:"info-message",domProps:{innerHTML:e._s(e.tooltipLabel)}})]),e._v(" "),i("legend",{staticClass:"filter-header fd-m-bottom-xs fd-p-right fd-p-left fd-container-full"},[i("div",{staticClass:"fd-display-inline-block"},[e._v("\n                "+e._s(e.title)+"\n            ")]),e._v(" "),e.tooltipLabel?i("app-tooltip",{attrs:{label:e.tooltipLabel},on:{tooltipClicked:e.tooltipClicked}}):e._e()],1),e._v(" "),e.isVisible?i("app-radio-button-list",{attrs:{counts:e.counts,properties:e.properties,"input-name":e.inputName,"on-change":e.onSelectFilterOption,"selected-filters":e.selectedFilters}}):e._e(),e._v(" "),e._t("default")],2)])}),[],!1,null,null,null).exports,mo={props:{removeLabelText:{type:String},filter:{type:Object,required:!0},onClick:{type:Function}}},vo={components:{"app-removable-filter-item":Object(ro.a)(mo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"search-filters-removable-filter-item",on:{click:function(t){return e.onClick(e.filter)}}},[i("label",{staticClass:"fd-flex fd-align-items-center fd-p-s fd-p-right-xs fd-p-left-xs fd-color-blue-2 fd-bg-blue-5"},[i("span",{staticClass:"icon-close-blue fd-m-right-s",attrs:{"data-grunticon-embed":""}}),e._v(" "),i("span",{staticClass:"a11y-sr-only"},[e._v(e._s(e.removeLabelText))]),e._v(" "),i("span",[e._v(e._s(e.filter.name))])])])}),[],!1,null,null,null).exports},props:{removeLabelText:{type:String},selectedFilters:{type:[Array,Object],required:!0},onRemove:{type:Function,required:!0}},methods:{onRemoveFilter:function(e){this.onRemove(e)}}},go=Object(ro.a)(vo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"fd-p-none"},e._l(e.selectedFilters,(function(t){return i("app-removable-filter-item",{key:t.id,staticClass:"fd-m-bottom-xs",attrs:{filter:t,"remove-label-text":e.removeLabelText,"on-click":e.onRemoveFilter}})})),1)}),[],!1,null,null,null).exports;function yo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function bo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var wo={components:{"app-radio-button-filter-wrapper":fo,"app-removable-filter-list":go},props:{title:{type:String,required:!0},removeLabelText:{type:String,default:""},inputName:{type:String,required:!0},properties:{type:Array,required:!0},tooltipLabel:{type:String,default:""}},computed:bo({},Object(gi.c)({counts:function(e){return e.counts},selectedFilters:function(e){return e.selectedFilters.statusFilter?e.selectedFilters.statusFilter.data:[]}})),created:function(){var e=this;this.properties.map((function(t){t.isSelected&&(e.addAppliedFilter(t),e.onFilterSelected(bo({},t,{input:e.inputName})))}))},methods:bo({},Object(gi.b)(["updateSelectedFilters","removeSelectedFilters","requestData"]),{addAppliedFilter:function(e){var t=this,i={filterGroupId:"statusFilter",filterGroupName:e.input,filterName:e.name,labelText:e.name,input:e.input};Ei.add(i,(function(){t.onRemoveSelectedFilter(i)}),!0)},onFilterSelected:function(e){var t,i=(t={},k()(t,"statusFilter",{data:[bo({},e)]}),k()(t,"filterTitle","statusFilter"),t);this.updateSelectedFilters({filterData:i},e),this.addAppliedFilter(e),this.onRequestData()},onRequestData:function(){this.requestData()},onRemoveSelectedFilter:function(e){Ei.remove("statusFilter"),this.removeSelectedFilters(bo({filterTitle:"statusFilter"},e)),this.onRequestData()}})},ko=Object(ro.a)(wo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"status-filter fd-m-bottom"},[i("app-radio-button-filter-wrapper",{attrs:{counts:e.counts,properties:e.properties,title:e.title,"input-name":e.inputName,"remove-label-text":e.removeLabelText,"tooltip-label":e.tooltipLabel,"selected-filters":e.selectedFilters,"is-visible":0===e.selectedFilters.length},on:{onRadioFilterSelected:e.onFilterSelected,onRequestData:e.onRequestData}},[e.selectedFilters.length>0?i("app-removable-filter-list",{attrs:{"remove-label-text":e.removeLabelText,"selected-filters":e.selectedFilters,"on-remove":e.onRemoveSelectedFilter}}):e._e()],1)],1)}),[],!1,null,null,null).exports,$o={props:{label:{type:String,required:!0},active:{type:Boolean,required:!0}}},Co=Object(ro.a)($o,(function(){var e=this.$createElement,t=this._self._c||e;return this.active?t("legend",{staticClass:"mobile-sidebar-info"},[t("div",{staticClass:"info-message"},[this._v("\n        "+this._s(this.label)+"\n    ")])]):this._e()}),[],!1,null,null,null).exports;function So(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var To={directives:{EmitChangeOnCreation:{inserted:function(e){e.dispatchEvent(new Event("change"))}}},props:{properties:{type:[Array,Object],required:!0}},data:function(){return{vuexStore:Si,items:[]}},created:function(){this.subscribeToVuexStore(),this.items=this.properties},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?So(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):So(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(gi.b)(["requestData"]),{subscribeToVuexStore:function(){var e=this;this.vuexStore.subscribe((function(t){e.mutationHandler(t)}))},updateAppliedFilterLabels:function(e){var t=this,i=e.currentTarget,n={filterGroupId:i.value,filterGroupName:i.value,filterName:i.value,labelText:i.value};i.checked?Ei.add(n,(function(){t.onRemoveSelectionFromFilterLabel(i)}),!0):Ei.remove(i.value)},onCheckboxClick:function(e){this.updateAppliedFilterLabels(e),this.requestData()},onRemoveSelectionFromFilterLabel:function(e){Ei.remove(e.value),e.checked=!1,this.requestData()},resetSelections:function(){this.items.forEach((function(e){return e.isSelected=!1}))},mutationHandler:function(e){"clearAllFilters"===e.type&&this.resetSelections()}})},Eo={components:{"app-tooltip":ho,"app-sidebar-info":Co,"app-checkbox-list":Object(ro.a)(To,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.items?i("ul",{staticClass:"filter-checkbox-list"},e._l(e.items,(function(t,n){return i("li",{key:n,staticClass:"label-text filter-flyout-option-label"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isSelected,expression:"option.isSelected"},{name:"emit-change-on-creation",rawName:"v-emit-change-on-creation"}],staticClass:"custom-checkbox",attrs:{id:t.id,name:"filter_ContractTermRangeId",type:"checkbox"},domProps:{value:t.value,checked:Array.isArray(t.isSelected)?e._i(t.isSelected,t.value)>-1:t.isSelected},on:{change:[function(i){var n=t.isSelected,a=i.target,o=!!a.checked;if(Array.isArray(n)){var s=t.value,r=e._i(n,s);a.checked?r<0&&e.$set(t,"isSelected",n.concat([s])):r>-1&&e.$set(t,"isSelected",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(t,"isSelected",o)},function(t){return e.onCheckboxClick(t)}]}}),e._v(" "),i("label",{staticClass:"label-text filter-flyout-option-label",attrs:{for:t.id}},[e._v("\n            "+e._s(t.name)+"\n        ")]),e._v(" "),i("span",{staticClass:"filter-flyout-option-count"},[e._v(" "+e._s(t.count)+" ")])])})),0):e._e()}),[],!1,null,null,null).exports},props:{title:{type:String,required:!0},tooltipLabel:{type:String,required:!0},inputName:{type:String,required:!0},properties:{type:Array,required:!0}},data:function(){return{tooltipBalloonIsActive:!1}},methods:{tooltipClicked:function(e){this.tooltipBalloonIsActive=e}}},Oo=Object(ro.a)(Eo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("fieldset",{staticClass:"search-filter-checkbox radio-group-fieldset",attrs:{"data-nested-filter":""}},[i("app-sidebar-info",{attrs:{label:e.tooltipLabel,active:e.tooltipBalloonIsActive}}),e._v(" "),i("div",{staticClass:"fd-container-full"},[i("legend",{staticClass:"radio-group-legend radio-group-row"},[e._v("\n            "+e._s(e.title)+"\n            "),i("app-tooltip",{attrs:{label:e.tooltipLabel},on:{tooltipClicked:e.tooltipClicked}})],1)]),e._v(" "),i("app-checkbox-list",{attrs:{properties:e.properties}})],1)}),[],!1,null,null,null).exports,xo={props:{name:{type:String,required:!0}}},_o=Object(ro.a)(xo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",{staticClass:"fd-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48","data-testid":"icon-"+e.name}},["view"===e.name?i("path",{attrs:{id:"View",d:"M23.71325,16 C28.13125,16 31.71325,19.582 31.71325,24 C31.71325,28.418 28.13125,32 23.71325,32 C19.29525,32 15.71325,28.418 15.71325,24 C15.71325,19.582 19.29525,16 23.71325,16 Z M23.71325,29 C26.47425,29 28.71325,26.761 28.71325,24 C28.71325,21.239 26.47425,19 23.71325,19 C20.95125,19 18.71325,21.239 18.71325,24 C18.71325,26.761 20.95125,29 23.71325,29 Z M23.71325,10 C12.58025,10 4.25225,18.728 1.96525,21.402 C0.67825,22.908 0.67825,25.092 1.96525,26.598 C4.25225,29.272 12.58025,38 23.71325,38 C34.84625,38 43.17325,29.272 45.46125,26.598 C46.74825,25.092 46.74825,22.908 45.46125,21.402 C43.17325,18.728 34.84625,10 23.71325,10 M23.71325,13 C33.60025,13 41.16425,20.993 43.18125,23.352 C43.50225,23.728 43.50225,24.272 43.18125,24.648 C41.16425,27.007 33.60025,35 23.71325,35 C13.82625,35 6.26225,27.007 4.24525,24.648 C3.92425,24.272 3.92425,23.728 4.24525,23.352 C6.26225,20.993 13.82625,13 23.71325,13"}}):e._e(),e._v(" "),"heart-border"===e.name?i("g",{attrs:{id:"Heart-outline"}},[i("path",{attrs:{d:"M24,44.25a1.5,1.5,0,0,1-.55-.11l-.65-.25h0a32.13,32.13,0,0,1-8-5.15,38.1,38.1,0,0,1-9.12-11A28.26,28.26,0,0,1,3.43,22a24.69,24.69,0,0,1-.87-6.49A11.76,11.76,0,0,1,20.23,5.34,12.12,12.12,0,0,1,24,8.84a12,12,0,0,1,3.77-3.5A11.77,11.77,0,0,1,45.44,15.53,24.8,24.8,0,0,1,44.57,22a27.8,27.8,0,0,1-2.26,5.71,38,38,0,0,1-9.12,11,31.83,31.83,0,0,1-8,5.15l-.66.26A1.66,1.66,0,0,1,24,44.25Zm-.11-3.16.11,0,.11,0a29.67,29.67,0,0,0,7.15-4.65,35,35,0,0,0,8.39-10.11,25.22,25.22,0,0,0,2-5.1,21.79,21.79,0,0,0,.76-5.7A8.75,8.75,0,0,0,29.28,7.94,8.93,8.93,0,0,0,26.15,11c-.09.15-.18.3-.26.46l-.51,1.16a1.5,1.5,0,0,1-1.37.91h0a1.51,1.51,0,0,1-1.38-.9l-.51-1.16c-.09-.16-.17-.31-.27-.47a8.8,8.8,0,0,0-3.14-3.1,8.63,8.63,0,0,0-4.38-1.19,8.79,8.79,0,0,0-8.77,8.78,21.67,21.67,0,0,0,.76,5.7,24.82,24.82,0,0,0,2,5.1,35,35,0,0,0,8.4,10.11,29.79,29.79,0,0,0,7.15,4.65Z"}})]):e._e(),e._v(" "),"heart-filled-border"===e.name?i("g",{attrs:{id:"Heart-fill-border"}},[i("path",{attrs:{id:"Fill",d:"M14.33,6.76a8.79,8.79,0,0,0-8.77,8.78,21.8,21.8,0,0,0,.76,5.71,25.32,25.32,0,0,0,2,5.09,35,35,0,0,0,8.4,10.11,29.67,29.67,0,0,0,7.15,4.65h0l.11,0,.11,0a29.67,29.67,0,0,0,7.15-4.65,34.83,34.83,0,0,0,8.39-10.11,25.22,25.22,0,0,0,2-5.1,21.79,21.79,0,0,0,.76-5.7A8.75,8.75,0,0,0,29.29,8a8.88,8.88,0,0,0-3.14,3.1c-.09.15-.18.3-.26.46l-.51,1.16a1.5,1.5,0,0,1-1.37.91h0a1.51,1.51,0,0,1-1.38-.9l-.51-1.16-.27-.47A8.88,8.88,0,0,0,18.71,8,8.63,8.63,0,0,0,14.33,6.76Z"}}),e._v(" "),i("path",{attrs:{id:"Border",fill:"#fff",d:"M24,44.26a1.5,1.5,0,0,1-.55-.11l-.65-.25a32.13,32.13,0,0,1-8-5.15,38.24,38.24,0,0,1-9.12-11A28.26,28.26,0,0,1,3.43,22a24.69,24.69,0,0,1-.87-6.49A11.76,11.76,0,0,1,20.23,5.35,12.12,12.12,0,0,1,24,8.85a12.12,12.12,0,0,1,3.77-3.5A11.77,11.77,0,0,1,45.44,15.54,25.21,25.21,0,0,1,44.58,22a28.42,28.42,0,0,1-2.27,5.71,38.1,38.1,0,0,1-9.12,11,31.83,31.83,0,0,1-8,5.15l-.65.25A1.5,1.5,0,0,1,24,44.26ZM14.33,6.76a8.79,8.79,0,0,0-8.77,8.78,21.8,21.8,0,0,0,.76,5.71,25.32,25.32,0,0,0,2,5.09,35,35,0,0,0,8.4,10.11,29.67,29.67,0,0,0,7.15,4.65h0l.11,0,.11,0a29.67,29.67,0,0,0,7.15-4.65,34.83,34.83,0,0,0,8.39-10.11,25.22,25.22,0,0,0,2-5.1,21.79,21.79,0,0,0,.76-5.7A8.75,8.75,0,0,0,29.29,8a8.88,8.88,0,0,0-3.14,3.1c-.09.15-.18.3-.26.46l-.51,1.16a1.5,1.5,0,0,1-1.37.91h0a1.51,1.51,0,0,1-1.38-.9l-.51-1.16-.27-.47A8.88,8.88,0,0,0,18.71,8,8.63,8.63,0,0,0,14.33,6.76Z"}})]):e._e(),e._v(" "),"heart-semi-filled"===e.name?i("g",{attrs:{id:"Heart-semifilled-40"}},[i("path",{attrs:{"fill-opacity":"0.4",d:"M24,44.26a1.5,1.5,0,0,1-.55-.11l-.65-.25a32.13,32.13,0,0,1-8-5.15,38.24,38.24,0,0,1-9.12-11A28.26,28.26,0,0,1,3.43,22a24.69,24.69,0,0,1-.87-6.49A11.76,11.76,0,0,1,20.23,5.35,12.12,12.12,0,0,1,24,8.85a12.12,12.12,0,0,1,3.77-3.5A11.77,11.77,0,0,1,45.44,15.54,25.21,25.21,0,0,1,44.58,22a28.42,28.42,0,0,1-2.27,5.71,38.1,38.1,0,0,1-9.12,11,31.83,31.83,0,0,1-8,5.15l-.65.25A1.5,1.5,0,0,1,24,44.26Z"}}),e._v(" "),i("path",{attrs:{id:"Border",fill:"#fff",d:"M24,44.26a1.5,1.5,0,0,1-.55-.11l-.65-.25a32.13,32.13,0,0,1-8-5.15,38.24,38.24,0,0,1-9.12-11A28.26,28.26,0,0,1,3.43,22a24.69,24.69,0,0,1-.87-6.49A11.76,11.76,0,0,1,20.23,5.35,12.12,12.12,0,0,1,24,8.85a12.12,12.12,0,0,1,3.77-3.5A11.77,11.77,0,0,1,45.44,15.54,25.21,25.21,0,0,1,44.58,22a28.42,28.42,0,0,1-2.27,5.71,38.1,38.1,0,0,1-9.12,11,31.83,31.83,0,0,1-8,5.15l-.65.25A1.5,1.5,0,0,1,24,44.26ZM14.33,6.76a8.79,8.79,0,0,0-8.77,8.78,21.8,21.8,0,0,0,.76,5.71,25.32,25.32,0,0,0,2,5.09,35,35,0,0,0,8.4,10.11,29.67,29.67,0,0,0,7.15,4.65h0l.11,0,.11,0a29.67,29.67,0,0,0,7.15-4.65,34.83,34.83,0,0,0,8.39-10.11,25.22,25.22,0,0,0,2-5.1,21.79,21.79,0,0,0,.76-5.7A8.75,8.75,0,0,0,29.29,8a8.88,8.88,0,0,0-3.14,3.1c-.09.15-.18.3-.26.46l-.51,1.16a1.5,1.5,0,0,1-1.37.91h0a1.51,1.51,0,0,1-1.38-.9l-.51-1.16-.27-.47A8.88,8.88,0,0,0,18.71,8,8.63,8.63,0,0,0,14.33,6.76Z"}})]):e._e(),e._v(" "),"heart-filled"===e.name?i("path",{attrs:{d:"M42,17a10,10,0,0,0-18-6A10,10,0,0,0,6,17H6C6,32,22,41,24,41s18-9,18-24Z"}}):e._e(),e._v(" "),"calendar"===e.name?i("g",{attrs:{id:"Calendar"}},[i("path",{attrs:{d:"M42,38.41V12.5h0A1.5,1.5,0,0,0,40.5,11h-7V9.5a1.5,1.5,0,0,0-3,0V11h-13V9.5a1.5,1.5,0,0,0-3,0V11h-7A1.5,1.5,0,0,0,6,12.5v26A1.5,1.5,0,0,0,7.5,40h33A1.5,1.5,0,0,0,42,38.5S42,38.44,42,38.41ZM16,17a1.5,1.5,0,0,0,1.5-1.5V14h13v1.5a1.5,1.5,0,0,0,3,0V14H39V37H9V14h5.5v1.5A1.5,1.5,0,0,0,16,17Z"}}),e._v(" "),i("circle",{attrs:{cx:"16",cy:"23",r:"2"}}),e._v(" "),i("circle",{attrs:{cx:"16",cy:"31",r:"2"}}),e._v(" "),i("circle",{attrs:{cx:"24.01",cy:"23",r:"2"}}),e._v(" "),i("circle",{attrs:{cx:"24.01",cy:"31",r:"2"}}),e._v(" "),i("circle",{attrs:{cx:"32",cy:"23",r:"2"}}),e._v(" "),i("circle",{attrs:{cx:"32",cy:"31",r:"2"}})]):e._e(),e._v(" "),"error"===e.name?i("g",{attrs:{id:"Error"}},[i("rect",{attrs:{x:"22.5",y:"13",width:"3",height:"17",rx:"1.5",ry:"1.5",transform:"translate(48 43) rotate(-180)"}}),e._v(" "),i("rect",{attrs:{x:"22.5",y:"32",width:"3",height:"3",rx:"1.5",ry:"1.5",transform:"translate(48 67) rotate(-180)"}}),e._v(" "),i("path",{attrs:{d:"M44,16.78a1.46,1.46,0,0,0-.17-1,1.49,1.49,0,0,0-.19-.29l0-.05-11-11a1.5,1.5,0,0,0-.49-.33h0A1.49,1.49,0,0,0,31.5,4h-15a1.49,1.49,0,0,0-.55.11h0a1.5,1.5,0,0,0-.49.33l-11,11h0l0,0,0,0a1.49,1.49,0,0,0-.2.3,1.46,1.46,0,0,0-.16,1V31.26a1.47,1.47,0,0,0,.39,1.3l11,11a1.47,1.47,0,0,0,1.29.39H31.27a1.47,1.47,0,0,0,1.29-.39l11-11a1.47,1.47,0,0,0,.39-1.3ZM30.92,41H17.08L7,30.92V17.12L17.12,7H30.88L41,17.12v13.8Z"}})]):e._e(),e._v(" "),"envelope"===e.name?i("path",{attrs:{id:"Mail",d:"M42.5,10H5.5A1.5,1.5,0,0,0,4,11.5v25A1.5,1.5,0,0,0,5.5,38h37A1.5,1.5,0,0,0,44,36.5v-25A1.5,1.5,0,0,0,42.5,10ZM23.12,26.22a1.5,1.5,0,0,0,1.76,0L41,14.57V35H7V14.57ZM9.95,13H38.05L24,23.15Z"}}):e._e(),e._v(" "),"facebook"===e.name?i("path",{attrs:{id:"Facebook",d:"M19,17.08H14.77v6.84H19V44H27V23.83h5.62l.6-6.75H27V13.23c0-1.59.32-2.22,1.86-2.22h4.36V4H27.65c-6,0-8.7,2.64-8.7,7.69Z"}}):e._e(),e._v(" "),"whatsapp"===e.name?i("g",{attrs:{id:"WhatsApp"}},[i("path",{attrs:{d:"M38.17 9.84a19.92 19.92 0 00-31.35 24L4 44.19l10.56-2.77a19.9 19.9 0 009.52 2.42 19.92 19.92 0 0014.09-34zM24.08 40.48a16.53 16.53 0 01-8.43-2.31l-.6-.36-6.27 1.65 1.67-6.11-.39-.63a16.55 16.55 0 1114 7.76z"}}),e._v(" "),i("path",{attrs:{d:"M34.12 28.67c-.12-.21-.46-.33-1-.58s-2.94-1.45-3.4-1.62-.79-.25-1.12.25-1.29 1.62-1.58 2-.58.37-1.08.12a13.59 13.59 0 01-4-2.47 15 15 0 01-2.77-3.45c-.29-.5 0-.77.22-1s.5-.58.75-.87a3.4 3.4 0 00.5-.83.92.92 0 000-.87c-.12-.25-1.12-2.7-1.53-3.7s-.81-.84-1.12-.85h-1a1.83 1.83 0 00-1.33.62A5.58 5.58 0 0014 19.49a9.68 9.68 0 002 5.15c.25.33 3.51 5.36 8.5 7.51a28.57 28.57 0 002.84 1 6.82 6.82 0 003.13.2c1-.14 2.94-1.2 3.36-2.37a4.16 4.16 0 00.29-2.31z"}})]):e._e(),e._v(" "),"twitter"===e.name?i("path",{attrs:{id:"Twitter",d:"M44,11.59a16.4,16.4,0,0,1-4.71,1.29A8.23,8.23,0,0,0,42.9,8.35a16.43,16.43,0,0,1-5.21,2,8.21,8.21,0,0,0-14,7.49A23.3,23.3,0,0,1,6.78,9.25a8.22,8.22,0,0,0,2.54,11,8.17,8.17,0,0,1-3.72-1,8.21,8.21,0,0,0,6.58,8.15,8.22,8.22,0,0,1-3.71.14,8.21,8.21,0,0,0,7.67,5.7A16.5,16.5,0,0,1,4,36.57a23.23,23.23,0,0,0,12.58,3.69c15.24,0,23.84-12.87,23.33-24.41A16.67,16.67,0,0,0,44,11.59Z"}}):e._e(),e._v(" "),"pinterest"===e.name?i("path",{attrs:{id:"Pinterest",d:"M24.94,4C14,4,8.52,11.83,8.52,18.35c0,4,1.5,7.47,4.71,8.78a.79.79,0,0,0,1.15-.58c.11-.4.36-1.42.47-1.84a1.12,1.12,0,0,0-.33-1.28A6.63,6.63,0,0,1,13,18.93a10.88,10.88,0,0,1,11.31-11c6.17,0,9.56,3.77,9.56,8.8,0,6.62-2.93,12.22-7.28,12.22A3.56,3.56,0,0,1,23,24.52c.69-2.91,2-6.05,2-8.15,0-1.88-1-3.45-3.1-3.45-2.46,0-4.43,2.54-4.43,5.95a8.84,8.84,0,0,0,.73,3.64L15.23,35a25.77,25.77,0,0,0-.07,8.73.31.31,0,0,0,.55.13,24.52,24.52,0,0,0,4.15-7.52c.28-1,1.62-6.32,1.62-6.32.8,1.52,3.13,2.86,5.61,2.86,7.39,0,12.4-6.73,12.4-15.75C39.48,10.35,33.71,4,24.94,4Z"}}):e._e(),e._v(" "),"share"===e.name?i("path",{attrs:{d:"M36,31.3a6,6,0,0,0-4.81,2.42l-13.51-7.8a5.92,5.92,0,0,0,.08-3.58l13.7-7.91a6,6,0,1,0-1.33-2.69l-13.89,8a6,6,0,1,0-.2,8.68l14,8.09A6,6,0,1,0,36,31.3ZM36,7.52a3,3,0,1,1-3,3A3,3,0,0,1,36,7.52ZM12,27a3,3,0,1,1,3-3A3,3,0,0,1,12,27ZM36,40.3a3,3,0,1,1,3-3A3,3,0,0,1,36,40.3Z"}}):e._e(),e._v(" "),"close"===e.name?i("path",{attrs:{id:"Close",d:"M26.12,24,36.73,13.39a1.5,1.5,0,0,0,0-2.12h0a1.5,1.5,0,0,0-2.12,0L24,21.88,13.39,11.27a1.5,1.5,0,1,0-2.12,2.12L21.88,24,11.27,34.61a1.5,1.5,0,1,0,2.12,2.12L24,26.12,34.61,36.73a1.5,1.5,0,0,0,2.12,0h0a1.5,1.5,0,0,0,0-2.12Z"}}):e._e()])}),[],!1,null,null,null).exports,Io={components:{Icon:_o},props:{text:{type:String,required:!0}}},Po=Object(ro.a)(Io,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fd-notification fd-border-radius fd-p-s fd-m-bottom-xl fd-bg-red-2",attrs:{role:"alert"}},[t("span",{staticClass:"fd-notification__icon fd-m-right-s",attrs:{"aria-label":"error"}},[t("Icon",{staticClass:"fd-color-red-1",attrs:{name:"error"}})],1),this._v(" "),t("p",{staticClass:"fd-notification__body"},[this._v("\n    "+this._s(this.text)+"\n  ")])])}),[],!1,null,null,null).exports,Lo={props:{id:{type:String},label:{type:String,required:!0},error:{type:String,default:""}}},Ao=Object(ro.a)(Lo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fd-form-control fd-m-bottom-l",class:""!==e.error?"fd-form-control--invalid":""},[i("label",{staticClass:"fd-label",attrs:{for:e.id}},[e._v(e._s(e.label))]),e._v(" "),e._t("default"),e._v(" "),""!==e.error?i("p",{staticClass:"fd-form-control__validation",attrs:{role:"alert"}},[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e()],2)}),[],!1,null,null,null).exports,jo={data:function(){return{salutation:""}},watch:{salutation:function(e){this.$emit("change",e)}}},Do=Object(ro.a)(jo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fd-radio-group fd-flex-inline",attrs:{role:"radiogroup"}},[i("div",{staticClass:"fd-radio fd-p-right-xl"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.salutation,expression:"salutation"}],staticClass:"fd-radio__input",attrs:{id:"form-salutation-mr",type:"radio",value:"Dhr"},domProps:{checked:e._q(e.salutation,"Dhr")},on:{change:function(t){e.salutation="Dhr"}}}),e._v(" "),i("label",{staticClass:"fd-label",attrs:{for:"form-salutation-mr"}},[e._v(e._s(e.$_i18n("Mr")))])]),e._v(" "),i("div",{staticClass:"fd-radio fd-p-right-xl"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.salutation,expression:"salutation"}],staticClass:"fd-radio__input",attrs:{id:"form-salutation-mrs",type:"radio",value:"Mevr"},domProps:{checked:e._q(e.salutation,"Mevr")},on:{change:function(t){e.salutation="Mevr"}}}),e._v(" "),i("label",{staticClass:"fd-label",attrs:{for:"form-salutation-mrs"}},[e._v(e._s(e.$_i18n("Mrs")))])])])}),[],!1,null,null,null).exports,Mo=i(245),Ro=i(53),Fo={components:{FormControl:Ao,RadioButtonSalutation:Do},mixins:[Mo.validationMixin],validations:{salutation:{required:Ro.required},name:{required:Ro.required},email:{required:Ro.required,email:Ro.email},phoneNumber:{required:Ro.required},postalCode:{required:Ro.required},houseNumber:{required:Ro.required},streetName:{required:Ro.required},city:{required:Ro.required}},props:{partnerName:{type:String,required:!0},partnerLogo:{type:String,required:!0}},data:function(){return{salutation:"",name:"",email:"",confirmEmail:"",phoneNumber:"",postalCode:"",houseNumber:"",streetName:"",city:""}},methods:{onFormSubmit:function(){this.$v.$touch(),this.$v.$invalid||this.$emit("submit",{salutation:this.salutation,name:this.name,email:this.email,confirmEmail:this.confirmEmail,phoneNumber:this.phoneNumber,postalCode:this.postalCode,houseNumber:this.houseNumber,streetName:this.streetName,city:this.city})}}},Vo=Object(ro.a)(Fo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mortgage-lead-form"},[i("h1",{staticClass:"fd-text-size-l fd-m-none fd-m-bottom-xl"},[e._v("\n    "+e._s(e.$_i18n("MortgageLeadFormTitle"))+"\n  ")]),e._v(" "),i("p",{staticClass:"fd-m-none fd-m-bottom-s"},[e._v("\n    "+e._s(e.$_i18n("MortgageLeadFormDescription",e.partnerName))+"\n  ")]),e._v(" "),i("img",{staticClass:"mortgage-lead-form__logo fd-m-vertical-s",attrs:{src:e.partnerLogo}}),e._v(" "),i("form",{staticClass:"fd-container--xs",on:{submit:function(t){return t.preventDefault(),e.onFormSubmit(t)}}},[i("FormControl",{attrs:{label:e.$_i18n("Salutation"),error:e.$v.salutation.$error?e.$_i18n("RequiredFieldErrorText"):""},scopedSlots:e._u([{key:"default",fn:function(){return[i("RadioButtonSalutation",{on:{change:function(t){e.salutation=t}}})]},proxy:!0}])}),e._v(" "),i("FormControl",{attrs:{id:"form-name",label:e.$_i18n("Name"),error:e.$v.name.$error?e.$_i18n("RequiredFieldErrorText"):""},scopedSlots:e._u([{key:"default",fn:function(){return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"fd-input",attrs:{id:"form-name",type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]},proxy:!0}])}),e._v(" "),i("FormControl",{attrs:{id:"form-email",label:e.$_i18n("EmailAddress"),error:e.$v.email.$error?e.$_i18n("RequiredFieldErrorText"):""},scopedSlots:e._u([{key:"default",fn:function(){return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"fd-input",attrs:{id:"form-email",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]},proxy:!0}])}),e._v(" "),i("FormControl",{attrs:{id:"form-phone-number",label:e.$_i18n("PhoneNumber"),error:e.$v.phoneNumber.$error?e.$_i18n("RequiredFieldErrorText"):""},scopedSlots:e._u([{key:"default",fn:function(){return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],staticClass:"fd-input",attrs:{id:"form-phone-number",type:"phone"},domProps:{value:e.phoneNumber},on:{input:function(t){t.target.composing||(e.phoneNumber=t.target.value)}}})]},proxy:!0}])}),e._v(" "),i("div",{staticClass:"fd-flex"},[i("FormControl",{staticClass:"fd-m-right-l",attrs:{id:"form-postal-code",label:e.$_i18n("PostalCode"),error:e.$v.postalCode.$error?e.$_i18n("RequiredFieldErrorText"):""},scopedSlots:e._u([{key:"default",fn:function(){return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.postalCode,expression:"postalCode"}],staticClass:"fd-input",attrs:{id:"form-postal-code",type:"text"},domProps:{value:e.postalCode},on:{input:function(t){t.target.composing||(e.postalCode=t.target.value)}}})]},proxy:!0}])}),e._v(" "),i("FormControl",{attrs:{id:"form-house-number",label:e.$_i18n("HouseNumber"),error:e.$v.houseNumber.$error?e.$_i18n("RequiredFieldErrorText"):""},scopedSlots:e._u([{key:"default",fn:function(){return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.houseNumber,expression:"houseNumber"}],staticClass:"fd-input",attrs:{id:"form-house-number",type:"text"},domProps:{value:e.houseNumber},on:{input:function(t){t.target.composing||(e.houseNumber=t.target.value)}}})]},proxy:!0}])})],1),e._v(" "),i("div",{staticClass:"fd-flex"},[i("FormControl",{staticClass:"fd-m-right-l",attrs:{id:"form-street-name",label:e.$_i18n("StreetName"),error:e.$v.streetName.$error?e.$_i18n("RequiredFieldErrorText"):""},scopedSlots:e._u([{key:"default",fn:function(){return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.streetName,expression:"streetName"}],staticClass:"fd-input",attrs:{id:"form-street-name",type:"text"},domProps:{value:e.streetName},on:{input:function(t){t.target.composing||(e.streetName=t.target.value)}}})]},proxy:!0}])}),e._v(" "),i("FormControl",{attrs:{id:"form-city",label:e.$_i18n("City"),error:e.$v.city.$error?e.$_i18n("RequiredFieldErrorText"):""},scopedSlots:e._u([{key:"default",fn:function(){return[i("input",{directives:[{name:"model",rawName:"v-model",value:e.city,expression:"city"}],staticClass:"fd-input",attrs:{id:"form-city",type:"text"},domProps:{value:e.city},on:{input:function(t){t.target.composing||(e.city=t.target.value)}}})]},proxy:!0}])})],1),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmEmail,expression:"confirmEmail"}],staticClass:"fd-input fd-completely-hidden",attrs:{type:"email"},domProps:{value:e.confirmEmail},on:{input:function(t){t.target.composing||(e.confirmEmail=t.target.value)}}}),e._v(" "),i("button",{staticClass:"fd-btn fd-btn--primary fd-btn--block",attrs:{type:"submit"}},[e._v("\n      "+e._s(e.$_i18n("Send"))+"\n    ")])],1),e._v(" "),i("p",{staticClass:"fd-m-vertical-xl fd-color-dark-2 fd-text-size-s",domProps:{innerHTML:e._s(e.$_i18n("MortgageLeadFormConsent"))}})])}),[],!1,null,null,null).exports,Ho={props:{partnerName:{type:String,required:!0},email:{type:String,required:!0},phoneNumber:{type:String,required:!0}}},No=Object(ro.a)(Ho,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h1",{staticClass:"fd-text-size-l fd-m-none fd-m-bottom-xl"},[e._v("\n    "+e._s(e.$_i18n("MortgageLeadConfirmationTitle"))+"\n  ")]),e._v(" "),i("p",{staticClass:"fd-m-none fd-m-bottom-3xl"},[e._v("\n    "+e._s(e.$_i18n("MortgageLeadConfirmationDescription",e.partnerName))+"\n  ")]),e._v(" "),i("p",{staticClass:"fd-color-dark-2 fd-m-none"},[e._v("\n    "+e._s(e.$_i18n("MortgageLeadConfirmationEmail"))+":\n  ")]),e._v(" "),i("p",{staticClass:"fd-m-none fd-m-bottom-xl"},[e._v("\n    "+e._s(e.email)+"\n  ")]),e._v(" "),i("p",{staticClass:"fd-color-dark-2 fd-m-none"},[e._v("\n    "+e._s(e.$_i18n("MortgageLeadConfirmationPhone"))+":\n  ")]),e._v(" "),i("p",{staticClass:"fd-m-none"},[e._v("\n    "+e._s(e.phoneNumber)+"\n  ")])])}),[],!1,null,null,null).exports,Bo={components:{ErrorNotification:Po,MortgageLeadForm:Vo,MortgageLeadConfirmation:No},props:{formTarget:{type:String,default:"/hypotheek-advies"},partnerName:{type:String,required:!0},partnerLogo:{type:String,required:!0},campaignId:{type:String,required:!0}},data:function(){return{showConfirmation:!1,showError:!1,formData:{}}},methods:{onFormSubmit:function(e){var t=this;return ti()(Xt.a.mark((function i(){var n,a;return Xt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=document.querySelector("".concat("[data-mortgage-lead]",' [name="__RequestVerificationToken"]')).value,(a=new FormData).append("CampaignId",t.campaignId),a.append("Aanhef",e.salutation),a.append("Naam",e.name),a.append("Email",e.email),a.append("Telefoon",e.phoneNumber),a.append("Postcode",e.postalCode),a.append("Huisnummer",e.houseNumber),a.append("Straat",e.streetName),a.append("Woonplaats",e.city),a.append("__RequestVerificationToken",n),i.next=15,fetch(t.formTarget,{method:"POST",body:a});case 15:200!==i.sent.status?t.showError=!0:(t.showError=!1,t.showConfirmation=!0,t.formData=e),i.next=22;break;case 19:i.prev=19,i.t0=i.catch(0),t.showError=!0;case 22:case"end":return i.stop()}}),i,null,[[0,19]])})))()}}},zo=Object(ro.a)(Bo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mortgage-lead fd-container--s fd-m-auto fd-p-vertical-xl fd-p-horizontal fd-p-none--bp-l fd-p-vertical-xl--bp-l"},[e.showError?i("ErrorNotification",{attrs:{text:e.$_i18n("ErrorText")}}):e._e(),e._v(" "),e.showConfirmation?i("MortgageLeadConfirmation",{attrs:{"partner-name":e.partnerName,email:e.formData.email,"phone-number":e.formData.phoneNumber}}):i("MortgageLeadForm",{attrs:{"partner-name":e.partnerName,"partner-logo":e.partnerLogo},on:{submit:e.onFormSubmit}})],1)}),[],!1,null,null,null).exports,Uo=function(){function e(){h()(this,e)}return f()(e,null,[{key:"isFundaInBusiness",value:function(){return this.getHostname().includes("fundainbusiness")}},{key:"getHostname",value:function(){return window.location.hostname}}]),e}(),qo={props:{descriptionText:{type:String,required:!0},instructionsTextPart1:{type:String,required:!0},instructionsTextPart2:{type:String,required:!0},iconPath:{type:String,required:!0}},data:function(){return{enabled:!1}},computed:{areConditionsMet:function(){return this.isCookiePolicyAccepted&&Uo.isFundaInBusiness()&&this.isEligibleForPrompt},isEligibleForPrompt:function(){var e=kt.getCookie("ios_install_prompt_never_show_again"),t=parseInt(kt.getCookie("ios_install_prompt_last_visit"));if(e||navigator.standalone)return!1;var i=Date.now(),n=t,a=Math.abs(Math.ceil(this.msToDays(parseInt(n)-i)))>15,o={firstVisit:!!isNaN(t),daysToNotShowPassed:a,isIos:this.isIosDevice};return o.daysToNotShowPassed&&this.setNeverShowCookie(),(o.firstVisit||o.daysToNotShowPassed)&&o.isIos},isCookiePolicyAccepted:function(){return kt.getCookie("eupubconsent")},isIosDevice:function(){return["iPad","iPhone","iPod"].indexOf(navigator.platform)>-1}},mounted:function(){this.areConditionsMet&&this.initializePrompt()},methods:{initializePrompt:function(){this.enabled=!0;var e=Date.now();kt.setCookie("ios_install_prompt_last_visit",e,15552e3)},setNeverShowCookie:function(){kt.setCookie("ios_install_prompt_never_show_again",!0)},closePopup:function(){this.enabled=!1},msToDays:function(e){return e/864e5}}},Go=Object(ro.a)(qo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{"enter-active-class":"fd-animation--fade-in","leave-active-class":"fd-animation--fade-in fd-animation--reverse"}},[e.enabled?i("div",{staticClass:"fd-flex ios-install-prompt__container fd-align-items-end fd-justify-content-center fd-border-radius-l fd-container-full"},[i("button",{staticClass:"ios-button ios-install-prompt__overlay",on:{click:function(t){return e.closePopup()}}},[e._v("\n      Close\n    ")]),e._v(" "),i("div",{staticClass:"ios-install-prompt fd-bg-white fd-container-full"},[i("div",{staticClass:"ios-install-prompt__content fd-p-vertical-xs fd-p-horizontal"},[i("div",{staticClass:"ios-install-prompt__title fd-flex fd-m-top fd-m-bottom-s fd-align-items-center"},[i("img",{staticClass:"ios-install-prompt__icon fd-m-none",attrs:{src:e.iconPath,alt:"app-icon"}}),e._v(" "),i("span",{staticClass:"ios-install-prompt__title-text fd-text-size-l--bp-m fd-m-left-xs fd-text--left"},[e._v("\n            "+e._s(e.descriptionText)+"\n          ")])]),e._v(" "),i("div",{staticClass:"ios-install-prompt__guide fd-flex fd-align-items-center fd-text-size-s fd-flex-wrap fd-justify-content-center fd-m-none fd-text-size-l--bp-s fd-text--emphasis"},[i("span",[e._v(e._s(e.instructionsTextPart1))]),e._v(" "),i("span",{staticClass:"ios-install-prompt__guide__icon fd-m-horizontal-2xs"}),e._v(" "),i("span",[e._v(e._s(e.instructionsTextPart2))])])])])]):e._e()])}),[],!1,null,null,null).exports;function Wo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var Zo={data:function(){var e={},t=document.querySelectorAll("[data-i18n]");return t.length>0&&t.forEach((function(t){e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Wo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e,{},JSON.parse(t.innerHTML))})),{translationList:e}},methods:{$_i18n:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var a=this.translationList[e]||e;return 0===i.length?a:a.replace(/{(\d+)}/g,(function(e,t){return void 0!==i[t]?i[t]:e}))}}};g()(document.querySelectorAll("[data-vue-container]")).forEach((function(e){bi.a.mixin(Zo),new bi.a({el:e,components:{"app-status-filter":ko,"app-mortgage-lead":zo,"app-ios-install-prompt":Go,"app-checkbox-filter":Oo},store:Si})}));var Ko=function(){function e(t,i,n){h()(this,e),this.$html=i?a()(i):a()("html"),this.window=n||window,this.scrollPosition=0,this.$element=a()(t),this.$form=this.$element.closest("form"),this.initialize(),this.bindEvents()}return f()(e,[{key:"initialize",value:function(){this.$element.addClass("is-extendable"),this.close()}},{key:"bindEvents",value:function(){var e=this;window.addEventListener("filterflyoutopened",(function(){e.openFlyoutEvent()})),this.$form.on("filterflyoutopened","[data-filter-flyout]",(function(){e.openFlyoutEvent()})),this.$form.on("filterflyoutclosed","[data-filter-flyout]",(function(){e.$element.removeClass("has-open-flyout"),e.$element.animate({scrollTop:e.scrollPosition},0)})),this.$form.on("click","[data-has-preview-filter]",(function(){e.$element.toggleClass("has-preview-filter")})),this.$form.on("filterflyoutclosed","[data-filter-flyout]",(function(){e.$element.removeClass("has-preview-filter")})),this.$html.on("click","[data-search-close-flyout]",(function(){e.$element.find("[data-filter-flyout]").trigger("filterflyoutclose")})),this.$html.on("click","[data-sidebar-handle]",(function(t){t.preventDefault(),e.toggleSidebarVisibility()})),a()(this.window).on("sidebar-refresh",(function(){var t=a()("[data-search-sidebar]");e.sidebarRefreshHandler(t)})),a()(this.window).on("travel-time-selected-ppoi",(function(){e.close()})),a()(window).resize((function(){window.innerWidth>=1020&&e.close()}))}},{key:"openFlyoutEvent",value:function(){this.$element.addClass("has-open-flyout"),this.scrollPosition=this.$element.scrollTop(),this.$element.animate({scrollTop:0},0)}},{key:"toggleSidebarVisibility",value:function(){this.isExtended?this.close():this.open()}},{key:"sidebarRefreshHandler",value:function(e){1===e.length&&(this.$element=e,this.initialize())}},{key:"open",value:function(){this.isExtended=!0,this.$element.addClass("is-extended"),this.$html.addClass("sidebar-is-extended"),this.window.parent.postMessage("isSidebarOpen=true","*")}},{key:"close",value:function(){this.window.scrollTo(0,0),this.isExtended=!1,this.$element.removeClass("is-extended"),this.$element.trigger("sidebarclosed"),this.$html.removeClass("sidebar-is-extended"),this.window.parent.postMessage("isSidebarOpen=false","*")}}]),e}();a()("[data-search-sidebar]").each((function(e,t){return new Ko(t)}));function Yo(e){this.$element=a()(e),this.vanRangeSelectorConfiguration=this.createRangeSelectorConditionalConfiguration(this.createElementSelector(e.id,"min"),"data-van"),this.totRangeSelectorConfiguration=this.createRangeSelectorConditionalConfiguration(this.createElementSelector(e.id,"max"),"data-tot"),this.bindEvents()}Yo.prototype.bindEvents=function(){var e=this;e.$element.on("change",(function(t){return e.updateTargetedRangeSelectors(t.target||t.srcElement,e)}))},Yo.prototype.addOptions=function(e,t){return t.forEach((function(t){return e.add(t)}))},Yo.prototype.isValueToKeep=function(e,t){return t.filter((function(t){return e.value===t})).length>0},Yo.prototype.clearAllOptions=function(e){return[].slice.call(e.options).forEach((function(){return e.remove(0)}))},Yo.prototype.createFormattedValue=function(e,t,i,n){return e.replace(i,jt.format(n,t))},Yo.prototype.selectMatchingOption=function(e,t){return e.filter((function(e){return t(e.value)})).shift()},Yo.prototype.createElementSelector=function(e,t){return'[data-conditie-filter-target="'+e+'"][data-range-filter-'+t+"] [data-range-filter-selector-preset-select]"},Yo.prototype.getIndexForMatchingOption=function(e,t){return e.reduce((function(e,i,n){return t(i)?n:e}),void 0)},Yo.prototype.addAsLastOptionIfNonEmpty=function(e,t){return e&&t.push(e)},Yo.prototype.splitToListOfTrimmedValues=function(e,t){return e.split(t).map((function(e){return e.trim()}))},Yo.prototype.isPlaceholderValueForCustomValue=function(e){return"other"===e},Yo.prototype.isPlaceholderValueForNoMaximumValue=function(e){return"ignore_filter"===e},Yo.prototype.hasPlaceholderValueForDefaultRangeSelectorValue=function(e){return""===e.getAttribute("data-range-filter-selector-default-value")},Yo.prototype.addRangeFilterSelectorDefaultValueAttributeToOption=function(e){return e.setAttribute("data-range-filter-selector-default-value","")},Yo.prototype.createRangeSelectorConditionalConfiguration=function(e,t){return{attributeNameDefaultValue:t+"-default-value",attributeNameNewRangeValue:t+"-range",selectorTargetRangeSelector:e,attributeNameOptionValuesToKeep:t+"-options-to-keep",thousandSeparator:".",displayTemplate:" {token}",splitSymbol:":",token:"{token}"}},Yo.prototype.updateTargetedRangeSelectors=function(e,t){var i=e.options[e.selectedIndex];t.updateTargetedRangeSelectorForConfigurationAndCondition(t.vanRangeSelectorConfiguration,i),t.updateTargetedRangeSelectorForConfigurationAndCondition(t.totRangeSelectorConfiguration,i),a()(t.vanRangeSelectorConfiguration.selectorTargetRangeSelector).trigger("reset"),a()(t.totRangeSelectorConfiguration.selectorTargetRangeSelector).trigger("reset"),a()(t.totRangeSelectorConfiguration.selectorTargetRangeSelector).trigger("change")},Yo.prototype.updateTargetedRangeSelectorForConfigurationAndCondition=function(e,t){var i=this,n=document.querySelector(e.selectorTargetRangeSelector),a=t.getAttribute(e.attributeNameDefaultValue),o=i.createOptionsForRangeSelector(i.splitToListOfTrimmedValues(t.getAttribute(e.attributeNameNewRangeValue),e.splitSymbol),i.splitToListOfTrimmedValues(t.getAttribute(e.attributeNameOptionValuesToKeep),e.splitSymbol),n,a,(function(t){return i.createFormattedValue(e.displayTemplate,e.thousandSeparator,e.token,t)}));i.updateRangeSelectorWithOptions(n,o)},Yo.prototype.createOptionsForRangeSelector=function(e,t,i,n,a){var o=this,s=[].slice.call(i.options).filter((function(e){return o.isValueToKeep(e,t)})),r=s.filter((function(e){return o.isPlaceholderValueForCustomValue(e.value)})).shift(),l=e.map((function(e){return new Option(a(e),e)}));l.unshift(r);var c=o.selectMatchingOption(s,o.isPlaceholderValueForNoMaximumValue);o.addAsLastOptionIfNonEmpty(c,l);var d=l.filter((function(e){return e.value===n})).shift();return o.addRangeFilterSelectorDefaultValueAttributeToOption(d),l},Yo.prototype.syncSelectedIndexWithFlaggedDefaultOption=function(e){e.selectedIndex=this.getIndexForMatchingOption([].slice.call(e.options),this.hasPlaceholderValueForDefaultRangeSelectorValue)},Yo.prototype.updateRangeSelectorWithOptions=function(e,t){this.clearAllOptions(e),this.addOptions(e,t),this.syncSelectedIndexWithFlaggedDefaultOption(e)},a()("[data-conditional-range-filter]").each((function(e,t){return new Yo(t)}));var Jo=function(){function e(t){h()(this,e),this.$element=a()(t),this.$targets=this.$element.find("[data-search-price-toggle-target]"),this.$currentActiveTarget=this.$element.find("[data-search-price-toggle-target].is-active"),this.$buttons=this.$element.find("[data-search-price-toggle-input]"),this.$targetsDisplay=this.$element.find("[data-display-range-value]"),this.$currentActiveTargetDisplay=this.$element.find("[data-display-range-value].is-active"),this.vuexStore=Si}return f()(e,[{key:"initialize",value:function(){this.bindEvents(),this.addPriceFilterLabel()}},{key:"bindEvents",value:function(){var e=this;this.$element.on("change","[data-search-price-toggle-input]",(function(t){var i=a()(t.currentTarget).val();e.addPriceFilterLabel(),e.showTarget(i)})),this.$element.on("change","[data-display-range-filter]",(function(t){var i=a()(t.currentTarget).val();e.addPriceFilterLabel(),e.showTargetDisplay(i)})),this.vuexStore.subscribe((function(t){"clearAllFilters"===t.type&&e.removePriceFilterLabel("price-toggle-group")}))}},{key:"addPriceFilterLabel",value:function(){var e=this,t=this.getSelectedButtonPriceLabel(),i={filterGroupId:"price-toggle-group",filterGroupName:"price-toggle-group",filterName:t+"_label",labelText:t};"Beide"===t||"Both"===t?Ei.remove(i.filterGroupId):t&&Ei.add(i,(function(){e.removePriceFilterLabel(i.filterGroupId)}),!0)}},{key:"getSelectedButtonPriceLabel",value:function(){return this.$buttons.filter(":checked").data("labelText")}},{key:"showTarget",value:function(e){this.$currentActiveTarget.find("[data-range-filter]").trigger("resetfilter"),this.$targets.removeClass("is-active"),this.$currentActiveTarget=this.$element.find('[data-search-price-toggle-target="'+e+'"]'),this.$currentActiveTarget.addClass("is-active")}},{key:"showTargetDisplay",value:function(e){this.$currentActiveTargetDisplay.trigger("resetfilter"),this.$targetsDisplay.removeClass("is-active"),this.$currentActiveTargetDisplay=this.$element.find('[data-display-range-value="'+e+'"]'),this.$currentActiveTargetDisplay.addClass("is-active")}},{key:"removePriceFilterLabel",value:function(e){Ei.remove(e),this.selectBeide(),this.$element.trigger("pricetogglereset")}},{key:"selectBeide",value:function(){var e=this.$buttons.filter("#PrijsToggle-Beide");e.length&&(e[0].checked=!0),this.showTarget("Beide")}}]),e}();a()("[data-search-price-toggle]").each((function(e,t){new Jo(t).initialize()}));var Qo=i(246),Xo=i.n(Qo),es=function(){function e(t){h()(this,e);var i=this;a()(document).on("resultsUpdated",(function(){a()("[data-top-position]").each((function(e,t){i.init(t)}))})),i.init(t)}return f()(e,[{key:"init",value:function(t){this.element=t,this.$element=a()(t),this.loggedEndpoints=[],this.endpoints=e.getEndPoints(t),this.logTracking(this.endpoints),this.bindEvents()}},{key:"logTracking",value:function(e){var t=this;return e.map((function(e){return t.loggedEndpoints.push(e),a.a.ajax(e)}))}},{key:"bindEvents",value:function(){var t=this;a()(window).on("resize",Vi()((function(){var i=e.getEndPoints(t.element),n=Xo()(i,t.loggedEndpoints);n.length>0&&t.logTracking(n)}),200))}}],[{key:"getValidElements",value:function(e){return e.find("[data-top-position-item]:visible")}},{key:"getEndPoints",value:function(t){var i=e.getValidElements(a()(t)),n=[];return i.each((function(e,t){n.push(a()(t).attr("data-top-position-item"))})),n}}]),e}();a()("[data-top-position]").each((function(e,t){return new es(t)}));function ts(e){this.$element=a()(e),this.$form=this.$element.find("form"),this.$submitButton=this.$element.find("[data-hypotheek-contact-submit]"),this.$optinCheckbox=this.$element.find("[data-hypotheek-contact-optin]"),this.bindEvents()}ts.prototype.bindEvents=function(){var e=this;e.$form.on("submit",(function(){return e.checkValidity()})),e.$optinCheckbox.on("change",(function(){return e.validateCheckbox()}))},ts.prototype.checkValidity=function(){this.$form.valid()||(this.disableSubmitButton(),this.uncheckOptinCheckbox())},ts.prototype.uncheckOptinCheckbox=function(){this.$optinCheckbox.prop("checked",!1)},ts.prototype.validateCheckbox=function(){this.$optinCheckbox.prop("checked")?this.enableSubmitButton():this.disableSubmitButton()},ts.prototype.enableSubmitButton=function(){this.$submitButton.removeAttr("disabled")},ts.prototype.disableSubmitButton=function(){this.$submitButton.attr("disabled","disabled")},a()("[data-hypotheek-contact]").each((function(e,t){return new ts(t)}));var is=i(123),ns=i.n(is),as=a()(window).width(),os=13;function ss(e){this.$element=a()(e),this.$form=this.$element.find("[data-maandlasten-indicator-form]"),this.$input=this.$form.find("input"),this.urlSmall=e.getAttribute("data-maandlasten-indicator-small"),this.urlLarge=e.getAttribute("data-maandlasten-indicator-large"),this.$input.blur(),this.injectIframe(),this.bindEvents()}ss.prototype.bindEvents=function(){var e=this;e.$input.on("keypress",(function(t){t.keyCode===os&&e.$form.submit()})),e.$form.submit((function(t){t.preventDefault();var i=e.$form.find("input").val(),n=new ns.a(e.iframeUrl,!0);n.set("query",b()({},n.query,{vraagprijs:i})),e.iframeUrl=n.toString(),e.populateIframeUrl()}))},ss.prototype.injectIframe=function(){a()('<iframe frameborder="0" width="100%"/>').appendTo(this.$element),this.iframe=this.$element.find("iframe"),as>=643&&null!==this.urlLarge?this.iframeUrl=this.urlLarge:this.iframeUrl=this.urlSmall,this.populateIframeUrl()},ss.prototype.populateIframeUrl=function(){this.iframe.attr({src:this.iframeUrl,width:"100%"})},"[data-maandlasten-indicator]".length&&a()("[data-maandlasten-indicator]").each((function(e,t){return new ss(t)}));var rs=function(){var e="Webkit Moz O ms Khtml".split(" "),t=document.createElement("div");if(void 0!==t.style.animationName)return!0;for(var i=0;i<e.length;i++)if(void 0!==t.style[e[i]+"AnimationName"])return!0;return!1};var ls,cs=a()("body"),ds=cs.find("[data-search-assistant]").find(".autocomplete-input");function us(e){this.$element=a()(e),this.$autocomplete=this.$element.find("[data-autocomplete]"),this.animationsSupported=rs(),this.$closeButton=this.$element.find("[data-search-assistant-close]"),this.bindEvents()}us.prototype.bindEvents=function(){this.listenOpenEvent()},us.prototype.listenOpenEvent=function(){var e=this;a()(window).on("focusonsearchbox",(function(){e.open()}))},us.prototype.open=function(){this.isOpen()||(cs.css("top",-1*ls),cs.addClass("search-assistant-is-open"),this.$closeButton.attr("href",window.location),this.$element.addClass("is-open"),ls=a()(window).scrollTop(),ds.focus())},us.prototype.isOpen=function(){return this.$element.hasClass("is-open")},a()("[data-search-assistant]").each((function(e,t){return new us(t)}));function hs(e){this.$element=a()(e),this.$element.on("click",(function(){a()(window).trigger("focusonsearchbox")}))}a()("[data-aanbod-mobile-searchbox]").each((function(e,t){return new hs(t)}));function ps(e){this.$element=a()(e),this.$selectedOption=this.$element.find("[data-dropdown-selected-option]"),this.$optionsList=this.$element.find("[data-dropdown-list]"),this.$option=this.$element.find("[data-dropdown-option]"),this.$destValue=this.$element.find("[name=filter_ZoekType]"),this.isOpen=!1,this.bindEvents()}ps.prototype.bindEvents=function(){this.bindSelectboxEvent(),this.bindClickOutsideEvent(),this.bindOptionClickEvent()},ps.prototype.bindOptionClickEvent=function(){var e=this;e.$option.on("click",(function(t){t.preventDefault();var i=a()(t.currentTarget).find(".label-text").html();e.$selectedOption.html(i);var n=a()(t.currentTarget).data("dropdown-value");e.$destValue.val(n).change()}))},ps.prototype.bindSelectboxEvent=function(){var e=this;e.$selectedOption.on("click",(function(){e.isOpen?e.closeOptions():e.openOptions()}))},ps.prototype.openOptions=function(){this.isOpen=!0,this.$element.addClass("is-open"),this.$optionsList.addClass("is-open")},ps.prototype.closeOptions=function(){this.isOpen=!1,this.$element.removeClass("is-open"),this.$optionsList.removeClass("is-open")},ps.prototype.bindClickOutsideEvent=function(){var e=this;a()(document).on("click",(function(t){0===a()(t.target).closest("[data-aanbodtype-dropdown]").length&&e.closeOptions()}))},a()("[data-aanbodtype-dropdown]").each((function(e,t){return new ps(t)}));i(382);var fs={"0px":350};function ms(e){this.$element=a()(e),this.$element.addClass("is-expandable"),this.$body=this.$element.find("[data-object-description-body]"),this.htmlContent=this.$body.html(),this.textContent=this.$body.text(),this.$element.find("[data-object-description-config]").length>0?this.config=JSON.parse(this.$element.find("[data-object-description-config]").text()):this.config=fs,this.textContent.length<300?this.$element.addClass("is-expanded"):(this.checkBreakpoints(this.config),this.bindEvents())}ms.prototype.bindEvents=function(){var e=this;e.$element.on("click",(function(){e.expand()})),a()(window).on("resize",Vi()((function(){e.checkBreakpoints(e.config)}),100))},ms.prototype.checkBreakpoints=function(e){var t,i=a()(window).width();Object.getOwnPropertyNames(e).forEach((function(n){var a=n.substr(0,n.length-2);i>a&&(t=e[n])})),this.$element.hasClass("is-expanded")||void 0===t?this.expand():this.collapse(t)},ms.prototype.getCorrectOriginalContent=function(){return this.$element.find("[data-object-description-strip-markup]").length>0?this.textContent:this.htmlContent},ms.prototype.collapse=function(e){var t=this.getCorrectOriginalContent().substr(0,e)+" ";this.$body.html(t),this.$element.attr("aria-expanded","false")},ms.prototype.expand=function(){this.$element.hasClass("is-expanded")||(this.$body.html(this.htmlContent),this.$element.addClass("is-expanded"),this.$element.attr("aria-expanded","true"),a.a.event.trigger({type:"desciptionExpanded"}))},a()("[data-object-description]").each((function(e,t){return new ms(t)}));function vs(e){var t={},i=a()(e);return i.children().length>6&&(i.attr("data-expandible","makelaars-features"),t.expandible=new Di(e)),t}vs(a()("[data-makelaars-features]")[0]);i(77);var gs=ys;function ys(e){this.$element=a()(e),this.$items=this.$element.find("[data-carousel-list]"),this.$nextButton=this.$element.find("[data-carousel-next]"),this.slickOptions={mobileFirst:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,nextArrow:this.$nextButton,prevArrow:!1,responsive:[{breakpoint:750,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1020,settings:{slidesToShow:3,slidesToScroll:3}}]},this.initSlick(),this.$items.addClass("is-enhanced")}ys.prototype.initSlick=function(){this.$items.slick(this.slickOptions)},ys.prototype.unslick=function(){this.$items.slick("unslick")},a()("[data-carousel]").each((function(e,t){return new ys(t)}));var bs="[".concat("data-object-url-tracking","]");function ws(e){this.$element=a()(e),this.$element.attr("href")&&(this.url=new ns.a(this.$element.attr("href"),!0),this.url.set("query",b()({},this.url.query,{navigateSource:this.$element.attr("data-object-url-tracking")})),this.$element.attr("href",this.url.href))}a()(document).on("resultsUpdated",(function(){ws.initialize()})),ws.initialize=function(){a()(bs).each((function(e,t){return new ws(t)}))},ws.initialize();var ks="[".concat("data-related-objects-toggle-button","]");function $s(e){this.element=e,this.$element=a()(e),this.$toggleContainer=this.$element.find("[data-related-objects-toggle]"),this.$slides=this.$element.find("[data-carousel-list]"),this.$element.addClass("is-enhancing"),this.tryAsyncLoad()}$s.prototype.tryAsyncLoad=function(){var e=this,t=this.element.getAttribute("data-related-objects-set");""!==t&&this.getSlides(t).then((function(i){e.slideData=i,e.initSlides(t)}))},$s.prototype.getSlides=function(){var e=this.element.getAttribute("data-related-objects-json");return a.a.get(e).promise()},$s.prototype.initSlides=function(e){var t=parseInt(e,10)-1,i=this.slideData[t];"object"===Jt()(i)&&(this.$element.toggleClass("".concat("is-enhancing"," ").concat("is-enhanced")),this.setSlideHtml(i.html),this.carousel=new gs(this.$element.find("[data-related-objects-carousel]")[0])),this.slideData.length>=2&&(this.initButtons(),this.updateToggleButtons(t),this.bindButtonEvent())},$s.prototype.initButtons=function(){var e=this,t=this.$element.find("[data-related-objects-button-element]").html();this.slideData.forEach((function(i,n){a()(t).attr("data-related-objects-toggle-button",n+1).html(i.label).appendTo(e.$toggleContainer)})),this.$toggleButtons=this.$element.find(ks)},$s.prototype.updateToggleButtons=function(e){this.$toggleButtons.each((function(t,i){e===t?i.setAttribute("disabled",""):i.removeAttribute("disabled")}))},$s.prototype.bindButtonEvent=function(){var e=this;this.$toggleButtons.on("click",(function(t){var i=t.currentTarget.attributes.getNamedItem("data-related-objects-toggle-button").value-1;e.cycleSlideSet(i),e.updateToggleButtons(i)}))},$s.prototype.cycleSlideSet=function(e){this.carousel.unslick(),this.setSlideHtml(this.slideData[e].html),this.carousel.initSlick()},$s.prototype.setSlideHtml=function(e){this.$slides.html(e),ws.initialize()},a()("[data-related-objects]").each((function(e,t){return new $s(t)}));function Cs(e){var t=a()(e);this.$element=t,this.apiEndpoint=t.attr("data-makelaars-twitterfeed"),this.template=t.find("[data-makelaars-twitterfeed-item-template]").html(),this.$list=t.find("[data-makelaars-twitterfeed-list]"),this.getTweets()}Cs.prototype.getTweets=function(){var e=this;a.a.ajax(this.apiEndpoint).then((function(e){if(!e.tweets.length)throw Error("No tweets");return e})).then((function(t){var i=Cs.render(e.template,{user:t.user,profileImage:t.profileImage}),n=Cs.renderTweets(i,t.tweets);e.update(n)})).catch((function(e){return St.log(e,{function:"getTweets"})}))},Cs.prototype.update=function(e){this.$list.html(e),this.$element.addClass("has-results")},Cs.render=function(e,t){return Object.keys(t).reduce((function(e,i){var n=new RegExp("{"+i+"}","g");return e.replace(n,t[i])}),e)},Cs.renderTweets=function(e,t){return t.map((function(t){return Cs.render(e,t)})).join("")},a()("[data-makelaars-twitterfeed]").each((function(e,t){return new Cs(t)}));i(164);var Ss=a()(window),Ts=37,Es=39,Os=function(){function e(t,i,n){h()(this,e),this.store=n||Oe,this.connect=new Ie(this.store,["ui.mediaViewerRoute"]),this.$elements=t,this.$items=t.find("[data-media-viewer-items]"),this.$prevButton=t.find("[data-media-viewer-previous]"),this.$nextButton=t.find("[data-media-viewer-next]"),this.$currentItemCount=t.find("[data-media-viewer-current]"),this.$totalItemCount=t.find("[data-media-viewer-total]"),this.$rewindButton=t.find("[data-media-viewer-fotostopper-rewind]"),this.bindEvents(),Ss.trigger("media-viewer-fotos-opened-event"),this.initializeSlideshow(i),this.bindGlobalEvents(),this.setItem(i)}return f()(e,[{key:"dispose",value:function(){this.unbindEvents(),this.unbindGlobalEvents(),this.disableSlideshow()}},{key:"bindEvents",value:function(){this.$nextButton.on("click",this.nextItem.bind(this)),this.$prevButton.on("click",this.prevItem.bind(this)),this.$rewindButton.on("click",this.setItem.bind(this,0)),this.$items.on("init reInit",this.slickInitHandler.bind(this)),this.$items.on("beforeChange",this.slickBeforeChangeHandler.bind(this))}},{key:"unbindEvents",value:function(){this.$nextButton.off("click"),this.$prevButton.off("click"),this.$items.off("init reInit"),this.$items.off("beforeChange")}},{key:"bindGlobalEvents",value:function(){if(!this.globalEventsBound){var e=this;a()(document).on("keydown.media-viewer-fotos-view",(function(t){if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(t.keyCode){case Ts:e.prevItem();break;case Es:e.nextItem()}})),this.globalEventsBound=!0}}},{key:"unbindGlobalEvents",value:function(){this.globalEventsBound&&(a()(document).off("keydown.media-viewer-fotos-view"),this.globalEventsBound=!1)}},{key:"initializeSlideshow",value:function(e){this.slideshowIsInitialized||(this.$items.slick({arrows:!1,speed:250,cssEase:"ease",accessibility:!0,infinite:!1,mobileFirst:!0,touchThreshold:12,initialSlide:e-1||0,useTransform:!0,lazyLoad:"anticipated",lazyLoadAhead:3,lazyLoadBack:1}),this.slideshowIsInitialized=!0)}},{key:"disableSlideshow",value:function(){this.$items.slick("unslick"),this.slideshowIsInitialized=!1}},{key:"setItem",value:function(e){this.$items.slick("slickGoTo",e-1,!0)}},{key:"prevItem",value:function(){this.$items.slick("slickPrev",!0)}},{key:"nextItem",value:function(){this.$items.slick("slickNext",!0)}},{key:"slickInitHandler",value:function(e,t){var i=t.$slides[t.$slides.length-1].hasAttribute("data-media-viewer-fotostopper");this.$totalItemCount.text(i?t.slideCount-1:t.slideCount)}},{key:"slickBeforeChangeHandler",value:function(e,t,i,n){var a=t.$slides[n].hasAttribute("data-media-viewer-fotostopper"),o=parseInt(n,10)+1;a?(o--,this.$elements.addClass("is-fotostopper")):this.$elements.removeClass("is-fotostopper"),this.$currentItemCount.text(o),window.history.replaceState({},"","#foto-"+o),this.$nextButton.attr("disabled",t.slideCount===n+1),this.$prevButton.attr("disabled",0===n)}}]),e}(),xs=function(){function e(t){h()(this,e),this.container=t.querySelector(".media-viewer-quadia-container"),this.videoId=t.dataset.videoId,!window.QuadiaPlayer&&this.loadVideoPlayer()}return f()(e,[{key:"loadVideoPlayer",value:function(){var e=document.createElement("script");e.src="https://player.quadia.net/v1.1/quadia.player.min.js",e.dataset.lang="nl",e.dataset.hideControlElements="rewind,share,quality",e.dataset.quality="720p",e.dataset.skin="funda",e.dataset.skinUrl="https://cloud.funda.nl/videoplayer/videoplayerfunda.css",e.dataset.id="media-viewer-video",e.dataset.videoId=this.videoId,e.dataset.showTitle=!1,e.async=!0,this.container.appendChild(e)}},{key:"dispose",value:function(){try{window.QuadiaPlayer.players["media-viewer-video"].$emit("stop")}catch(e){St.log(e,{function:"dispose"})}}}]),e}(),_s=i(69),Is=i.n(_s),Ps=(i(383),js),Ls="data-menu-item-param",As="["+Ls+"]";function js(e,t){this.$headerElement=e,this.$footerElement=t,this.moreTemplate=e.find("[data-menu-more-toggle-template]").html();var i=t.find("[data-menu-items]");a()(".media-viewer").on("click",(function(){e.find("[data-menu-sub-items]").removeClass("open");var n=e.find("[data-menu-sub-items]");0===n.find(".active").length&&n.removeClass("active"),i.removeClass("open"),t.find("[data-menu-toggle]").removeClass("active")})),e.find(As).on("click",(function(){var t=a()(this);e.find(As).removeClass("active"),e.find("[data-menu-toggle]").removeClass("active"),t.addClass("active"),t.parents("[data-menu-sub-items]").length>0&&(e.find("[data-menu-toggle]").addClass("active"),e.find("[data-menu-sub-items]").removeClass("open")),a()(window).trigger("mediaviewermenuitemselected",{type:this.getAttribute("data-view-type"),menuParam:this.getAttribute(Ls)})})),t.find("[data-menu-toggle]").on("click",(function(e){a()(this).toggleClass("active"),i.toggleClass("open"),e.stopPropagation()})),t.find(As).on("click",(function(){var e=a()(this);t.find("[data-dropup-title]").html(e.html()),i.find(As).removeClass("active"),e.addClass("active"),a()(window).trigger("mediaviewermenuitemselected",{type:this.getAttribute("data-view-type"),menuParam:this.getAttribute(Ls)})}))}js.prototype.setActive=function(e){var t="["+Ls+'="'+e+'"]';this.$headerElement.find(As).removeClass("active"),this.$headerElement.find(t).addClass("active"),this.$footerElement.find(As).removeClass("active");var i=this.$footerElement.find(t);i.addClass("active"),this.$footerElement.find("[data-dropup-title]").html(i.html())},js.prototype.toggleMore=function(e){var t=a()(this);t.parent().toggleClass("active"),t.next().toggleClass("open"),e.stopPropagation()},js.prototype.transformHeader=function(){var e=this.$headerElement.find("[data-menu-items]"),t=e.find(As).length>0,i=e.width();if(0!==i&&!1!==t){for(var n=this.$headerElement.parent().width(),o=[];(n-i)/2<220;)o.push(e.children().last().detach()),i=e.width();if(o.length>0){o.push(e.children().last().detach());var s=a()(this.moreTemplate);s.find("[data-menu-toggle]").on("click",this.toggleMore),a.a.each(o.reverse(),(function(e,t){s.find("[data-menu-sub-items]").append(t)})),e.append(s)}}},js.prototype.dispose=function(){a()(".media-viewer").off("click"),this.$headerElement.find(As).off("click"),this.$footerElement.find("[data-menu-toggle]").off("click"),this.$footerElement.find(As).off("click")},window.triggerHotspotClickEvent=function(e,t){a()(window).trigger("krpanohotspotclicked",{name:e,referer:t})},window.triggerWebVRAvailable=function(){a()(window).trigger("webvravailable")},window.triggerWebVREnabled=function(){a()(window).trigger("webvrenabled")},window.triggerWebVRDisabled=function(){a()(window).trigger("webvrdisabled")};var Ds=Ms;function Ms(e,t){if(this.$container=a()(".media-viewer-foto360-container"),this.baseUrl=this.$container.attr("data-media-viewer-foto360-krpano-base-url")||"",this.items=JSON.parse(a()(e).find("[data-media-viewer-foto360-items]").text()),this.$vrButton=a()("[data-vr-view-select]"),""!==this.baseUrl&&(this.baseUrl=this.normalizeUrl(this.baseUrl)),Object.keys(this.items).length>1){var i=a()("[data-foto360-menu-header]"),n=a()("[data-foto360-menu-footer]");this.menu=new Ps(i,n)}this.src=this.items[t],!0===this.isKrpanoInitialized?this.krpano.call("loadpano("+this.src+", null, null, BLEND(0.05))"):(this.initKrpano(),this.menu&&this.menu.transformHeader()),this.menu&&this.menu.setActive(t),this.bindEvents()}Ms.prototype.bindEvents=function(){var e=this;a()(window).on("krpanohotspotclicked",(function(t,i){i.name&&(e.gotoPano(i.name,i.referer),e.menu&&e.menu.setActive(i.name))})),a()(window).on("mediaviewermenuitemselected",(function(t,i){i.type&&"foto360"===i.type&&e.gotoPano(i.menuParam)})),a()(window).on("webvravailable",(function(){a()("[data-vr-view-select]").addClass("available")})),e.$vrButton.on("click",(function(){e.krpano.call("funda_enter_vr()")})),a()(window).on("webvrenabled",(function(){a()("#krpanoSWFObject").addClass("krpano-webvr-enabled"),a()("[data-vr-view-select]").addClass("active")})),a()(window).on("webvrdisabled",(function(){a()("#krpanoSWFObject").removeClass("krpano-webvr-enabled"),a()("[data-vr-view-select]").removeClass("active")}))},Ms.prototype.gotoPano=function(e,t){var i=t?"referer="+t:"null";this.krpano.call("loadpano("+this.items[e]+", "+i+", null, BLEND(0.05))"),window.history.replaceState({},"","#360-foto-"+e)},Ms.prototype.normalizeUrl=function(e){var t=document.createElement("a");return t.href=e,t.href},Ms.prototype.initKrpano=function(){var e=this,t=-1!==window.location.search.indexOf("krpanodebug=true"),i=document.createElement("div");function n(t){e.krpano=t,t.set("basedir","")}i.id="media-viewer-foto360-krpano",e.$container.html(i),Is()(e.baseUrl+"/assets/vendor-krpano.js",(function(i){i||embedpano({html5:"prefer",swf:e.baseUrl+"/assets/components/krpano-loader/krpano.swf",xml:e.src,target:"media-viewer-foto360-krpano",consolelog:t,onready:n})})),e.isKrpanoInitialized=!0},Ms.prototype.dispose=function(){removepano("media-viewer-foto360-krpano"),this.isKrpanoInitialized=!1,this.unbindEvents(),this.menu&&this.menu.dispose()},Ms.prototype.unbindEvents=function(){a()(window).off("krpanohotspotclicked"),a()(window).off("mediaviewermenuitemselected"),a()(window).off("webvrenabled"),a()(window).off("webvrdisabled")},a()("[data-media-viewer-foto360]").each((function(e,t){if(!0===t.getAttribute("data-media-viewer-auto-initialize"))return new Ms(t,"straat")}));var Rs={kind:"bare-viewer"},Fs=function(){function e(t){h()(this,e),this.config=Rs,this.floorplanNumber=t,this.$zoomInButton=a()("[data-plattegrond-zoom-in]"),this.$zoomOutButton=a()("[data-plattegrond-zoom-out]"),this.$viewTypeSelect=a()("[data-view-select]"),this.menuItemTemplate=a()("[data-plattegrond-menu-item-template]").html(),this.$container=a()(".media-viewer-plattegrond-container"),this.$2dViewButton=this.$container.find("[data-plattegrond-2d-view]"),this.$3dViewButton=this.$container.find("[data-plattegrond-3d-view]"),this.src=this.$container.attr("data-plattegrond-src"),this.config.projectId=this.src,this.baseUrl=this.$container.attr("data-base-url"),this.initializeFloorplanViewer(),this.$container[0].addEventListener("dblclick",(function(e){e.stopPropagation()}))}return f()(e,[{key:"initializeFloorplanViewer",value:function(){var e=this,t=document.createElement("script");t.src="https://d30xpbkpa0ndno.cloudfront.net/editor-releases/2.4.601/loader.js",t.async=!0,document.body.appendChild(t),$script.ready("editor",(function(){return e.mountFloorplanViewer()}))}},{key:"mountFloorplanViewer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;t.entryPoint(this.$container[0],this.config.projectId,this.config).then((function(t){return e.onViewerReady(t)}))}},{key:"onViewerReady",value:function(e){this.bindEvents(e),this.initView(e)}},{key:"bindEvents",value:function(e){var t=this;this.viewer=e,this.$zoomInButton.on("click",(function(){return e.zoomIn()})),this.$zoomOutButton.on("click",(function(){return e.zoomOut()})),this.$viewTypeSelect.on("change",(function(i){t.viewType="2d"===i.target.value?"2D":"3D",e.view=t.viewType})),a()(window).on("mediaviewermenuitemselected",(function(e,i){i.type&&"plattegrond"===i.type&&(t.designId=i.menuParam,t.display())}))}},{key:"dispose",value:function(){if(void 0!==this.viewer){this.viewer.view="2D",ReactDOM.unmountComponentAtNode(this.$container[0]);var e=a()("[data-plattegrond-menu-header]"),t=a()("[data-plattegrond-menu-footer]"),i=e.find("[data-menu-items]"),n=t.find("[data-menu-items]");i.empty(),n.empty(),this.unBindEvents(),this.menu&&this.menu.dispose()}}},{key:"unBindEvents",value:function(){this.$zoomInButton.off("click"),this.$zoomOutButton.off("click"),this.$viewTypeSelect.off("change"),a()(window).off("mediaviewermenuitemselected")}},{key:"setupMenu",value:function(){for(var e=a()("[data-plattegrond-menu-header]"),t=a()("[data-plattegrond-menu-footer]"),i=e.find("[data-menu-items]"),n=t.find("[data-menu-items]"),o=0;o<this.floors.length;o++){var s=this.floors[o],r=this.renderMenuItem({id:s.id,name:s.name});i.append(r),n.append(r)}this.menu=new Ps(e,t),Object.keys(this.floors).length>1&&(e.addClass("show"),t.addClass("show")),this.menu.transformHeader(),this.menu.setActive(this.designId)}},{key:"renderMenuItem",value:function(e){var t=this.menuItemTemplate;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=new RegExp("{"+i+"}","g");t=t.replace(n,e[i])}return t}},{key:"initView",value:function(e){if(a()('[data-view-select][value="2d"]').prop("checked",!0),this.floors=e.project.floors,void 0!==this.floorplanNumber)this.designId=this.floors[this.floorplanNumber-1].id;else{var t=this.floors[0];this.designId=t.id}this.setupMenu(),this.display()}},{key:"display",value:function(){var e=this,t=this.floors.filter((function(t){return t.id===e.designId}))[0],i=t.designs[0];this.viewer.designId=i.id,this.replaceStateForFloor(t)}},{key:"replaceStateForFloor",value:function(e){var t=this.floors.indexOf(e)+1;window.history.replaceState({},"","#plattegrond-"+t)}}]),e}();a()("[data-media-viewer-plattegrond]").each((function(e,t){if("true"===t.getAttribute("data-media-viewer-auto-initialize"))return new Fs(t)}));var Vs,Hs=i(106),Ns=i.n(Hs),Bs=a()(window),zs=function(){function e(t){h()(this,e),this.$elements=t,this.$tabContainer=this.$elements.find("[data-tab-container]"),this.tabContainerWidth=this.$tabContainer.innerWidth(),this.$tabHandles=this.$elements.find("[data-tab-handle]"),this.$content=this.$elements.find("[data-media-viewer-overview-content]"),this.$sections=this.$elements.find("[data-media-viewer-overview-section]"),this.$activeLink=this.$tabContainer.find("".concat("[data-tab-handle]",".").concat("active")),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.setTabPositionInCache(),this.loadOverviewImages(),this.setLastSectionHeight(),this.$content.scroll(Ns()((function(){return e.handleScroll()}),100)),this.$tabHandles.click((function(t){return e.scrollTo(t)})),Bs.trigger("media-viewer-overview-opened-event"),Bs.resize(Ns()((function(){return e.setLastSectionHeight()}),1e3))}},{key:"setLastSectionHeight",value:function(){var e=a()(this.$sections[this.$sections.length-1]),t=this.$content.height()+52;e.css("min-height",t)}},{key:"setTabPositionInCache",value:function(){var e=this;this.tabPositions={},this.$tabHandles.each((function(t,i){e.tabPositions[i.hash]=a()(i).offset().left}))}},{key:"handleScroll",value:function(){var e=this,t=this.$content.offset().top;this.$tabHandles.each((function(i,n){var o=e.$elements.find(n.hash);o.offset().top<=t&&o.offset().top+o.height()>t?e.activateLink(n):a()(n).removeClass("active")}))}},{key:"updateTabScrollPosition",value:function(){var e;e=this.tabPositions[this.$activeLink[0].hash]>this.tabContainerWidth/2?this.tabContainerWidth:0,this.$tabContainer.stop().animate({scrollLeft:e},500)}},{key:"loadOverviewImages",value:function(){this.$elements.find("[data-media-viewer-overview-image]").each((function(e,t){var i=t.getAttribute("data-lazy"),n=t.getAttribute("data-lazy-srcset");a()(t).attr("srcset",n).attr("src",i).removeAttr("".concat("data-lazy"," ").concat("data-lazy-srcset"))}))}},{key:"scrollTo",value:function(e){e.preventDefault(),this.$content.stop().animate({scrollTop:a()(e.target.hash).offset().top+this.$content.scrollTop()},1e3)}},{key:"activateLink",value:function(e){this.$activeLink.is(e)||(this.$activeLink.removeClass("active"),this.$activeLink=a()(e),this.$activeLink.addClass("active"),this.updateTabScrollPosition())}}]),e}(),Us=function(){if(Vs)return Vs;var e=a.a.Deferred();Vs=e.promise(),window.onGmapsLoaded=e.resolve;var t=document.createElement("script");return t.src="https://maps.googleapis.com/maps/api/js?client=gme-fundarealestatebv&libraries=geometry&v=3&callback=onGmapsLoaded",document.body.appendChild(t),Vs};var qs="[".concat("data-notification-store-cookie-on-close","]"),Gs=function(){function e(t){h()(this,e),this.Cookies=kt,this.$element=a()(t),this.$close=this.$element.find("[data-notification-close]"),this.$textContainer=this.$element.find("[data-text-container]"),this.$element.find(qs).length>0&&(this.cookieName=this.$element.find(qs)[0].getAttribute("data-notification-store-cookie-on-close")),this.$dismissHandle=this.$element.find("[data-notification-dismiss]"),this.cookieFromExternalHandle=this.$dismissHandle.length>0,this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$element.on("show",(function(t,i){return e.show(t,i)})),this.$element.on("hide",(function(){return e.close()})),this.$close.on("click",(function(t){return e.close(t)})),this.$dismissHandle.on("click",(function(t){e.setCookie(),e.close(t)}))}},{key:"close",value:function(e){void 0!==e&&"function"==typeof e.preventDefault&&e.preventDefault(),this.$element.addClass("is-hidden"),this.$element.trigger("close"),this.cookieFromExternalHandle||this.setCookie()}},{key:"setCookie",value:function(){void 0!==this.cookieName&&this.cookieName.length>0&&this.Cookies.setCookie(this.cookieName,"true")}},{key:"show",value:function(e,t){"string"==typeof t&&this.$textContainer.html(t),this.$element.removeClass("is-hidden")}}]),e}();a()("[data-notification]").get().map((function(e){return new Gs(e)}));i(165);var Ws=i(86),Zs=i.n(Ws),Ks=i(65),Ys=i.n(Ks),Js=i(87),Qs=i.n(Js);function Xs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var er=function e(t,i,n){if(h()(this,e),!t)throw new Error("MapMarkersOverlayFactory requires 'googleMap' argument to be provided");if(!n)throw new Error("MapMarkersOverlayFactory requires 'layerGroupName' argument to be provided");return new(function(e){Qs()(n,e);var t,i=(t=n,function(){var e,i=Ys()(t);if(Xs()){var n=Ys()(this).constructor;e=Reflect.construct(i,arguments,n)}else e=i.apply(this,arguments);return Zs()(this,e)});function n(e,t){var a;return h()(this,n),(a=i.call(this,e)).map=e,a.layerGroupName=t||n.generateLayerGroupName(),a.layer=null,a.setMap(e),a.markerData=[],a}return f()(n,[{key:"onAdd",value:function(){void 0!==this.getPanes&&0!==this.markerData.length&&this.createLayerGroup()}},{key:"createLayerGroup",value:function(){if(null===this.layer&&this.getPanes()){var e=document.getElementById(this.layerGroupName);if(e)return this.layer=e;this.layer=document.createElement("div"),this.layer.id=this.layerGroupName,this.getPanes().overlayMouseTarget.appendChild(this.layer)}}},{key:"draw",value:function(){if(0!==this.markerData.length&&void 0!==this.getProjection){var e=this.getProjection();void 0!==e&&(null===this.layer&&this.createLayerGroup(),this.addItemsToLayer(),this.markerData.forEach((function(t){var i=e.fromLatLngToDivPixel(t.pos),n=t.html.offsetWidth,a=t.html.offsetHeight;t.html.style.left=i.x-n/2+"px",t.html.style.top=i.y-a+"px"})))}}},{key:"addItemsToLayer",value:function(){var e=this;this.markerData.forEach((function(t){e.layer.appendChild(t.html)}))}},{key:"onRemove",value:function(){this.clear()}},{key:"addMarker",value:function(e,t,i){this.markerData.push({pos:e,html:t,label:i}),this.draw()}},{key:"clear",value:function(){this.markerData.forEach((function(e){e.html.parentNode&&e.html.parentNode.removeChild(e.html)})),this.markerData=[]}}],[{key:"generateLayerGroupName",value:function(){return"layer-group-".concat((new Date).getTime())}}]),n}(t.OverlayView))(i,n)},tr=function(){},ir=function(){function e(t,i,n,a,o){h()(this,e),this.googleMaps=t,this.map=i,this.config=n,this.markerOnClickHandlerCallback=o||tr,this.store=a||Oe,this.connect=new Ie(this.store,["entities.personalPlaces","ui.activeLocationId"]),this.markerOverlay=new er(t,i,"media-viewer-map"),this.bindEvents();var s=this.store.getState(),r=Z(s.entities.locations);this.updateLocationMarkers(r)}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.connect.subscribe((function(){var t=e.store.getState(),i=Z(t.entities.locations);e.updateLocationMarkers(i)})),google.maps.event.addListener(this.map,"zoom_changed",(function(){var t=e.store.getState(),i=Z(t.entities.locations);e.updateLocationMarkers(i)})),google.maps.event.addListener(this.map,"maptypeid_changed",(function(){var t=e.store.getState(),i=Z(t.entities.locations);e.updateLocationMarkers(i)}))}},{key:"getMapType",value:function(){return this.map.getMapTypeId()}},{key:"updateLocationMarkers",value:function(e){var t=this,i=this.store.getState().ui.activeLocationId,n="roadmap"===this.getMapType();this.clearMarkers(),e.length<1||n&&e.filter((function(e){return t.isPersonalPlace(e)})).forEach((function(e){var n=i===e.id,a=t.createHtmlMarker(e,n),o=new t.googleMaps.LatLng(e.lat,e.lng);t.markerOverlay.addMarker(o,a,e.label)}))}},{key:"isPersonalPlace",value:function(e){return null!==e.personalPlace}},{key:"createHtmlMarker",value:function(e,t){var i=this,n=document.createElement("div");n.className="markers-overlay personal-place-marker",t&&(n.className+=" active");var a=document.createElement("div");a.title=e.label||e.location,a.className="marker",a.dataset&&(a.dataset.active=t,a.dataset.id=e.id);var o=document.createElement("span");return o.className="marker__title",o.innerText=e.label||e.location,a.appendChild(o),n.appendChild(a),["click","touchstart"].forEach((function(e){a.addEventListener(e,i.htmlMarkerOnClickHandler.bind(i))})),n}},{key:"htmlMarkerOnClickHandler",value:function(e){e.stopPropagation();var t=a()(e.currentTarget).closest(".marker").data("id"),i=this.store.getState().entities.locations[t];i&&Bn.travelTime(Hn.MARKER,i.location),this.markerOnClickHandlerCallback(t)}},{key:"clearMarkers",value:function(){this.markerOverlay.clear()}}]),e}(),nr=function(){function e(t,i,n,a){h()(this,e),this.googleMaps=t,this.map=i,this.config=n,this.store=a||Oe,this.connect=new Ie(this.store,["entities.locations","ui.selectedCategories"]),this.voorzieningClickCount=0,this.markerAnchorPoint=new google.maps.Point(30,54),this.markerScaledSize=new google.maps.Size(60,62),this.bindEvents();var o=this.store.getState(),s=Z(o.entities.locations);this.updateLocationMarkers(s)}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.connect.subscribe((function(){var t=e.store.getState(),i=Z(t.entities.locations);e.updateLocationMarkers(i)})),google.maps.event.addListener(this.map,"zoom_changed",(function(){var t=e.store.getState(),i=Z(t.entities.locations);e.updateLocationMarkers(i)})),google.maps.event.addListener(this.map,"maptypeid_changed",(function(){var t=e.store.getState(),i=Z(t.entities.locations);e.updateLocationMarkers(i)}))}},{key:"getMapType",value:function(){return this.map.getMapTypeId()}},{key:"updateLocationMarkers",value:function(e){var t=this,i=this.store.getState(),n=i.ui.activeLocationId,a=i.entities.voorzieningen,o=i.ui.selectedCategories,s="roadmap"===this.getMapType();if(!(e.length<1)){var r=[];e.filter((function(e){return t.isFacility(a,e)})).forEach((function(e){var i=n===e.id,l=a[e.id],c=l.categories[0],d=o.length>0,u=o.some((function(e){return l.categories.indexOf(e)>-1})),h=t.map.getZoom()>13&&d&&u;if(!1===(null!==l.marker)){var p=t.createMarker(e,i,h,c);p.id=e.id,p.addListener("click",(function(){Bn.services(Hn.MARKER,e.label),t.voorzieningClickCount++;var i=google.maps.Marker.MAX_ZINDEX+t.voorzieningClickCount;p.setZIndex(i),t.store.dispatch(Ue("kaart/locatie/".concat(p.id)))})),r.push(p)}else if(l.marker.setIcon(t.getMarkerIcon(c,i)),s&&(h||i)){var f=l.marker.getMap();null==f&&l.marker.setMap(t.map)}else l.marker.setMap(null)})),this.store.dispatch(function(e){return{type:"add_voorzieningen_markers",markers:e}}(r))}}},{key:"isFacility",value:function(e,t){return void 0!==e[t.id]}},{key:"createMarkerConfigForGoogleMapsMarker",value:function(e,t,i,n){return{title:e.label,icon:this.getMarkerIcon(n,t),position:{lat:e.lat,lng:e.lng},shape:{coords:[8,8,52,52],type:"rect"},map:i?this.map:null}}},{key:"createMarker",value:function(e,t,i,n){var a=this.createMarkerConfigForGoogleMapsMarker(e,t,i,n);return new this.googleMaps.Marker(a)}},{key:"getMarkerIcon",value:function(e,t){return{url:this.getMarkerIconUrl(e,t),anchor:this.markerAnchorPoint,scaledSize:this.markerScaledSize}}},{key:"getMarkerIconUrl",value:function(e,t){var i="marker-default";switch(e){case"education-1":case"education-2":case"education-3":case"education-4":case"education-5":case"education-6":case"education-7":case"education-8":case"education-9":case"education-10":case"education-11":i="marker-education";break;case"childcare-1":case"childcare-2":case"childcare-3":i="marker-childcare";break;case"shopping-1":i="marker-shopping";break;case"transport-1":i="marker-transport-train";break;case"transport-2":i="marker-transport-bus";break;case"transport-3":i="marker-transport-tram";break;case"transport-4":i="marker-transport-metro";break;case"transport-8":i="marker-transport-ferry"}return t?"".concat(this.config.baseUrlAssets,"/assets/components/markers/").concat(i,"-active.png"):"".concat(this.config.baseUrlAssets,"/assets/components/markers/").concat(i,".png")}}]),e}(),ar=i(119),or=function(){function e(){h()(this,e)}return f()(e,null,[{key:"webMercatorToLatLng",value:function(e,t){var i=ar.geometry.webMercatorToLatLng(e,t);return{lat:i.lat,lng:i.lng}}}]),e}(),sr=[{strokeColor:"#fff",strokeOpacity:.8,strokeWeight:10,zIndex:1},{strokeColor:"#0085ff",strokeOpacity:1,strokeWeight:6,zIndex:2}],rr=a()(document),lr=function(){function e(t,i,n,a){h()(this,e),this.store=a||Oe,this.connect=new Ie(this.store,["ui.activeLocationId","ui.modalityAndTravelToggle","getPersonalPlaces"]),this.googleMap=t,this.map=i,this.mapConfig=n,this.lastDrawnRoute=null,t&&(this.mapMarkerOverlay=new er(t,i,"media-viewer-map")),this.bindEvents();var o=this.store.getState(),s=o.ui.activeLocationId;s&&this.layout(o,s)}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.connect.subscribe((function(t,i){var n=t.ui.activeLocationId,a=i.ui.activeLocationId;null!==n&&(n&&n!==a||Be(t,i)||t.getPersonalPlaces.loaded)&&e.layout(t,n),n||(e.mapMarkerOverlay&&e.mapMarkerOverlay.clear(),e.clearRoute())}))}},{key:"layout",value:function(e,t){var i=ve(e,t);i&&this.recalculateAndDrawRoute({lat:this.mapConfig.lat,lng:this.mapConfig.lng},{lat:i.lat,lng:i.lng},e.ui.modalityAndTravelToggle.modality)}},{key:"recalculateAndDrawRoute",value:function(e,t,i){this.currentRouteRequest&&"pending"===this.currentRouteRequest.state()&&this.currentRouteRequest.abort(),this.currentRouteRequest=this.createFetchRoutePolygonsRequest(e,t,i)}},{key:"createFetchRoutePolygonsRequest",value:function(t,i,n){var o=this;if(this.store.dispatch(it()),this.mapMarkerOverlay)return this.mapMarkerOverlay.clear(),this.clearRoute(),rr.trigger("map-route-show-spinner"),a.a.ajax({url:this.createRouteQueryUrl(t,i,n)}).done((function(t){if(t.routes&&t.routes.length>0){o.store.dispatch(it(t));var i=e.calculateRoute(t.routes),n=i.routeBounds,a=i.routePolyline;o.drawRoute(a,t.displayTime,n),rr.trigger("map-route-error-event",{type:"map-route-hide-error"})}})).fail((function(e){var t="Limit exceeded"===e.getResponseHeader("X-RouteError");o.store.dispatch(it()),rr.trigger("map-route-error-event",{type:t?"map-route-limit-error":"map-route-common-error"})})).always((function(){rr.trigger("map-route-hide-spinner")}))}},{key:"createRouteQueryUrl",value:function(e,t,i){return"".concat(this.mapConfig.baseRouteUrl,"?sourceCoords=").concat(e.lat,",").concat(e.lng,"&destCoords=").concat(t.lat,",").concat(t.lng,"&travelmode=").concat(i)}},{key:"logErrorToServer",value:function(e,t){return a.a.post(this.mapConfig.baseJsErrorUrl,{message:e,stack:Object.prototype.hasOwnProperty.call(t,"stack")&&t.stack?t.stack:null})}},{key:"clearRoute",value:function(){if(this.lastDrawnRoute){for(var e in this.lastDrawnRoute.routeItems)this.lastDrawnRoute.routeItems[e].setMap(null);this.lastDrawnRoute=null}}},{key:"drawRoute",value:function(t,i,n){var o=this,s=window.google,r={bounds:n,routeItems:sr.map((function(e){var i={path:t,map:o.map};return new s.maps.Polyline(b()(i,e))}))},l=r.routeItems[0].getPath(),c=s.maps.geometry.spherical.computeLength(l),d=e.getPointAtDistance(l,c/2);if(d){var u=this.getMarkerHtml(i);r.marker={halfWay:d,html:a()(u)[0]},this.mapMarkerOverlay.addMarker(d,a()(u)[0],"route")}else{var h="Failed to add route marker, could not calculate halfway point.";St.log(h,{function:"drawRoute"}),this.logErrorToServer(h,new Error)}(0==this.map.getBounds().contains(n.getNorthEast())||0==this.map.getBounds().contains(n.getSouthWest()))&&this.map.fitBounds(n),this.lastDrawnRoute=r}},{key:"getMarkerHtml",value:function(e){var t=this.store.getState().ui.modalityAndTravelToggle.modality;return'<div class="markers-overlay map-route-marker">\n                <div class="marker">\n                    <span class="marker__icon '.concat("car"===t?"icon-car":"transit"===t?"icon-bus":"bike"===t?"icon-bike":"icon-walk",'"></span>\n                    <span class="marker__duration">').concat(e,"</span>\n                </div>\n            </div>")}}],[{key:"calculateRoute",value:function(e){for(var t=new window.google.maps.LatLngBounds,i=[],n=0;n<e.length;n++)for(var a=e[n],o=0;o<a.segments.length;o++){var s=a.segments[o];if("TRANSFER"!==s.type)for(var r=0;r<s.points.length;r++){var l=s.points[r],c=or.webMercatorToLatLng({x:l[1],y:l[0]});i.push(c),t.extend(c)}}return{routeBounds:t,routePolyline:i}}},{key:"getPointAtDistance",value:function(e,t){var i=window.google;if(0===t)return e.getAt(0);if(t<0||e.getLength()<2)return null;for(var n={dist:0},a=0;a<e.getLength()-1&&n.dist<t;a++)n.from=e.getAt(a),n.to=e.getAt(a+1),n.stepDist=i.maps.geometry.spherical.computeDistanceBetween(n.from,n.to),n.dist+=n.stepDist;if(n.dist<t)return null;var o=n.dist-n.stepDist,s=(t-o)/(n.dist-o);return new i.maps.LatLng(n.from.lat()+(n.to.lat()-n.from.lat())*s,n.from.lng()+(n.to.lng()-n.from.lng())*s)}}]),e}(),cr=function(){function e(t,i,n){var a=this;h()(this,e),this.tileSize=new google.maps.Size(256,256),this.maxZoom=21,this.minZoom=14,this.map=t,this.config=i,this.store=n,this.tileSizeInPoints=this.tileSize.width/Math.pow(2,14),this.projection=this.map.getProjection(),google.maps.event.addListener(this.map,"projection_changed",(function(){a.projection=a.map.getProjection()}))}return f()(e,[{key:"getTile",value:function(e,t){if(!(t<14)){var i=Math.abs(14-t),n=e.x>>i,a=e.y>>i,o="".concat(n,"-").concat(a);if(!this.store.getState().ui.loadedTiles.includes(o)){var s=n*this.tileSizeInPoints,r=a*this.tileSizeInPoints+this.tileSizeInPoints,l=this.fromXyToLatLng(s,r);s=n*this.tileSizeInPoints+this.tileSizeInPoints,r=a*this.tileSizeInPoints;var c=this.fromXyToLatLng(s,r),d={NorthLat:c.lat(),EastLong:c.lng(),SouthLat:l.lat(),WestLong:l.lng()};this.store.dispatch(function(e){return{type:"add_loaded_tile",tileId:e}}(o)),this.store.dispatch(function(e,t){return{types:["get_voorzieningen","get_voorzieningen_success","get_voorzieningen_fail"],promise:je.get(e,t)}}(this.config.baseUrlVoorzieningen,d))}}}},{key:"fromXyToLatLng",value:function(e,t){return this.projection.fromPointToLatLng(new google.maps.Point(e,t))}}]),e}(),dr=function(){function e(t,i,n){(h()(this,e),this.store=n,this.map=t,this.config=i,this.connect=new Ie(this.store,["ui.selectedCategories"]),this.isBaseUrlVoorzieningenAvailable=Boolean(this.config.baseUrlVoorzieningen),this.isBaseUrlVoorzieningenAvailable)&&(this.voorzieningenMapType=new cr(this.map,this.config,this.store),this.subscribeToStore(),this.bindEvents(),this.store.getState().ui.selectedCategories.length&&this.showOverlayMapType());this.showOverlayMapTypeIfNeeded()}return f()(e,[{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t,i){t.ui.selectedCategories.length>0&&0===i.ui.selectedCategories.length?e.showOverlayMapType():0===t.ui.selectedCategories.length&&e.hideOverlayMapType()}))}},{key:"showOverlayMapTypeIfNeeded",value:function(){this.map.getZoom()<13?this.hideOverlayMapType():this.showOverlayMapType()}},{key:"bindEvents",value:function(){var e=this;google.maps.event.addListener(this.map,"zoom_changed",(function(){e.showOverlayMapTypeIfNeeded()}))}},{key:"showOverlayMapType",value:function(){this.map.overlayMapTypes.insertAt(0,this.voorzieningenMapType)}},{key:"hideOverlayMapType",value:function(){this.map.overlayMapTypes.clear()}}]),e}(),ur=function(){function e(t,i){h()(this,e),this.MIN_ZOOM_LEVEL_KADASTRAAL=19,this.ATTRIBUTION_STYLES_CLASS="object-map__attribution",this.SHOW_LEGEND_EVENT="show-map-legend",this.KADASTER_LEGEND_SELECTOR="[data-object-map-kadaster-legend]",this.map=t,this.config=i,this.map.mapTypes.set("kadastraal",e.getKadasterBaseLayer(this.config.kadasterBgUrl)),this.pandenLayer=e.getKadasterLayer(this.map,this.config.kadasterPandenUrl),this.percelenLayer=e.getKadasterLayer(this.map,this.config.kadasterPercelenUrl)}return f()(e,[{key:"enableKadaster",value:function(e){var t;this.map.getZoom()<this.MIN_ZOOM_LEVEL_KADASTRAAL&&this.map.setZoom(this.MIN_ZOOM_LEVEL_KADASTRAAL),t=new google.maps.LatLng(this.config.lat,this.config.lng);var i=this.map.getBounds();"object"===Jt()(i)&&(i.contains(t)||this.map.setCenter(t)),this.map.overlayMapTypes.push(this.pandenLayer),this.map.overlayMapTypes.push(this.percelenLayer),this.map.setMapTypeId("kadastraal"),a()(window).trigger(this.SHOW_LEGEND_EVENT+"-"+e,{legendSelector:this.KADASTER_LEGEND_SELECTOR}),this.addAttribution()}},{key:"addAttribution",value:function(){var e=document.createElement("div");e.classList.add(this.ATTRIBUTION_STYLES_CLASS),e.innerHTML=this.config.kadasterAttributionText,this.map.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(e)}}],[{key:"getKadasterBaseLayer",value:function(e){return new google.maps.ImageMapType({getTileUrl:function(t,i){var n=e.replace("{zoom}",i);return n=(n=n.replace("{x}",t.x)).replace("{y}",t.y)},tileSize:new google.maps.Size(256,256),maxZoom:21,minZoom:17,name:"Kadastrale Base Layer"})}},{key:"getKadasterLayer",value:function(e,t){return new google.maps.ImageMapType({getTileUrl:function(i,n){var a=Math.pow(2,n),o=e.getProjection(),s=o.fromPointToLatLng(new google.maps.Point(256*i.x/a,256*i.y/a)),r=o.fromPointToLatLng(new google.maps.Point(256*(i.x+1)/a,256*(i.y+1)/a)),l=s.lng()+","+r.lat()+","+r.lng()+","+s.lat();return t.replace("{bbox}",l)},tileSize:new google.maps.Size(256,256),name:"Bebouwing",maxZoom:21,minZoom:17})}}]),e}(),hr=function(){function e(t,i,n){h()(this,e),this.map=t,this.config=i,this.marker=n,this.latLng=new google.maps.LatLng(this.config.lat,this.config.lng)}return f()(e,[{key:"setStreetview",value:function(e){(e||this.panorama)&&(this.panorama||this.loadStreetView(),this.panorama.setVisible(e))}},{key:"loadStreetView",value:function(){var e=this,t=new google.maps.StreetViewService;this.panorama=this.map.getStreetView(),this.panorama.setOptions({addressControl:!1,linksControl:!0,panControl:!0,zoomControl:!0,fullscreenControl:!1,enableCloseButton:!1}),this.panorama.setPosition(this.latLng);var i={location:this.panorama.getPosition(),preference:google.maps.StreetViewPreference.NEAREST,radius:100,source:google.maps.StreetViewSource.OUTDOOR};t.getPanorama(i,(function(t,i){if(i===google.maps.StreetViewStatus.OK){var n=t.location.latLng,a=google.maps.geometry.spherical.computeHeading(n,e.panorama.getPosition()),o=e.panorama.getPov();o.heading=a,e.panorama.setPano(t.location.pano),e.panorama.setPov(o)}})),google.maps.event.addListener(this.map.getStreetView(),"visible_changed",(function(){var t=a()(window);e.map.getStreetView().getVisible()?(t.trigger("event-map-zoom-controls",{hidden:!0}),e.marker.setMap(null)):(t.trigger("event-map-zoom-controls",{hidden:!1}),e.marker.setMap(e.map))}))}}]),e}(),pr=a()(window),fr=function(){function e(t,i,n,a){h()(this,e);this.map=t,this.config=i,this.marker=n,this.mapId=a,this.isSituationMapAvailable=Boolean(this.config.projectSituatiekaart),this.isPolygonDataLoaded=!1,this.bounds=new google.maps.LatLngBounds,this.isSituationMapAvailable&&(this.image=this.config.projectSituatiekaart,this.imageBounds=new google.maps.LatLngBounds(new google.maps.LatLng(this.config.projectSituatiekaartCoordinateSouthWest),new google.maps.LatLng(this.config.projectSituatiekaartCoordinateNorthEast)),this.loadPolygons(),this.loadOverlayImage(),this.bindEvents(),this.setDataLayerProperties())}return f()(e,[{key:"bindEvents",value:function(){var e=this;pr.on("event-situatiekaart-close-drawer",(function(){e.revertHighlightedPolygons()})),google.maps.event.addListener(e.map,"maptypeid_changed",(function(){"roadmap"==e.map.getMapTypeId()?e.showSituatiekaart():e.hideSituatiekaart()}))}},{key:"showSituatiekaart",value:function(){this.overlay.setMap(this.map),this.map.data.setMap(this.map),this.addAttribution(),this.hideMarker(),pr.trigger("show-map-legend-"+this.mapId,{legendSelector:"[data-object-map-nwn-legend]"})}},{key:"hideSituatiekaart",value:function(){this.overlay.setMap(null),this.map.data.setMap(null)}},{key:"loadOverlayImage",value:function(){var e={clickable:!1,map:this.map};this.overlay=new google.maps.GroundOverlay(this.image,this.imageBounds,e)}},{key:"loadPolygons",value:function(){var e=this;e.isPolygonDataLoaded||(e.map.data.loadGeoJson(e.config.projectSituatiekaartPolygons,null,(function(){e.isPolygonDataLoaded=!0,e.centerMap()})),e.map.data.setMap(e.map))}},{key:"setDataLayerProperties",value:function(){var e=this;e.map.data.setStyle((function(e){var t=e.getProperty("fillColor"),i=e.getProperty("strokeColor");return{fillColor:t,fillOpacity:e.getProperty("isSelected")?.8:.4,strokeColor:i,strokeWeight:2}})),e.map.data.addListener("click",(function(t){e.revertHighlightedPolygons(),"object-map"===e.mapId?window.location.hash="#nwn-kaart":(pr.trigger("event-situatiekaart-show-drawer",{feature:t.feature}),t.feature.setProperty("isSelected",!0))})),e.map.data.addListener("mouseover",(function(t){e.map.data.overrideStyle(t.feature,{fillOpacity:.6})})),e.map.data.addListener("mouseout",(function(){e.map.data.revertStyle()}))}},{key:"revertHighlightedPolygons",value:function(){this.map.data.forEach((function(e){e.removeProperty("isSelected")}))}},{key:"centerMap",value:function(){var e=this;e.map.data.forEach((function(t){e.processPoints(t.getGeometry(),e.bounds.extend,e.bounds)})),e.map.fitBounds(e.bounds)}},{key:"addAttribution",value:function(){var e='<a href="'.concat(this.config.projectAttributionUrl,'" target="_blank" rel="nofollow">').concat(this.config.projectAttributionText,"</a>"),t=document.createElement("div");t.classList.add("object-map__attribution"),t.innerHTML=e,this.map.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(t)}},{key:"hideMarker",value:function(){this.marker.setMap(null)}},{key:"processPoints",value:function(e,t,i){var n=this;e instanceof google.maps.LatLng?t.call(i,e):e instanceof google.maps.Data.Point?t.call(i,e.get()):e.getArray().forEach((function(e){n.processPoints(e,t,i)}))}}]),e}(),mr=function(){function e(t){h()(this,e),this.gtmEventLogger=t||wt}return f()(e,[{key:"log",value:function(e){this.gtmEventLogger.log({event:"mapTypeChanged",mapTypeName:e})}}]),e}(),vr=function(){function e(t){h()(this,e),this.gtmEventLogger=t||wt}return f()(e,[{key:"log",value:function(e){this.gtmEventLogger.log({eventCategory:"billing",eventAction:"map-instance-created",eventLabel:e,nonInteraction:!0})}}]),e}(),gr=a()(window),yr="map-type-select-event-".concat("media-viewer-map"),br="show-map-legend-".concat("media-viewer-map"),wr="[".concat("data-notification-store-cookie-on-close","]"),kr=function(e){return function(e){return Z(e.entities.locations)}(e).filter((function(e){return!!e.personalPlace}))},$r=function(){function e(t,i,n){var o=this;h()(this,e),this.store=i||Oe,this.$element=a()(t),this.$closeButton=a()("[data-media-viewer-close]"),this.$canvas=this.$element.find("[data-media-viewer-map-canvas]"),this.config=this.$element.find("[data-media-viewer-map-config]").text()?JSON.parse(this.$element.find("[data-media-viewer-map-config]").text()):{},this.$mapLegend=this.$element.find("[data-object-map-legend]"),this.$mapZoomControls=this.$element.find("[data-media-viewer-map-zoom-controls]"),this.$commonError=this.$element.find("[data-media-viewer-map-route-common-error]"),this.$limitError=this.$element.find("[data-media-viewer-map-route-limit-error]"),this.$facilityZoomInfo=this.$element.find("[data-media-viewer-map-route-facility-information]"),this.facilityZoomCookieName=this.$facilityZoomInfo.find(wr)[0].getAttribute("data-notification-store-cookie-on-close"),this.mapTypeEventLogger=new mr,this.mapCreationEventLogger=new vr,this.connect=new Ie(this.store,["ui.mediaViewerRoute","ui.activeLocationId","getPersonalPlaces.loaded","getPersonalPlaces.error","addPersonalPlace.loaded","addPersonalPlace.error","deletePersonalPlace.loaded","ui.selectedCategories"]),this.onPersonalPlaceMarkerClickedHandler=this.onPersonalPlaceMarkerClickedHandler.bind(this),a()(".media-viewer-map-container").height(window.innerHeight+"px"),e.isIos()&&this.$element.addClass("media-viewer-map--is-ios"),this.waitUntilGoogleMapsIsLoaded().then((function(){o.google=window.google,o.gtmDataLayer=window.gtmDataLayer;var e=o.getMapOptions(o.config);o.map=o.createMapOnElement(o.$canvas[0],e);var t=o.config;o.addHuisMarkerToMap(t,o.config.markerUrl,o.config.markerTitle),o.personalPlaceMarkers=new ir(o.google.maps,o.map,o.config,o.store,o.onPersonalPlaceMarkerClickedHandler),o.facilityMarkers=new nr(o.google.maps,o.map,o.config,o.store),o.mapRoute=new lr(o.google.maps,o.map,o.config,o.store),o.kadasterPlugin=new ur(o.map,o.config),o.streetviewPlugin=n||new hr(o.map,o.config,o.marker),o.situatiekaartPlugin=new fr(o.map,o.config,o.marker,o.mapId),o.voorzieningenPlugin=new dr(o.map,o.config,o.store),o.handleZoomNotification(),o.subscribeToStore(),!0===o.store.getState().ui.userLoggedIn&&o.store.dispatch(Je()),o.bindEvents()}))}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.google.maps.event.addListener(this.map,"idle",(function(){e.google.maps.event.trigger(e.map,"resize")})),this.google.maps.event.addListener(this.map,"zoom_changed",(function(){e.handleZoomNotification()})),gr.on(yr,(function(t,i){e.switchMapType(i.value)})).on(br,(function(t,i){e.showLegend(i.legendSelector)})).on("map-route-error-event",(function(t,i){e.handleRouteError(i)})),this.$mapZoomControls.on("click","[data-media-viewer-map-zoom-controls-in]",(function(t){e.zoomIn(t)})).on("click","[data-media-viewer-map-zoom-controls-out]",(function(t){e.zoomOut(t)}))}},{key:"onPersonalPlaceMarkerClickedHandler",value:function(e){a()(document).trigger("map-route-error-event",{type:"map-route-hide-error"}),this.store.dispatch(Ue("kaart/locatie/".concat(e)))}},{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t,i){if(!i.getPersonalPlaces.loaded&&t.getPersonalPlaces.loaded&&!t.getPersonalPlaces.error&&t.addPersonalPlace.loaded){var n=kr(t),a=n[n.length-1].id;e.store.dispatch(Ze(a))}!Ne(t,i)||i.entities.locations[i.ui.activeLocationId]&&(i.entities.locations[i.ui.activeLocationId].personalPlace||i.entities.voorzieningen[i.ui.activeLocationId])||e.store.dispatch(Ye(i.ui.activeLocationId)),(Ne(t,i)&&!He(t)||function(e,t){return Ve(e)!==Ve(t)}(t,i))&&e.handleZoomNotification()}))}},{key:"waitUntilGoogleMapsIsLoaded",value:function(){return Us()}},{key:"handleZoomNotification",value:function(){var e=this.isNotificationVisible(this.$limitError)||this.isNotificationVisible(this.$commonError),t=void 0!==kt.getCookie(this.facilityZoomCookieName),i=this.map.getZoom()<14,n=this.store.getState(),a=!t&&!e&&i&&!He(n)&&function(e){return 0!==Ve(e).length}(n);this.setNotification(this.$facilityZoomInfo,a)}},{key:"handleRouteError",value:function(e){if(this.hideAllNotifications(),"map-route-hide-error"!==e.type){var t="map-route-limit-error"===e.type?this.$limitError:this.$commonError;this.setNotification(t,!0)}}},{key:"isNotificationVisible",value:function(e){return!e.find("[data-notification]").hasClass("is-hidden")}},{key:"setNotification",value:function(e,t){var i=e.find("[data-notification]");t?i.removeClass("is-hidden"):i.addClass("is-hidden")}},{key:"hideAllNotifications",value:function(){this.setNotification(this.$facilityZoomInfo,!1),this.setNotification(this.$commonError,!1),this.setNotification(this.$limitError,!1)}},{key:"createMapOnElement",value:function(e,t){return this.mapCreationEventLogger.log("media-viewer-map"),new this.google.maps.Map(e,t)}},{key:"addHuisMarkerToMap",value:function(e,t,i){var n=new this.google.maps.LatLng(e.lat,e.lng),a={url:t,anchor:new this.google.maps.Point(30,54),scaledSize:new this.google.maps.Size(60,62)};this.marker=new this.google.maps.Marker({position:n,map:this.map,title:i,icon:a,zIndex:9999})}},{key:"getMapOptions",value:function(){var e=window.google,t=this.config;return{zoom:t.zoom||16,center:new e.maps.LatLng(t.lat,t.lng),scrollwheel:!0,gestureHandling:"greedy",disableDefaultUI:!0,mapTypeControlOptions:{mapTypeIds:[e.maps.MapTypeId.ROADMAP,e.maps.MapTypeId.SATELLITE,"kadastraal"]},mapTypeId:t.defaultMapType,scaleControl:!0,overviewMapControl:!0,zoomControlOptions:{style:e.maps.ZoomControlStyle.SMALL},clickableIcons:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]}]}}},{key:"switchMapType",value:function(e){switch(this.map.overlayMapTypes.clear(),this.map.data.setMap(null),this.streetviewPlugin.setStreetview(!1),this.hideLegends(),this.removeAttributions(),e){case"roadmap":this.map.setMapTypeId(this.google.maps.MapTypeId.ROADMAP);break;case"satellite":this.map.setMapTypeId(this.google.maps.MapTypeId.HYBRID);break;case"cadastral":this.kadasterPlugin.enableKadaster("media-viewer-map");break;case"street_view":this.streetviewPlugin.setStreetview(!0)}this.updateGTMMapType(e)}},{key:"zoomIn",value:function(e){e.preventDefault();var t=this.map.getZoom();21!==t&&this.map.setZoom(t+1)}},{key:"zoomOut",value:function(e){e.preventDefault();var t=this.map.getZoom();0!==t&&this.map.setZoom(t-1)}},{key:"removeAttributions",value:function(){this.map.controls[this.google.maps.ControlPosition.BOTTOM_RIGHT].clear()}},{key:"showLegend",value:function(e){this.$element.find(e).addClass("is-visible")}},{key:"hideLegends",value:function(){this.$mapLegend.removeClass("is-visible")}},{key:"updateGTMMapType",value:function(e){this.mapTypeEventLogger.log(e)}}],[{key:"isIos",value:function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}}]),e}(),Cr="map-type-select-event-".concat("media-viewer-map-nwn"),Sr="show-map-legend-".concat("media-viewer-map-nwn"),Tr=a()(window),Er=function(){function e(t){h()(this,e);this.$element=a()(t),this.mapId=this.$element.attr("data-media-viewer-map-nwn"),this.$mapTypeSelect=this.$element.find("[data-object-map-type-select]"),this.$canvas=this.$element.find("[data-media-viewer-map-nwn-canvas]"),this.config=JSON.parse(this.$element.find("[data-media-viewer-map-nwn-config]").text()),this.$mapLegends=this.$element.find("[data-object-map-legend]"),this.$mapZoomControls=this.$element.find("[data-media-viewer-map-nwn-zoom-controls]"),this.loadDependencies(),this.bindEvents()}return f()(e,[{key:"dispose",value:function(){Tr.trigger("event-situatiekaart-close-drawer")}},{key:"loadDependencies",value:function(){var e=this;Us().then((function(){e.createMap(),e.switchMapType(e.config.defaultMapType)}))}},{key:"bindEvents",value:function(){var e=this;Tr.on(Cr,(function(t,i){e.switchMapType(i.value)})),Tr.on(Sr,(function(t,i){e.showLegend(i.legendSelector)})),Tr.on("event-map-zoom-controls",(function(t,i){e.$mapZoomControls.toggleClass("is-hidden",i.hidden)})),e.$mapZoomControls.on("click","[data-media-viewer-map-nwn-zoom-controls-in]",(function(t){e.zoomIn(t)})),e.$mapZoomControls.on("click","[data-media-viewer-map-nwn-zoom-controls-out]",(function(t){e.zoomOut(t)}))}},{key:"unbindEvents",value:function(){Tr.off(Cr),Tr.off(Sr),this.$mapZoomControls.off("click","[data-media-viewer-map-nwn-zoom-controls-in]"),this.$mapZoomControls.off("click","[data-media-viewer-map-nwn-zoom-controls-out]")}},{key:"createMap",value:function(){var e=window.google,t=new e.maps.LatLng(this.config.lat,this.config.lng);this.map=new e.maps.Map(this.$canvas[0],this.getMapOptions()),this.marker=this.getMarker(t),this.kadasterPlugin=new ur(this.map,this.config),this.streetviewPlugin=new hr(this.map,this.config,this.marker),this.situatiekaartPlugin=new fr(this.map,this.config,this.marker,this.mapId),e.maps.event.addListener(this.map,"click",(function(){Tr.trigger("event-situatiekaart-close-drawer")})),e.maps.event.addListener(this.map,"bounds_changed",(function(){Tr.trigger("event-situatiekaart-close-drawer")}))}},{key:"getMarker",value:function(e){var t=window.google,i={url:this.config.markerUrl,anchor:new t.maps.Point(30,54),scaledSize:new t.maps.Size(60,62)};return new t.maps.Marker({position:e,map:this.map,title:this.config.markerTitle,icon:i,shape:{coords:[8,8,52,52],type:"rect"},zIndex:9999})}},{key:"switchMapType",value:function(e){switch(this.map.overlayMapTypes.clear(),this.map.data.setMap(null),this.streetviewPlugin.setStreetview(!1),this.hideLegends(),this.removeAttributions(),e){case"default":case"roadmap":this.map.setMapTypeId(google.maps.MapTypeId.ROADMAP);break;case"satellite":this.map.setMapTypeId(google.maps.MapTypeId.HYBRID);break;case"cadastral":this.kadasterPlugin.enableKadaster("media-viewer-map-nwn");break;case"street_view":this.streetviewPlugin.setStreetview(!0)}this.updateGTMMapType(e)}},{key:"getMapOptions",value:function(){var e=this.config,t=window.google;return{zoom:e.zoom||16,center:new t.maps.LatLng(e.lat,e.lng),scrollwheel:!0,gestureHandling:"greedy",disableDefaultUI:!0,mapTypeControlOptions:{mapTypeIds:[t.maps.MapTypeId.ROADMAP,t.maps.MapTypeId.SATELLITE,"kadastraal"]},mapTypeId:e.defaultMapType,scaleControl:!0,overviewMapControl:!0,zoomControlOptions:{style:t.maps.ZoomControlStyle.SMALL},clickableIcons:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}}},{key:"zoomIn",value:function(e){var t=this.map.getZoom();e.preventDefault(),21!==t&&this.map.setZoom(t+1)}},{key:"zoomOut",value:function(e){var t=this.map.getZoom();e.preventDefault(),0!==t&&this.map.setZoom(t-1)}},{key:"removeAttributions",value:function(){this.map.controls[google.maps.ControlPosition.BOTTOM_RIGHT].clear()}},{key:"showLegend",value:function(e){this.$element.find(e).addClass("is-visible")}},{key:"hideLegends",value:function(){this.$mapLegends.removeClass("is-visible")}},{key:"updateGTMMapType",value:function(e){void 0!==window.gtmDataLayer&&gtmDataLayer.push({event:"mapTypeChanged",mapTypeName:e})}}]),e}();a.a.prototype.load=function(e){return a.a.fn.on.apply(void 0,["load",e])},a.a.prototype.error=function(e){return a.a.fn.on.apply(void 0,["error",e])};var Or=["foto-","360-foto-","video","plattegrond","overzicht","kaart","nwn-kaart"],xr="webkitAnimationEnd oAnimationEnd msAnimationEnd animationend",_r=27,Ir=a()(window),Pr=a()("body"),Lr=function(){function e(t,i){h()(this,e),this.store=i||Oe,this.connect=new Ie(this.store,["ui.mediaViewerRoute"]),this.animationsSupported=rs(),this.$element=a()(t),this.$closeButton=this.$element.find("[data-media-viewer-close]"),this.$fullscreenButton=this.$element.find("[data-media-viewer-fullscreen]"),this.$elementBackground=a()("body").find("[data-media-viewer-background]"),this.refreshOnClose=!1,this.isMediaViewerAccessedDirectly=!1,this.savedScrollPosition=null;var n=this.store.getState();this.hashMatchesKnownMedia(n.ui.mediaViewerHash)&&(this.isMediaViewerAccessedDirectly=!0),this.clearViews(),this.bindEvents(),this.initFullscreen()}return f()(e,[{key:"bindEvents",value:function(){var e=this,t=this;t.$closeButton.on("click",(function(){e.handleMediaViewerClose()})),a()(document).on("keydown.media-viewer",(function(t){t.ctrlKey||t.shiftKey||t.altKey||t.metaKey||t.keyCode===_r&&e.handleMediaViewerClose()})),t.$fullscreenButton.on("click",(function(){t.isFullscreen?t.exitFullscreen():t.enterFullscreen()})),a()("[data-media-viewer-overlay]").on("click",(function(e){e.preventDefault(),t.store.dispatch(Ue(this.getAttribute("data-media-viewer-overlay")))})),a()("[data-media-viewer-overlay-switch]").on("click",(function(e){e.preventDefault(),t.clearViews(),t.store.dispatch(Ue(this.getAttribute("data-media-viewer-overlay-switch")))})),a()(document).on("refresh-page-after-close",(function(){e.refreshOnClose=!0})),this.connect.subscribe((function(t,i){t.ui.mediaViewerRoute!==i.ui.mediaViewerRoute&&(e.hashMatchesKnownMedia(t.ui.mediaViewerRoute)?(e.open(),e.refreshView(t.ui.mediaViewerRoute)):e.close())}))}},{key:"handleMediaViewerClose",value:function(){this.isMediaViewerAccessedDirectly?this.store.dispatch(Ue("")):window.history.go(-1)}},{key:"hashMatchesKnownMedia",value:function(e){return Or.some((function(t){return-1!==e.indexOf(t)}))}},{key:"open",value:function(){var e=this;this.isOpen()||(this.animationsSupported?this.$element.one(xr,(function(){return e.openAnimationEndHandler()})):this.openAnimationEndHandler(),this.disableBodyScrolling(),this.$element.addClass("is-opening"),this.$elementBackground.addClass("is-opening"))}},{key:"close",value:function(){var e=this;this.refreshOnClose&&window.location.reload(),this.isFullscreen&&this.exitFullscreen(),this.isOpen()&&(this.$element.removeClass("is-open").addClass("is-closing"),this.$elementBackground.removeClass("is-open").addClass("is-closing"),this.enableBodyScrolling(),this.animationsSupported?this.$element.one(xr,(function(){return e.closeAnimationEndHandler()})):this.closeAnimationEndHandler())}},{key:"initFullscreen",value:function(){var e=this;e.isFullscreen=!1,(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&e.$element.addClass("fullscreen-available"),a()(document).on("fullscreenchange webkitfullscreenchange mozfullscreenchange msfullscreenchange",(function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(e.$element.addClass("is-fullscreen"),e.isFullscreen=!0):(e.$element.removeClass("is-fullscreen"),e.isFullscreen=!1)}))}},{key:"enterFullscreen",value:function(){this.isFullscreen=!0,document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()}},{key:"exitFullscreen",value:function(){this.isFullscreen=!1,document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"refreshView",value:function(e){var t;if(0===e.indexOf("foto-")){var i=e.split("foto-")[1];(t=a()("[data-media-viewer-fotos]")).removeClass("hidden"),this.fotosView=new Os(t,i)}else if(0===e.indexOf("video"))(t=a()("[data-media-viewer-video]")).removeClass("hidden"),this.videoView=new xs(t[0]);else if(0===e.indexOf("360-foto-")){var n=e.split("360-foto-")[1];(t=a()("[data-media-viewer-foto360]")).removeClass("hidden"),this.foto360View=new Ds(t[0],n)}else if(0===e.indexOf("plattegrond")){var o=e.split("-")[1];(t=a()("[data-media-viewer-plattegrond]")).removeClass("hidden"),this.plattegrondView=new Fs(o)}else 0===e.indexOf("overzicht")?((t=a()("[data-media-viewer-overview]")).removeClass("hidden"),"object"!==Jt()(this.OverView)&&(this.OverView=new zs(t))):0===e.indexOf("kaart")?((t=a()("[data-media-viewer-map]")).removeClass("hidden"),"object"!==Jt()(this.mapView)&&(this.mapView=new $r(t))):0===e.indexOf("nwn-kaart")&&((t=a()("[data-media-viewer-map-nwn]")).removeClass("hidden"),"object"!==Jt()(this.mapNWNView)&&(this.mapNWNView=new Er(t)))}},{key:"clearViews",value:function(){a()("\n            ".concat("[data-media-viewer-fotos]",",\n            ").concat("[data-media-viewer-video]",",\n            ").concat("[data-media-viewer-foto360]",",\n            ").concat("[data-media-viewer-plattegrond]",",\n            ").concat("[data-media-viewer-overview]",",\n            ").concat("[data-media-viewer-map]",",\n            ").concat("[data-media-viewer-map-nwn]")).addClass("hidden"),"object"===Jt()(this.fotosView)&&this.fotosView.dispose(),"object"===Jt()(this.videoView)&&this.videoView.dispose(),"object"===Jt()(this.foto360View)&&this.foto360View.dispose(),"object"===Jt()(this.plattegrondView)&&this.plattegrondView.dispose(),"object"===Jt()(this.mapNWNView)&&this.mapNWNView.dispose()}},{key:"isOpen",value:function(){return this.$element.hasClass("is-open")}},{key:"disableBodyScrolling",value:function(){var e=Ir.scrollTop();Pr.css("top",-1*e),Pr.addClass("media-viewer-open"),this.savedScrollPosition=e}},{key:"enableBodyScrolling",value:function(){Pr.css("top",""),Pr.removeClass("media-viewer-open"),Ir.scrollTop(this.savedScrollPosition)}},{key:"openAnimationEndHandler",value:function(){this.$element.removeClass("is-opening").addClass("is-open"),this.$elementBackground.removeClass("is-opening").addClass("is-open"),this.$element.attr("aria-hidden","false"),this.$element.off(xr),window.dispatchEvent(new CustomEvent("media-viewer-opened-event",[]))}},{key:"closeAnimationEndHandler",value:function(){this.clearViews(),this.$element.removeClass("is-closing"),this.$elementBackground.removeClass("is-closing"),this.$element.attr("aria-hidden","true"),this.$element.off(xr),window.dispatchEvent(new CustomEvent("media-viewer-closed-event",[]))}}]),e}();a()("[data-media-viewer]").each((function(e,t){return new Lr(t)}));function Ar(e){this.$element=a()(e),this.$items=this.$element.find("[data-carousel-list]"),this.$nextButton=this.$element.find("[data-carousel-next]"),this.slickOptions={mobileFirst:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,nextArrow:this.$nextButton,prevArrow:!1,arrows:!1,responsive:[{breakpoint:750,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1020,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}}]},this.initSlick(),this.$items.addClass("is-enhanced")}Ar.prototype.initSlick=function(){this.$items.slick(this.slickOptions)},a()("[data-carousel-reviews]").each((function(e,t){return new Ar(t)}));var jr=function(){function e(t){h()(this,e),this.$element=a()(t),this.$list=this.$element.find("[data-employees-list]"),this.$handle=this.$element.find("[data-employees-handle]"),this.hideHandle(),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;window.addEventListener("resize",(function(){return e.hideHandle()}))}},{key:"hideHandle",value:function(){window.matchMedia("(max-width: 749px)").matches&&this.$list.children().length<=3||window.matchMedia("(min-width: 750px) and (max-width: 1019px)").matches&&this.$list.children().length<=4||window.matchMedia("(min-width: 1020px)").matches&&this.$list.children().length<=6?this.$handle.addClass("is-hidden"):this.$handle.removeClass("is-hidden")}}]),e}();a()("[data-employees]").each((function(e,t){return new jr(t)}));function Dr(e){this.$element=a()(e),this.$items=this.$element.find("[data-carousel-list]"),this.$nextButton=this.$element.find("[data-carousel-next]"),this.$prevButton=this.$element.find("[data-carousel-prev]"),this.slickOptions={mobileFirst:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,nextArrow:this.$nextButton,prevArrow:this.$prevButton,arrows:!1,responsive:[{breakpoint:1020,settings:{slidesToShow:1,slidesToScroll:1,arrows:!0}}]},this.initSlick(),this.$items.addClass("is-enhanced")}Dr.prototype.initSlick=function(){this.$items.slick(this.slickOptions)},a()("[data-carousel-office]").each((function(e,t){return new Dr(t)}));function Mr(e){this.$element=a()(e),this.$trigger=this.$element.find("[data-clear-input-handle]"),this.$input=this.$element.find("[data-dirty-input]"),this.bindEvents(),""!==this.$input.val()&&this.$trigger.addClass("is-dirty")}Mr.prototype.clear=function(){this.$input.val(""),this.$trigger.removeClass("is-dirty")},Mr.prototype.bindEvents=function(){var e=this;e.$input.on("keyup",(function(){e.toggleInput()})),e.$trigger.on("click",(function(){e.clear()}))},Mr.prototype.toggleInput=function(){""===this.$input.val()?this.handleEmptyInput():this.handleInput()},Mr.prototype.handleEmptyInput=function(){this.$trigger.removeClass("is-dirty")},Mr.prototype.handleInput=function(){this.$trigger.addClass("is-dirty")},a()("[data-clear-input]").each((function(e,t){return new Mr(t)}));var Rr="[".concat("data-object-buurt","]"),Fr="[".concat("data-object-buurt-category-select","]"),Vr=function(){function e(t,i){h()(this,e),this.store=i||Oe,this.$element=a()(t),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$element.on("click",Fr,(function(t){e.selectCategoryHandler(t)})).on("click","[data-object-buurt-explore-locations]",(function(t){e.exploreLocationsHandler(t)}))}},{key:"selectCategoryHandler",value:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-object-buurt-category-select");this.store.dispatch(Ue("kaart")),this.store.dispatch(tt(t)),Bn.services(Hn.ENTRY_POINT_SERVICES,t)}},{key:"exploreLocationsHandler",value:function(e){var t=this;e.preventDefault(),this.store.dispatch(Ue("kaart")),window.addEventListener("media-viewer-opened-event",(function(){window.setTimeout((function(){t.store.dispatch(qe("poi_overview_drawer",C))}),0)}),{once:!0})}}]),e}();a()(Rr).each((function(e,t){return new Vr(t)}));function Hr(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var Nr={methods:{$_gtmLog:function(e){var t=e.event,i=void 0===t?"GAEvent":t,n=e.eventCategory,a=e.eventAction,o=e.eventLabel,s=e.eventValue,r=e.nonInteraction,l=void 0!==r&&r,c=ke()(e,["event","eventCategory","eventAction","eventLabel","eventValue","nonInteraction"]),d=window.gtmDataLayer||[],u=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Hr(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({event:i,eventCategory:n,eventAction:a,eventLabel:o,eventValue:s,nonInteraction:l},c);d.push(u)}}},Br={props:{title:{type:String,required:!0}}},zr={components:{UserSavedEmptyStateIllustration:Object(ro.a)(Br,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fd-container--s fd-m-auto fd-text--center"},[t("h2",{staticClass:"fd-h2 fd-m-bottom fd-m-top-5xl"},[this._v("\n        "+this._s(this.title)+"\n    ")]),this._v(" "),t("div",{staticClass:"user-saved-empty-state__image fd-m-auto"})])}),[],!1,null,null,null).exports},mixins:[Nr],props:{title:{type:String,required:!0},icon:{type:String,required:!0},illustrationtitle:{type:String,required:!0},eventcategory:{type:String,required:!0},eventaction:{type:String,required:!0}},mounted:function(){this.$_gtmLog({eventCategory:this.eventcategory,eventAction:this.eventaction,nonInteraction:!0})}},Ur=Object(ro.a)(zr,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-saved-empty-state fd-overflow-hidden fd-p-top-5xl fd-p-top-7xl--bp-m fd-p-horizontal"},[i("div",{staticClass:"fd-container fd-m-auto"},[i("div",{staticClass:"fd-text--center user-saved-empty-state__header"},[i("span",{domProps:{innerHTML:e._s(e.icon)}}),e._v(" "),i("h1",{staticClass:"fd-m-top fd-h2"},[e._v("\n                "+e._s(e.title)+"\n            ")])]),e._v(" "),i("div",{staticClass:"user-saved-empty-state__benefit fd-p-none fd-p-bottom-xl"},[e._t("default")],2)]),e._v(" "),i("user-saved-empty-state-illustration",{attrs:{title:e.illustrationtitle}})],1)}),[],!1,null,null,null).exports,qr={props:{title:{type:String,required:!0},description:{type:String,required:!0},icon:{type:String,required:!0}}},Gr=Object(ro.a)(qr,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fd-flex fd-flex-column fd-m-bottom-xl fd-text--center fd-text--left--bp-m"},[i("span",{staticClass:"fd-color-blue-2 fd-bg-blue-5 fd-p-xs fd-m-top-xs--bp-m user-saved-empty-state__benefit-icon",domProps:{innerHTML:e._s(e.icon)}}),e._v(" "),i("div",{staticClass:"fd-m-left-xl--bp-m fd-m-top-s"},[i("strong",[e._v(e._s(e.title))]),e._v(" "),i("p",{staticClass:"fd-m-none fd-m-top-xs"},[e._v("\n            "+e._s(e.description)+"\n        ")])])])}),[],!1,null,null,null).exports;document.querySelector("#user-saved-empty-state")&&new bi.a({el:"#user-saved-empty-state",components:{"app-user-saved-empty-state":Ur,"user-saved-empty-state-benefit":Gr}});var Wr=i(247),Zr=i.n(Wr),Kr=a()("body");function Yr(e){var t=this;this.store=Oe,this.connect=new Ie(this.store,["searchFilter.freeTextSearch"]),this.$element=a()(e),this.$input=this.$element.find("[data-free-text-search-name-input]"),this.$clearHandle=this.$element.find("[data-free-text-search-name-clear-handle]"),this.inputValue=unescape(this.$input.val()||""),this.filterButton=Kr.find("[data-sidebar-handle]"),this.time=null,this.$input.val(this.inputValue),this.subscribeToStore();var i=Zr.a.parse(location.search.slice(1));if(i.zoek){var n=(Array.isArray(i.zoek)?i.zoek:[i.zoek]).map((function(e){return{id:t.generateUniqueID(),value:e}}));this.store.dispatch(ot(n))}this.bindEvents();var o=this.getCampaignType();(o.includes("zoekopreistijd")||o.includes("zoekinomschrijving"))&&this.onCampaignRoute()}Yr.prototype.subscribeToStore=function(){var e=this,t=this;this.connect.subscribe((function(i,n){i.searchFilter.freeTextSearch!==[]&&i.searchFilter.freeTextSearch!==n.searchFilter.freeTextSearch&&(t.$labelWrapper=t.$element.find("[data-free-text-search-wrapper]"),e.renderLabel(i.searchFilter.freeTextSearch),i.searchFilter.freeTextSearch.forEach((function(i){var n={filterGroupId:i.id,filterGroupName:i.value,filterName:i.value,labelText:i.value};Ei.add(n,(function(){e.store.dispatch(st(i.id)),Ei.remove(i.id),t.$input.trigger("freetextsearchupdated")}),!0)})))}))},Yr.prototype.getCampaignType=function(){return window.location.hash},Yr.prototype.onCampaignRoute=function(){a()(window).width()<1020&&(this.filterButton.click(),this.$element[0].scrollIntoView({block:"center"}))},Yr.prototype.removeLabel=function(){this.$labelWrapper.empty()},Yr.prototype.renderLabel=function(e){var t=this,i=this;i.labelTemplate=ta()(this.$element.find("[data-free-text-search-selected-option-template]").html());var n=e.map((function(e){return t.labelTemplate({id:e.id,groupId:"free-text-search-value",label:e.value})}));this.$labelWrapper.html(n),i.$buttonAppliedFilter=i.$element.find("[data-free-text-search-applied-filter-button]"),i.$buttonAppliedFilter.on("click",(function(e){i.removeItem(e),i.$input.trigger("freetextsearchupdated")}))},Yr.prototype.bindEvents=function(){var e=this;e.$input.on("keydown",(function(t){13===t.keyCode&&(t.preventDefault(),e.onUpdateInput())})),e.$input.on("keyup",(function(){""===e.$input.val()?e.clear():e.$element.addClass("is-dirty")})),e.$input.on("blur",(function(t){t.target.value!==e.inputValue&&(e.time=setTimeout((function(){e.onUpdateInput()}),250))})),e.$element.on("resetfilter",(function(){e.clear(),e.store.dispatch(st(null))})),e.$clearHandle.on("click",(function(){e.clear()}))},Yr.prototype.clear=function(e){var t=e||this;t.inputValue="",t.$input.val(""),t.$element.removeClass("is-dirty")},Yr.prototype.removeItem=function(e){e.preventDefault();var t=e.currentTarget.children[1].id;this.store.dispatch(st(t)),Ei.remove(t)},Yr.prototype.onUpdateInput=function(){this.$element.is("[data-free-text-search-type]")&&this.GAlog(),this.updateFilter()},Yr.prototype.GAlog=function(){wt.log({eventCategory:"interactions-searchfilters",eventAction:"filter_freetext-omschrijving",eventLabel:this.$input.val()})},Yr.prototype.updateFilter=function(){var e=unescape(this.$input.val());if(""!==e){this.inputValue=e;var t=this.generateUniqueID();this.store.dispatch(ot([{id:t,value:e}])),this.$input.val(""),this.inputValue=""}this.$input.trigger("freetextsearchupdated")},Yr.prototype.generateUniqueID=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},a()("[data-free-text-search-name]").each((function(e,t){return new Yr(t)}));null!==document.querySelector("[data-mortgage-lead]")&&(bi.a.mixin(Zo),new bi.a({el:"[data-mortgage-lead]",components:{"mortgage-lead":zo}}));var Jr={components:{Icon:_o},props:{endpointUrl:{type:String,required:!0},publishedDate:{type:String,required:!0}},data:function(){return{totalViews:0,totalSaves:0}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return ti()(Xt.a.mark((function t(){var i,n;return Xt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.endpointUrl);case 3:return i=t.sent,t.next=6,i.json();case 6:n=t.sent,e.totalViews=n.NumberOfViews||0,e.totalSaves=n.NumberOfSaves||0,e.totalSaves>0&&e.totalViews>0&&window.dispatchEvent(new CustomEvent("show-objectinsight-feedback")),t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},Qr=Object(ro.a)(Jr,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return this.totalSaves>0&&this.totalViews>0?i("div",{staticClass:"fd-m-bottom-xl fd-m-bottom-2xl--bp-m"},[i("h2",{staticClass:"fd-m-none fd-m-bottom-xs"},[e._v("\n    "+e._s(e.$_i18n("Activity"))+"\n  ")]),e._v(" "),i("div",{staticClass:"fd-flex fd-text--center fd-p-vertical fd-border-light-2 fd-border-horizontal-remove"},[i("div",{staticClass:"object-statistics__item fd-border-light-2 fd-border-vertical-remove fd-border-left-remove"},[i("icon",{staticClass:"fd-color-dark-3",attrs:{name:"view"}}),e._v(" "),i("p",{staticClass:"fd-m-none"},[i("strong",[e._v(e._s(e.totalViews)+"x")])]),e._v(" "),i("p",{staticClass:"fd-m-none"},[e._v("\n        "+e._s(e.$_i18n("Viewed"))+"\n      ")])],1),e._v(" "),i("div",{staticClass:"object-statistics__item fd-border-light-2 fd-border-vertical-remove fd-border-left-remove"},[i("icon",{staticClass:"fd-color-dark-3",attrs:{name:"heart-border"}}),e._v(" "),i("p",{staticClass:"fd-m-none"},[i("strong",[e._v(e._s(e.totalSaves)+"x")])]),e._v(" "),i("p",{staticClass:"fd-m-none"},[e._v("\n        "+e._s(e.$_i18n("Saved"))+"\n      ")])],1),e._v(" "),i("div",{staticClass:"object-statistics__item"},[i("icon",{staticClass:"fd-color-dark-3",attrs:{name:"calendar"}}),e._v(" "),i("p",{staticClass:"fd-m-none"},[i("strong",[e._v(e._s(e.publishedDate))])]),e._v(" "),i("p",{staticClass:"fd-m-none"},[e._v("\n        "+e._s(e.$_i18n("OnFunda"))+"\n      ")])],1)])]):e._e()}),[],!1,null,null,null).exports,Xr={email:{title:"E-mail",iconName:"envelope"},facebook:{title:"Facebook",iconName:"facebook"},whatsapp:{title:"Whatsapp",iconName:"whatsapp"},twitter:{title:"Twitter",iconName:"twitter"},pinterest:{title:"Pinterest",iconName:"pinterest"}},el={components:{Icon:_o},props:{isOpened:{type:Boolean,default:!1,required:!0},shareUrls:{type:Object,required:!0}},data:function(){return{shareOptions:[]}},watch:{isOpened:function(e){e?document.body.classList.add("has-open-dialog"):document.body.classList.remove("has-open-dialog")}},mounted:function(){for(var e=0,t=Object.entries(this.shareUrls);e<t.length;e++){var i=be()(t[e],2),n=i[0],a=i[1];Xr[n].id=n,Xr[n].url=a,this.shareOptions.push(Xr[n])}}},tl=Object(ro.a)(el,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isOpened?i("div",{staticClass:"object-save-share__modal fd-text--left fd-bg-white fd-p-vertical-xl fd-p-horizontal"},[i("p",{staticClass:"fd-text-size-xl fd-m-none fd-m-bottom"},[i("strong",[e._v(e._s(e.$_i18n("Share")))])]),e._v(" "),i("button",{staticClass:"object-save-share__close-modal fd-btn fd-btn--tertiary fd-text-size-xl fd-color-dark-3",on:{click:function(t){return e.$emit("close")}}},[i("Icon",{attrs:{name:"close"}})],1),e._v(" "),i("ul",{staticClass:"fd-list--none fd-p-none"},e._l(e.shareOptions,(function(t,n){return i("li",{key:t.id,staticClass:"fd-border-light-2 fd-border-horizontal-remove",class:n>0?"fd-border-top-remove":""},[i("a",{staticClass:"fd-p-vertical fd-flex fd-align-items-center",attrs:{target:"_blank",href:t.url}},[i("Icon",{staticClass:"fd-m-right-xs",attrs:{name:t.iconName}}),e._v(e._s(t.title))],1)])})),0)]):e._e()}),[],!1,null,null,null).exports,il=function(){var e=ti()(Xt.a.mark((function e(){var t,i,n;return Xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector('[data-dialog="user-form"]'),i=t.dialog.isUserLoggedInUrl,e.prev=2,e.next=5,fetch(i);case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(2),St.log(e.t0,{function:"isUserLoggedIn"});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),nl={components:{ShareObjectModal:tl,Icon:_o},mixins:[Nr],props:{isObjectSaved:{type:String,required:!0},saveObjectEndpoint:{type:String,required:!0},unsaveObjectEndpoint:{type:String,required:!0},shareUrls:{type:Object,required:!0}},data:function(){return{showShareModal:!1,isSaving:!1,isSaved:!1}},mounted:function(){this.isSaved="True"===this.isObjectSaved},methods:{saveObject:function(){var e=this;return ti()(Xt.a.mark((function t(){var i;return Xt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isSaving=!0,t.next=3,il();case 3:(i=t.sent).LoggedIn?e.toggleSavedState():(e.isSaving=!1,new ba(i.LoginUrl,(function(){e.isSaving=!0,e.toggleSavedState()})));case 5:case"end":return t.stop()}}),t)})))()},toggleSavedState:function(){var e=this;return ti()(Xt.a.mark((function t(){var i;return Xt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.isSaved?e.unsaveObjectEndpoint:e.saveObjectEndpoint,t.prev=1,t.next=4,fetch(i);case 4:window.dispatchEvent(new CustomEvent("objectsaved")),e.isSaving=!1,e.isSaved=!e.isSaved,e.logGtm(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},logGtm:function(){var e=window.gtmDataLayer?window.gtmDataLayer[0].pagetype:"unknown";this.$_gtmLog({eventCategory:"interactions-objects",eventAction:this.isSaved?"save-object":"unsave-object",eventLabel:e})}}},al=Object(ro.a)(nl,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fd-flex fd-justify-content-end fd-p-horizontal"},[i("button",{staticClass:"object-save-share__button object-save-share__button-share fd-btn fd-btn--tertiary",on:{click:function(t){e.showShareModal=!0}}},[i("Icon",{staticClass:"fd-color-white",attrs:{name:"share"}})],1),e._v(" "),i("button",{staticClass:"object-save-share__button object-save-share__button-save fd-btn fd-btn--tertiary",class:e.isSaved?"object-save-share__button--saved":"",attrs:{disabled:e.isSaving},on:{click:e.saveObject}},[e.isSaved?i("Icon",{staticClass:"fd-color-red-1",attrs:{name:"heart-filled-border"}}):i("Icon",{staticClass:"fd-color-dark-1",attrs:{name:"heart-semi-filled"}})],1),e._v(" "),i("ShareObjectModal",{attrs:{"is-opened":e.showShareModal,"share-urls":e.shareUrls},on:{close:function(t){e.showShareModal=!1}}})],1)}),[],!1,null,null,null).exports;g()(document.querySelectorAll("[data-object-detail-vue-container]")).forEach((function(e){bi.a.mixin(Zo),new bi.a({el:e,components:{"app-object-statistics":Qr,"app-object-save-share":al}})}));function ol(e,t){var i=this;i.$element=a()(e),i.fallbackUrl=e.getAttribute("data-image-error-fallback"),i.$element.is("IMG")?"load"===t.type?i.checkImage(e):e.onerror=function(){e.onerror=null,i.applyFallback(e)}:i.$element.find("img").each((function(e,t){i.checkImage(t),t.onerror=function(){t.onerror=null,i.applyFallback(t)}}))}ol.prototype.checkImage=function(e){this.imageIsOk(e)||this.applyFallback(e)},ol.prototype.applyFallback=function(e){var t=a()(e).parent();e.srcset="",e.src=this.fallbackUrl,t.hasClass("is-backgroundcover")&&t.css("background-image","url("+this.fallbackUrl+")")},ol.prototype.imageIsOk=function(e){return!(""!==e.currentSrc||!e.hasAttribute("srcset"))||!1!==e.complete&&0!==e.naturalWidth},a()(window).on("load resultsUpdated",(function(e){a()("[data-image-error-fallback]").each((function(t,i){return new ol(i,e)}))}));function sl(e){var t=this;if(t.$element=a()(e),window.matchMedia){var i="(max-width: 750px)";window.matchMedia(i).matches&&t.$element.removeClass("is-expanded"),matchMedia(i).addListener((function(e){e.matches?(t.collapsedHeight=t.$content.children().eq(0).outerHeight()+t.$content.children().eq(1).outerHeight()+t.$handle.outerHeight(),t.toggleExpand(!1)):t.toggleExpand(!0)}))}t.expandibleId=e.getAttribute("data-object-kenmerken")||!1,t.isExpanded=t.$element.hasClass("is-expanded"),t.$handle=t.$element.find("[data-object-kenmerken-handle]"),t.$handlesOutside=a()(),t.expandibleId&&(t.$handlesOutside=a()("body").find('[data-object-kenmerken-handle="'+t.expandibleId+'"]')),t.$content=t.$element.find("[data-object-kenmerken-body]").first(),t.fullHeight=t.$content.outerHeight(!0),t.$element.addClass("is-expandible"),t.collapsedHeight=t.$content.outerHeight(!0),t.toggleExpand(t.isExpanded),t.$element.on("click","[data-object-kenmerken-handle]",(function(){t.toggleExpand()})),t.$handlesOutside.on("click",(function(){t.toggleExpand()}))}sl.prototype.toggleExpand=function(e){return this.isExpanded=void 0!==e?e:!this.isExpanded,this.$element.toggleClass("is-expanded",this.isExpanded),this.$handlesOutside.toggleClass("is-expanded",this.isExpanded),this.$element.attr("aria-expanded",this.isExpanded),this.isExpanded?(this.$content.css("height","auto"),sl.sendKenmerkenExpandedEvent()):this.$content.css("height",this.collapsedHeight+"px"),this.isExpanded},sl.sendKenmerkenExpandedEvent=function(){a()(document).trigger("kenmerkenExpanded",{selector:"[data-object-kenmerken]"})},a()("[data-object-kenmerken]").each((function(e,t){return new sl(t)}));var rl=function(){function e(t){h()(this,e),this.$element=a()(t),this.$liveComponent=a()("[".concat("data-virtual-open-house-promo-label-live","]")),this.endpoint=this.$liveComponent.attr("data-virtual-open-house-promo-label-live"),this.$date=this.$liveComponent.find("[data-virtual-open-house-promo-label-live-date]"),this.$streamURL=this.$liveComponent.find("[data-virtual-open-house-promo-label-live-link]"),this.$title=this.$element.find("[data-virtual-open-house-promo-label-live-title]"),this.$moreInfo=this.$element.find("[data-virtual-open-house-promo-label-live-info]"),this.$contentURLs=a()("[data-virtual-open-house-promo-label-content-link]"),this.endDate="",this.globalId=null,this.getLiveStatus(),this.bindEvents()}return f()(e,[{key:"getLiveStatus",value:function(){var e=this;a.a.getJSON(this.endpoint).done((function(t){e.globalId=t.GlobalId,t.Live?(e.updateData(t),e.toggleComponent()):(e.$title.text(t.Title),e.$contentURLs.each((function(e,i){return i.setAttribute("href",t.ContentPageUrl)})),e.$moreInfo.removeClass("is-hidden"))}))}},{key:"updateData",value:function(e){var t=e.Descriptions,i=e.Link,n=e.LinkText,a=e.ContentPageUrl;this.$date.text(t[0]),this.$streamURL.attr("href",i),this.$streamURL.find("span").text(n),this.$contentURLs.each((function(e,t){return t.setAttribute("href",a)}))}},{key:"toggleComponent",value:function(){this.$element.addClass("is-hidden"),this.$liveComponent.removeClass("is-hidden")}},{key:"bindEvents",value:function(){var e=this;this.$streamURL.on("click",(function(){wt.log({eventCategory:"interactions-objects",eventAction:"click-object-virtual-viewing",eventLabel:e.globalId,nonInteraction:!1})}))}}]),e}();a()("[data-virtual-open-house-promo-label]").each((function(e,t){return new rl(t)}));var ll="map-type-select-event-".concat("object-map"),cl="show-map-legend-".concat("object-map"),dl=a()(window);function ul(e){this.$element=a()(e),this.$canvas=this.$element.find("[data-object-map-canvas]"),this.mapId=this.$element.attr("data-object-map"),this.config=JSON.parse(this.$element.find("[data-object-map-config]").text()),this.$mapLegend=this.$element.find("[data-object-map-legend]"),this.$mapZoomControls=this.$element.find("[data-object-map-zoom-controls]"),this.$mapTypeToggle=this.$element.find("[data-object-map-type-select]"),this.mapTypeEventLogger=new mr,this.mapCreationEventLogger=new vr,this.bindEvents(this),this.$element.addClass("is-interactive-map"),this.useLazyLoad()?this.loadMapIfVisible():this.loadMap()}ul.prototype.bindEvents=function(){var e=this;e.$element.on("click","[data-object-map-zoom-controls-in]",(function(t){e.zoomIn(t)})).on("click","[data-object-map-zoom-controls-out]",(function(t){e.zoomOut(t)})),dl.on(ll,(function(t,i){e.switchMapType(i.value)})).on(cl,(function(t,i){e.showLegend(i.legendSelector)})).on("event-map-zoom-controls",(function(t,i){e.$mapZoomControls.toggleClass("is-hidden",i.hidden)})),e.useLazyLoad()&&dl.on("scroll.object-map",Ns()((function(){e.loadMapIfVisible()}),50)).on("resize.object-map",Vi()((function(){e.loadMapIfVisible()}),200))},ul.prototype.useLazyLoad=function(){return!this.$element[0].hasAttribute("data-object-map-force-load")},ul.prototype.loadMapIfVisible=function(){var e=this.$canvas.offset(),t=this.$canvas.height()/4;dl.scrollTop()+dl.height()>e.top+t&&(dl.off("scroll.object-map"),dl.off("resize.object-map"),this.loadMap())},ul.prototype.loadMap=function(){var e=this;e.config.useStubbedMapsApi?e.createMap():Us().then((function(){e.createMap(),e.switchMapType(e.config.defaultMapType)}))},ul.prototype.createMap=function(){var e=window.google,t=new e.maps.LatLng(this.config.lat,this.config.lng);return this.mapCreationEventLogger.log("object-detail"),this.map=new e.maps.Map(this.$canvas[0],this.getMapOptions()),this.marker=this.getMarker(t),this.kadasterPlugin=new ur(this.map,this.config),this.streetviewPlugin=new hr(this.map,this.config,this.marker),this.situatiekaartPlugin=new fr(this.map,this.config,this.marker,this.mapId),this.map},ul.prototype.getMarker=function(e){var t={url:this.config.markerUrl,anchor:new google.maps.Point(30,54),scaledSize:new google.maps.Size(60,62)};return new google.maps.Marker({position:e,map:this.map,title:this.config.markerTitle,icon:t})},ul.prototype.switchMapType=function(e){switch(this.map.overlayMapTypes.clear(),this.map.data.setMap(null),this.streetviewPlugin.setStreetview(!1),this.hideLegends(),this.removeAttributions(),e){case"roadmap":this.map.setMapTypeId(google.maps.MapTypeId.ROADMAP);break;case"satellite":this.map.setMapTypeId(google.maps.MapTypeId.HYBRID);break;case"cadastral":this.kadasterPlugin.enableKadaster("object-map");break;case"street_view":this.streetviewPlugin.setStreetview(!0)}this.updateGTMMapType(e)},ul.prototype.removeAttributions=function(){this.map.controls[google.maps.ControlPosition.BOTTOM_RIGHT].clear()},ul.prototype.showLegend=function(e){this.$element.find(e).addClass("is-visible")},ul.prototype.hideLegends=function(){this.$mapLegend.removeClass("is-visible")},ul.prototype.updateGTMMapType=function(e){this.mapTypeEventLogger.log(e)},ul.prototype.getMapOptions=function(){var e=this.config,t=window.google;return{zoom:e.zoom||14,center:new t.maps.LatLng(e.lat,e.lng),scrollwheel:!1,gestureHandling:"cooperative",disableDefaultUI:!0,mapTypeControlOptions:{mapTypeIds:[t.maps.MapTypeId.ROADMAP,t.maps.MapTypeId.SATELLITE,"kadastraal"]},mapTypeId:e.defaultMapType,scaleControl:!0,overviewMapControl:!0,zoomControlOptions:{style:t.maps.ZoomControlStyle.SMALL},styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}},ul.prototype.zoomIn=function(e){e.preventDefault();var t=this.map.getZoom();21!==t&&this.map.setZoom(t+1)},ul.prototype.zoomOut=function(e){e.preventDefault();var t=this.map.getZoom();0!==t&&this.map.setZoom(t-1)},a()("[data-object-map]").each((function(e,t){return new ul(t)}));var hl="[".concat("data-object-map-type-select","]"),pl=a()(window),fl=function(){function e(t){h()(this,e),this.$element=a()(t),this.mapId=this.$element.attr("data-object-map-type-select"),this.mapTypeSelectEvent="map-type-select-event-".concat(this.mapId),this.$menuToggle=this.$element.find("[data-menu-toggle]"),this.$menuTitle=this.$element.find("[data-menu-title]"),this.$menuItems=this.$element.find("[data-menu-item]"),this.$selectRadios=this.$element.find("[data-object-map-type-select-radio]"),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$element.on("change",this.$selectRadios,(function(t){return e.updateMenuItem(t)})),this.$menuToggle.on("click",(function(t){return e.toggleMenuVisibility(t)})),pl.on("click",(function(){return e.closeMenu()})),pl.on(this.mapTypeSelectEvent,(function(t,i){return e.onMapTypeSelectEvent(i)}))}},{key:"onMapTypeSelectEvent",value:function(e){var t=this;this.$selectRadios.map((function(i,n){var o=a()(n);o.prop("checked",!1),o.val()==e.value&&(o.prop("checked",!0),t.updateMenuTitle(o),Zi("Map Mode Switched",{map_mode:e.value}))}))}},{key:"toggleMenuVisibility",value:function(e){this.$element.toggleClass("open"),e.stopPropagation()}},{key:"closeMenu",value:function(){this.$element.removeClass("open")}},{key:"updateMenuItem",value:function(e){e.preventDefault(),this.$element.removeClass("open"),pl.trigger(this.mapTypeSelectEvent,{value:e.target.value})}},{key:"updateMenuTitle",value:function(e){var t=this.$element.find('label[for="'.concat(e.attr("id"),'"]'));this.$menuTitle.html(t.text().trim())}}]),e}();a()(hl).each((function(e,t){return new fl(t)}));var ml=i(248),vl=i.n(ml);function gl(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var yl=function(){function e(t,i){if(h()(this,e),this.store=i||Oe,this.connect=new Ie(this.store,["entities.categories","ui.selectedCategories","ui.expandedAccordionPanels"]),this.$element=a()(t),this.$accordionContainer=this.$element.find("[data-object-map-drawer-overview-accordion-container]"),this.categoryData=this.$element.find("[data-object-map-drawer-categories]").text(),this.$accordionItemTemplate=this.$element.find("[data-accordion-item-template]"),this.compiledTemplate=ta()(this.$accordionItemTemplate.html(),{imports:{$:a.a,includes:vl.a}}),""!==this.categoryData){var n=JSON.parse(this.categoryData);this.store.dispatch({type:"get_categories",data:n})}this.subscribeToStore(),this.bindEvents(),this.layout()}return f()(e,[{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t,i){t.ui.selectedCategories===i.ui.selectedCategories&&t.ui.expandedAccordionPanels===i.ui.expandedAccordionPanels||e.layout()}))}},{key:"bindEvents",value:function(){var e=this;this.$element.on("click","[data-accordion-item-header]",(function(t){e.handleAccordionPanelAction(t)})),this.$element.on("change","[data-category-item-checkbox]",(function(t){e.handleCategoryAction(t)}))}},{key:"layout",value:function(){var e=this,t=this.store.getState(),i=Z(t.entities.categories),n=t.ui.selectedCategories,a=t.ui.expandedAccordionPanels;if(!i!=={}){var o=this.groupCategories(i).map((function(t){return e.compiledTemplate(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(i),!0).forEach((function(t){k()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gl(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{selectedCategories:n,expandedAccordionPanels:a}))}));this.$accordionContainer.html(o)}}},{key:"groupCategories",value:function(e){return e.reduce((function(e,t){var i=e.hash[t.type];return i||(i=e.hash[t.type]={name:t.typeName,type:t.type,icon:t.icon,categories:[]},e.arr.push(i)),i.categories.push({id:t.id,name:t.name}),e}),{hash:{},arr:[]}).arr}},{key:"handleAccordionPanelAction",value:function(e){var t=a()(e.currentTarget),i=t.attr("data-accordion-item-header");t.parents("[data-accordion-item]").hasClass("is-expanded")?this.store.dispatch(function(e){return{type:"collapse_accordion_panel",id:e}}(i)):this.store.dispatch({type:"expand_accordion_panel",id:i})}},{key:"handleCategoryAction",value:function(e){var t=e.target.value;e.target.checked?(this.store.dispatch(tt(t)),Bn.services(Hn.CATEGORY,t)):this.store.dispatch(function(e){return{type:"disable_category",id:e}}(t))}}]),e}(),bl="[".concat("data-media-viewer-overlay","]"),wl=function(){function e(t){h()(this,e);var i,n=this;n.$element=a()(t),n.$items=n.$element.find("[data-object-media-fotos]"),n.slickWidth=1020,n.enhanceLinks(),n.loadVirtualTour(),n.bindEvents(),window.matchMedia&&((i=window.matchMedia("(max-width: "+n.slickWidth+"px)")).addListener((function(e){e.matches?n.initSlick():(n.unbindEvents(),n.killSlick())})),i.matches&&n.initSlick())}return f()(e,[{key:"enhanceLinks",value:function(){var e=this.$items.find(bl),t=this.$element.find('[data-object-media-teasers] [data-media-viewer-overlay="foto-1"]');e.each((function(e,t){var i=t.getAttribute("data-media-viewer-overlay");t.setAttribute("href","#"+i)}));var i=t.attr("data-media-viewer-overlay");t.attr("href","#"+i)}},{key:"unbindEvents",value:function(){a()(document).off("keydown.object-media")}},{key:"initSlick",value:function(){this.$items.on("init",(function(e,t){t.slickFilter((function(){return 0===a()(".object-media-foto--video-thumbnail",this).length}))})).slick({arrows:!1,infinite:!1,speed:250,cssEase:"ease",mobileFirst:!0,touchThreshold:12,useTransform:!0,lazyLoad:"anticipated",lazyLoadAhead:3})}},{key:"killSlick",value:function(){this.$items.slick("slickUnfilter"),this.$items.slick("unslick")}},{key:"loadVirtualTour",value:function(){var e=this.$element.find("[data-enhancements-endpoint]"),t=e.attr("data-enhancements-endpoint");a.a.get(t,(function(t){var i=t.VirtualTourUrl;i&&(e.attr("href",i),e.removeClass("is-hidden"))}))}},{key:"bindEvents",value:function(){this.$element.find("[data-enhancements-endpoint]").on("click",(function(){wt.log({eventCategory:"interactions-objects",eventAction:"click-virtual-tour-button",eventLabel:"click virtual tour",nonInteraction:!1})}))}}]),e}();a()("[data-object-media]").each((function(e,t){return new wl(t)}));var kl=function(){function e(t){h()(this,e),this.$element=a()(t),this.$handle=this.$element.find("[data-tooltip-ui-handle]"),this.isOpened=this.$element.hasClass("fd-tooltip--open"),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$handle.click((function(t){t.preventDefault(),e.toggle()})),a()("body").on("click",(function(t){return e.handleOnBodyClick(t)}))}},{key:"toggle",value:function(){this.isOpened?this.close():this.open()}},{key:"open",value:function(){this.$element.addClass("fd-tooltip--open"),this.isOpened=!0}},{key:"close",value:function(){this.$element.removeClass("fd-tooltip--open"),this.isOpened=!1}},{key:"handleOnBodyClick",value:function(e){var t=this.$handle.is(e.target),i=this.$element.is(e.target),n=0!==a()(e.target).closest(this.$element).length;t||i||n||this.close()}}]),e}();a()("[data-tooltip-ui]").each((function(e,t){return new kl(t)}));var $l="[".concat("data-save-object-add-url","]"),Cl="[".concat("data-save-object-remove-url","]"),Sl=window.gtmDataLayer?window.gtmDataLayer[0].pagetype:"unknown",Tl=function(){function e(t){h()(this,e),this.$el=a()(t);var i=this.$el.data().saveObjectTinyid;this.userIsAlreadyLoggedIn=this.$el.data().isUserLoggedIn,this.isIdentityServerLogin=this.$el.data().isIdentityServerLogin,this.allTinyIds=a()("div[data-save-object-tinyId='"+i+"']"),this.$saveObjectButtonAdd=this.$el.find($l),this.$saveObjectUrlRemove=this.$el.find(Cl),this.$saveObjectUrlAdd=this.$el.find($l).attr("data-save-object-add-url"),this.$saveObjectUrlRemove=this.$el.find(Cl).attr("data-save-object-remove-url"),this.bindEvents()}var t,i;return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$el.on("click","[data-save-object-handle]",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(e){if(e.preventDefault(),this.isIdentityServerLogin&&!this.userIsAlreadyLoggedIn){this.logGTM();var t=this.$el.hasClass("is-saved"),i=this.getSaveObjectUrl(t)+"&returnUrl="+encodeURIComponent(window.location);window.location=i}else this.disableSaveButton(),this.saveIfLoggedIn(),this.logGTM()}},{key:"saveIfLoggedIn",value:function(){var e=this;e.isUserLoggedIn((function(){e.toggleSavedState(e.allTinyIds)}))}},{key:"isUserLoggedIn",value:(i=ti()(Xt.a.mark((function e(t){var i,n,o,s;return Xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,n=document.querySelector('[data-dialog="user-form"]'),o=n.dialog.isUserLoggedInUrl,e.prev=3,e.next=6,a.a.ajax({url:o});case 6:!0===(s=e.sent).LoggedIn?t():(i.userLoginStatus=new ba(s.LoginUrl,(function(){t()})),i.enableSaveButton()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),St.log(e.t0,{function:"isUserLoggedIn"});case 13:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e){return i.apply(this,arguments)})},{key:"toggleSavedState",value:(t=ti()(Xt.a.mark((function e(t){var i,n,o,s;return Xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,n=this.$el.hasClass("is-saved"),o=this.getSaveObjectUrl(n),e.prev=4,e.next=7,a.a.ajax({url:o,type:"GET"});case 7:(s=e.sent)&&(t.map((function(){i.toggleSaveIcon(a()(this))})),a()(window).trigger("objectsaved"),a()(window).trigger("map_saved_object_event",[s])),i.enableSaveButton(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),St.log(e.t0,{function:"toggleSavedState"});case 15:case"end":return e.stop()}}),e,this,[[4,12]])}))),function(e){return t.apply(this,arguments)})},{key:"enableSaveButton",value:function(){this.$el.children().removeAttr("disabled")}},{key:"disableSaveButton",value:function(){this.$el.children().attr("disabled","disabled")}},{key:"getSaveObjectUrl",value:function(e){return!0===e?this.$saveObjectUrlRemove:this.$saveObjectUrlAdd}},{key:"toggleSaveIcon",value:function(e){if(e.hasClass("is-saved"))e.removeClass("is-saved");else{e.addClass("is-saved is-saving");e.one("animationend",(function(){e.removeClass("is-saving")}))}}},{key:"getEventCategory",value:function(){if(window.gtmDataLayer)switch(window.gtmDataLayer[0].pagetype){case"searchresults":return"interactions-searchresults";case"object":return"interactions-objects";case"kaart":return"interactions-kaart"}}},{key:"getObjectState",value:function(){return!0===this.$el.hasClass("is-saved")?"unsave-object":"save-object"}},{key:"logGTM",value:function(){var e={eventCategory:this.getEventCategory(),eventAction:this.getObjectState(),eventLabel:Sl};this.gtmEventLogger=new bt,this.gtmEventLogger.log(e)}}]),e}();Tl.getSelector=function(){return"[data-save-object]"},ji.getAllInstances(Tl),a()("[data-save-object]").length>0&&a()(document).on("resultsUpdated",(function(){Tl.getSelector=function(){return"[data-save-object]"},ji.getAllInstances(Tl)}));var El=a()("body");function Ol(e){var t=this;this.$element=a()(e),this.loggingUrl=e.getAttribute("data-interaction-url"),this.tinyId=e.getAttribute("data-interaction-tinyid"),this.loggedActions=[],El.on("click","*".concat("[data-interaction-click]"),(function(e){return t.registerInteractionHandler(e)})),El.on("swipe","*".concat("[data-interaction-swipe]"),(function(e){return t.registerInteractionHandler(e)})),function(e){var t=a()("[data-scroll-watch]");if(t.length>0){e.watchedScrollElements=[];for(var i=0;i<t.length;i++)e.isElementInViewport(t[i])||e.watchedScrollElements.push(t[i]);e.watchedScrollElements.length>0&&a()(window).on("scroll",e.debounce((function(){for(var t=0;t<e.watchedScrollElements.length;t++){var i=e.watchedScrollElements[t];e.isElementInViewport(i)&&e.logInteraction(i)}}),100))}}(this)}Ol.prototype.registerInteractionHandler=function(e){e.currentTarget.hasAttribute("data-interaction-override")&&e.preventDefault(),this.logInteraction(e.currentTarget)},Ol.prototype.logInteraction=function(e){var t=a()(e).attr("data-interaction");-1===this.loggedActions.indexOf(t)&&(this.loggedActions.push(t),a.a.ajax({type:"POST",url:this.loggingUrl,data:{tinyId:this.tinyId,logAction:t}}).always((function(){if(e.hasAttribute("data-interaction-override")){var t=e.getAttribute("href");null!==t&&""!==t&&(document.location=t)}})))},Ol.prototype.debounce=function(e,t,i){var n;return function(){var a=this,o=arguments,s=function(){n=null,i||e.apply(a,o)},r=i&&!n;clearTimeout(n),n=setTimeout(s,t),r&&e.apply(a,o)}},Ol.prototype.isElementInViewport=function(e){var t=e;"function"==typeof a.a&&e instanceof a.a&&(t=e[0]);var i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)},a()("[data-interaction-logging]").each((function(e,t){return new Ol(t)}));var xl=a()(window),_l=function(){function e(t){h()(this,e);this.$element=a()(t),this.$closeButton=this.$element.find("[data-situatiekaart-close-button]"),this.$content=this.$element.find("[data-situatiekaart-drawer-content]"),this.$objectImage=this.$element.find("[data-situatiekaart-drawer-image]"),this.$objectLabel=this.$element.find("[data-situatiekaart-drawer-label]"),this.$objectTitle=this.$element.find("[data-situatiekaart-drawer-title]"),this.$objectPrice=this.$element.find("[data-situatiekaart-drawer-price]"),this.$objectSurface=this.$element.find("[data-situatiekaart-drawer-surface]"),this.$objectRooms=this.$element.find("[data-situatiekaart-drawer-rooms]"),this.$objectUrl=this.$element.find("[data-situatiekaart-drawer-url]"),this.animationsSupported=rs(),this.$closeButton.on("click",(function(){xl.trigger("event-situatiekaart-close-drawer")})),this.bindGlobalEvents()}return f()(e,[{key:"bindGlobalEvents",value:function(){var e=this;xl.on("event-situatiekaart-show-drawer",(function(t,i){e.updateDrawer(i.feature)})),xl.on("event-situatiekaart-close-drawer",(function(){e.closeDrawer()}))}},{key:"openDrawer",value:function(){this.isOpen()||this.$element.addClass("is-opened")}},{key:"closeDrawer",value:function(){var e=this;if(e.isOpen()){e.$element.removeClass("is-opened").addClass("is-closing");var t=function(){e.$element.removeClass("is-closing"),e.$element.attr("aria-hidden","true"),e.$element.off("webkitAnimationEnd oAnimationEnd msAnimationEnd animationend")};e.animationsSupported?e.$element.one("webkitAnimationEnd oAnimationEnd msAnimationEnd animationend",t):t()}}},{key:"updateDrawer",value:function(e){var t=this;t.$content.addClass("is-updating"),null!==e.getProperty("StatusLabel")?(t.$objectLabel.removeClass().addClass(e.getProperty("StatusClassName")),t.$objectLabel.html(e.getProperty("StatusLabel"))):(t.$objectLabel.removeClass(),t.$objectLabel.html("")),t.$objectImage.attr("src",e.getProperty("HoofdFoto")),t.$objectImage.attr("srcset",e.getProperty("HoofdFotoSrcSet")),t.$objectTitle.html(e.getProperty("Adres")),t.$objectPrice.html(e.getProperty("Prijs")),t.$objectSurface.html(e.getProperty("Woonoppervlakte")),t.$objectRooms.html(e.getProperty("AantalKamers")),t.$objectUrl.attr("href",e.getProperty("DetailUrl")),setTimeout((function(){t.$content.removeClass("is-updating")}),250),t.openDrawer()}},{key:"isOpen",value:function(){return this.$element.hasClass("is-opened")}}]),e}();a()("[data-object-map-situatiekaart-drawer]").each((function(e,t){return new _l(t)}));var Il=/locatie\/(.*)/,Pl=function(){function e(t,i){h()(this,e),this.store=i||Oe,this.connect=new Ie(this.store,["ui.mediaViewerRoute","ui.modalityAndTravelToggle","ui[".concat($,"]")]),this.$element=a()(t),this.$modalitySelectors=this.$element.find("[data-travel-time-modality-toggle__type-control]"),this.personalPlacesRouteEndpoint=this.$element.attr("data-travel-time-modality-toggle-route-endpoint");var n=this.store.getState().ui.modalityAndTravelToggle.modality;this.selectModality(n),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$modalitySelectors.on("click",(function(t){var i=t.currentTarget.value,n=e.store.getState();Bn.travelTime(Hn.MODALITY,i),a()(document).trigger("map-route-error-event",{type:"map-route-hide-error"}),e.store.dispatch({type:"set_modality",label:i}),e.store.dispatch(Qe(n.ui.globalObjectId,i,e.personalPlacesRouteEndpoint))})),this.connect.subscribe((function(t,i){if(Be(t,i)){var n=Re(t);e.selectModality(n)}""!==t.ui.mediaViewerRoute&&(!Il.test(t.ui.mediaViewerRoute)||t.ui[$]!==S&&t.ui[$]!==E)?e.toggleControlVisibility(!1):e.toggleControlVisibility(!0)}))}},{key:"selectModality",value:function(e){window.localStorage&&localStorage.setItem("poiModality",e),this.$modalitySelectors.removeClass("checked"),this.$modalitySelectors.filter('[value="'.concat(e,'"]')).addClass("checked")}},{key:"toggleControlVisibility",value:function(e){this.$element.addClass("hidden"),e&&this.$element.removeClass("hidden")}}]),e}();a()("[data-travel-time-modality-toggle]").each((function(e,t){return new Pl(t)}));var Ll=i(71),Al=i.n(Ll),jl=1,Dl=2,Ml=3,Rl=4,Fl=function(){function e(t,i,n,o){h()(this,e),console.assert(!!n,"The name of the drawer should be specified"),this.name=n,this.openStateName=o||C,this.store=i||Oe,this.connect=new Ie(this.store,["ui[".concat(this.name,"]")]),this.$element=a()(t),this.$drawerHandle=this.$element.find("[data-drawer-handle]"),this.$dismissButton=this.$element.find("[data-drawer-dismiss]"),this.$expandButton=this.$element.find("[data-drawer-expand]"),this.$swipeOverride=this.$element.find("[data-drawer-swipe-override]"),this.$drawerClickableArea=this.$element.find("[data-object-map-drawer-clickable-area]"),this.$hideKeyboardOnScrollElement=this.$element.find("[data-drawer-dismiss-keyboard-on-scroll]"),this.touchStartY=0,this.moveDistanceScrollableElement=0,this.moveDistanceDrawer=0,this.touchOverridden=!1,this.yPositionWhenOpen=null,this.yPositionWhenClosed=null,this.inLargeView=null,this.subscribeToStore(),this.bindEvents(),this.layout()}return f()(e,[{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t,i){t.ui[e.name]!==i.ui[e.name]&&e.layout()}))}},{key:"bindEvents",value:function(){var e=this;this.$drawerHandle.on("click",(function(){e.handleDrawerAction(),e.isOpen()&&e.name===$?Bn.travelTime(Hn.MOBILE_DETAIL_DRAWER_COLLAPSE,"mobile-detail-drawer-collapse"):Bn.travelTime(Hn.MOBILE_DETAIL_DRAWER_EXPAND,"mobile-detail-drawer-expand")})),this.$expandButton.on("click",(function(){e.handleDrawerAction(),e.store.dispatch(Ue("kaart"))})),this.$dismissButton.on("click",(function(){e.handleDrawerDismiss(),e.store.dispatch(Ue("kaart"))})),this.$drawerClickableArea.on("click",this.onDrawerClick.bind(this)),a()(document).ready(this.checkUntilElementIsVisible.bind(this));var t=window.matchMedia("(min-width: ".concat("750px",")"));t.addListener((function(t){e.inLargeView=t.matches,t.matches?(e.unbindTouchEvents(),e.showDrawerClickableArea()):(e.bindTouchEvents(),e.removeDrawerClickableArea())})),this.inLargeView=t.matches,t.matches?this.$element.addClass("is-inactive"):this.bindTouchEvents()}},{key:"onDrawerClick",value:function(){this.inLargeView||Bn.travelTime(Hn.MOBILE_OVERVIEW_DRAWER_TAP_GRIP,"mobile-overview-drawer-tap-grip"),this.handleDrawerAction(),this.store.dispatch(Ue("kaart"))}},{key:"showDrawerClickableArea",value:function(){this.$drawerClickableArea.on("click",this.onDrawerClick.bind(this)),this.$drawerClickableArea.removeClass("is-hidden")}},{key:"removeDrawerClickableArea",value:function(){this.$drawerClickableArea.off("click"),this.$drawerClickableArea.addClass("is-hidden")}},{key:"checkUntilElementIsVisible",value:function(){this.$element.is(":visible")?this.$element.addClass("is-animated"):setTimeout(this.checkUntilElementIsVisible.bind(this),50)}},{key:"bindTouchEvents",value:function(){var e=this;this.$element.on("touchstart",(function(t){return e.handleTouchStart(t)})).on("touchmove",(function(t){return e.handleTouchMove(t)})).on("touchend",(function(){return e.handleTouchEnd()})).on("touchcancel",(function(){return e.handleTouchCancel()}))}},{key:"unbindTouchEvents",value:function(){this.$element.off("touchstart touchmove touchend touchcancel")}},{key:"handleTouchStart",value:function(e){var t=e.changedTouches[0];this.touchStartY=parseInt(t.clientY,10),this.$element.removeClass("is-animated"),this.yPositionWhenClosed=this.getDrawerMinimisedYPosition(),this.yPositionWhenOpen=this.getDrawerOpenYPosition(),this.$hideKeyboardOnScrollElement[0].contains(t.target)&&this.$hideKeyboardOnScrollElement.focus()}},{key:"handleTouchMove",value:function(e){var t=this.getSwipeLimit(e.target),i=e.changedTouches[0],n=parseInt(i.clientY,10)-this.touchStartY;if(this.touchOverridden=!1,t!==jl&&(t===Dl&&n>0||t===Ml&&n<0||t===Rl))return this.touchOverridden=!0,void(this.moveDistanceScrollableElement=n);this.moveDistanceDrawer=n-this.moveDistanceScrollableElement,this.isOpen()&&this.moveDistanceDrawer>0&&this.moveDistanceDrawer<=this.yPositionWhenClosed?this.positionDrawer(this.yPositionWhenOpen+this.moveDistanceDrawer):!this.isOpen()&&this.moveDistanceDrawer<0&&this.moveDistanceDrawer>=-this.yPositionWhenClosed&&this.positionDrawer(this.yPositionWhenClosed+this.moveDistanceDrawer)}},{key:"handleTouchEnd",value:function(){this.clearDrawerPositionCss(),this.$element.addClass("is-animated"),this.touchOverridden||(this.isOpen()&&this.moveDistanceDrawer>30||!this.isOpen()&&this.moveDistanceDrawer<-30?this.handleDrawerAction():this.layout()),this.moveDistanceScrollableElement=0,this.moveDistanceDrawer=0,this.touchOverridden=!1}},{key:"handleTouchCancel",value:function(){this.clearDrawerPositionCss(),this.$element.addClass("is-animated"),this.layout(),this.moveDistanceScrollableElement=0,this.moveDistanceDrawer=0,this.touchOverridden=!1}},{key:"handleDrawerAction",value:function(){this.isOpen()?(this.$drawerClickableArea.removeClass("expanded"),this.$drawerHandle.find("[data-drawer-icon]").removeClass("is-open"),this.store.dispatch(qe(this.name,S)),this.inLargeView&&Bn.travelTime(Hn.DESKTOP_OVERVIEW_DRAWER_COLLAPSE,"desktop-overview-drawer-collapse")):(this.$drawerClickableArea.addClass("expanded"),this.$drawerHandle.find("[data-drawer-icon]").addClass("is-open"),this.store.dispatch(qe(this.name,this.openStateName)),this.inLargeView&&Bn.travelTime(Hn.DESKTOP_OVERVIEW_DRAWER_EXPAND,"desktop-overview-drawer-expand"))}},{key:"handleDrawerDismiss",value:function(){this.store.dispatch(qe(this.name,T)),this.inLargeView?Bn.travelTime(Hn.DESKTOP_DETAIL_DRAWER_DISMISS,"desktop-detail-drawer-dismiss"):Bn.travelTime(Hn.MOBILE_DETAIL_DRAWER_DISMISS,"mobile-detail-drawer-dismiss")}},{key:"layout",value:function(){var e=this.store.getState().ui[this.name],t=e===T&&this.inLargeView&&this.name===$;"poi_overview_drawer"===this.name&&"drawer_hidden"===e&&this.$drawerHandle.find("[data-drawer-icon]").removeClass("is-open"),this.hideDrawer(),t?this.additionalHideHandlingLargeView():this.showDrawer(e)}},{key:"showDrawer",value:function(e){var t=this;new Promise((function(e){t.inLargeView?(t.$element.removeClass("is-inactive"),window.requestAnimationFrame((function(){e()}))):e()})).then((function(){switch(e){case C:t.maximiseDrawer();break;case E:t.semiDrawer();break;case S:t.minimiseDrawer()}}))}},{key:"additionalHideHandlingLargeView",value:function(){var e=this;this.$element.one("transitionend",(function(){e.$element.addClass("is-inactive")})),setTimeout((function(){e.$element.off("transitionend")}),1e3)}},{key:"maximiseDrawer",value:function(){this.$element.addClass("is-maximised"),this.isDesktop()&&a()(window).trigger("media-viewer-drawer-expanded")}},{key:"semiDrawer",value:function(){this.$element.addClass("is-semi")}},{key:"minimiseDrawer",value:function(){this.$element.addClass("is-minimised")}},{key:"hideDrawer",value:function(){this.$element.removeClass("".concat("is-maximised"," ").concat("is-minimised"," ").concat("is-semi"))}},{key:"positionDrawer",value:function(e){this.$element.css({transform:"translate3d(0, ".concat(e,"px, 0)")})}},{key:"clearDrawerPositionCss",value:function(){this.$element.css("transform","")}},{key:"isOpen",value:function(){var e=this.store.getState();return[C,E].indexOf(e.ui[this.name])>-1}},{key:"getDrawerMinimisedYPosition",value:function(){return this.$element[0].getBoundingClientRect().height-56}},{key:"getDrawerOpenYPosition",value:function(){return this.openStateName===C?0:this.$element[0].getBoundingClientRect().height-285}},{key:"getSwipeLimit",value:function(e){if(!this.inScrollableElement(e))return jl;var t=Al()(this.$swipeOverride,(function(t){return t.contains(e)}));return 0===t.scrollTop?Ml:t.scrollTop===t.scrollHeight-t.clientHeight?Dl:Rl}},{key:"inScrollableElement",value:function(e){var t=!1;return this.$swipeOverride.each((function(){this.contains(e)&&(t=!0)})),t}},{key:"isDesktop",value:function(){return window.innerWidth>749}}]),e}(),Vl=function(){function e(t,i){h()(this,e),this.store=i||Oe,this.connect=new Ie(this.store,["entities.categories","entities.personalPlaces","entities.travelTimes","entities.voorzieningen","getTravelTimes","ui.poiTravelTime"]),this.$element=a()(t),this.compiledTemplate=ta()(this.$element.find("[data-location-detail-template]").html()),this.location=null,this.loading=!0,this.bindEvents(),this.bindStoreEvents()}return f()(e,[{key:"bindStoreEvents",value:function(){var e=this;this.connect.subscribe((function(t,i){null===t.getTravelTimes.error&&!0!==t.getTravelTimes.loaded||(e.loading=!1,e.$element.find("[data-location-detail-placeholder]").addClass("is-hidden")),t.ui.poiTravelTime!==i.ui.poiTravelTime&&e.layout(e.location)}))}},{key:"bindEvents",value:function(){var e=this;this.$element.on("click","[data-save-link]",(function(t){t.preventDefault();var i=a()(t.currentTarget).attr("href").replace(/^#/,"");e.store.dispatch(Ue(i))})),this.$element.on("click","[data-remove-link]",(function(t){t.preventDefault();var i=e.$element.attr("data-personal-place");e.store.dispatch(et(i)),delete e.location.personalPlace,e.layout(e.location)}))}},{key:"showLocation",value:function(e){this.location=b()({},e),this.layout(e)}},{key:"layout",value:function(e){var t,i=this.store.getState(),n=[],a=[];if(e){i.entities.voorzieningen[e.id]&&(n=i.entities.voorzieningen[e.id]).categories.length>0&&(a=i.entities.categories[n.categories[0]]),t=i.ui.poiTravelTime,this.$element.attr("data-personal-place",e.personalPlace);var o=this.compiledTemplate({id:e.id,name:e.label||e.location,address:e.location,details:t,type:a.type,icon:a.icon,openingHoursToday:n.openingHoursToday,phone:n.phone,website:n.website,source:n.source});this.$element.html(o),this.$element.find("[data-save-link]").toggleClass("is-hidden",!!e.personalPlace),this.$element.find("[data-remove-link]").toggleClass("is-hidden",!e.personalPlace)}}}]),e}(),Hl=function(){function e(t,i){h()(this,e),this.store=i||Oe,this.connect=new Ie(this.store,["addPersonalPlace.loaded","addPersonalPlace.error","getPersonalPlaces.loaded","getPersonalPlaces.error","ui.mediaViewerHash"]),this.handleSaveLocationSubmit=this.handleSaveLocationSubmit.bind(this),this.handleCancelSaveLocation=this.handleCancelSaveLocation.bind(this),this.onSuggestingItems=this.onSuggestingItems.bind(this),this.$element=a()(t),this.$whiteBackground=this.$element.find(".white-bg"),this.$saveLocationForm=this.$element.find("[data-save-location-form]"),this.saveLocationForm=new fa(this.$saveLocationForm,this.handleSaveLocationSubmit,this.handleCancelSaveLocation,this.onSuggestingItems),this.authenticationRedux=new ka}return f()(e,[{key:"onSuggestingItems",value:function(e){this.$whiteBackground.toggleClass("is-hidden",!e)}},{key:"handleSaveLocationSubmit",value:function(e){var t=this,i=this.store.getState();return Promise.resolve(function(e){return e.ui.userLoggedIn}(i)).then((function(i){return i?t.saveLocation(e):t.authenticationRedux.openLoginDialog().then((function(){return a()(document).trigger("refresh-page-after-close"),t.saveLocation(e)}))}))}},{key:"openLoginDialog",value:function(){return this.authenticationRedux.openLoginDialog()}},{key:"isFacilityMarker",value:function(e){var t=this.store.getState();return void 0!==t.entities.locations[e]&&void 0!==t.entities.voorzieningen[e]}},{key:"saveLocation",value:function(e){var t=e.location,i=e.label,n=e.coordinates.lat,a=e.coordinates.lng;this.authenticationRedux.closeLoginDialog(),this.store.dispatch(Xe({location:t,label:i,lat:n,lng:a})),Bn.travelTime(Hn.SAVE_POI,t)}},{key:"handleCancelSaveLocation",value:function(){var e=this.store.getState().ui.activeLocationId;e?(this.store.dispatch(Ue("kaart/locatie/".concat(e))),this.store.dispatch(Ze(e))):(this.store.dispatch(qe($,T)),this.store.dispatch(Ue("kaart")))}},{key:"setLocation",value:function(e){e&&(this.isFacilityMarker(e.id)?(this.saveLocationForm.setLocation(e.id,e.label,e.lat,e.lng),this.saveLocationForm.disableLocationInput()):this.saveLocationForm.setLocation(e.id,e.location,e.lat,e.lng))}}]),e}(),Nl=/locatie\/(.*)\/bewaren/,Bl=function(e){return e.ui.activeLocationId},zl=function(){function e(t,i){h()(this,e),this.store=i||Oe,this.connect=new Ie(this.store,["entities.personalPlaces","entities.travelTimes","ui.activeLocationId","ui.mediaViewerRoute","ui.modalityAndTravelToggle"]),this.$element=a()(t),this.$detailDrawerSaveLocationContainer=this.$element.find("[data-detail-drawer-save-location-form-container]"),this.$locationDetail=a()("[data-location-detail]",this.$element),this.drawer=new Fl(this.$element,this.store,$,E),this.locationDetail=new Vl(this.$locationDetail,this.store),this.detailDrawerSaveLocationFormContainer=new Hl(this.$detailDrawerSaveLocationContainer);var n=this.store.getState(),o=ve(n,Bl(n));this.bindEvents(),this.layout(o)}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.connect.subscribe((function(t,i){var n=t.ui.mediaViewerRoute!==i.ui.mediaViewerRoute,a=t.entities.personalPlaces!==i.entities.personalPlaces||t.entities.travelTimes!==i.entities.travelTimes,o=Bl(t)!==Bl(i);if((Be||n||a||o)&&Bl(t)){var s=ve(t,Bl(t));e.layout(s)}}))}},{key:"layout",value:function(e){var t=this.store.getState();Nl.test(t.ui.mediaViewerRoute)?this.showSaveLocation(e):this.showLocationDetail(e)}},{key:"showSaveLocation",value:function(e){this.$detailDrawerSaveLocationContainer.removeClass("is-hidden"),this.$locationDetail.addClass("is-hidden"),this.detailDrawerSaveLocationFormContainer.setLocation(e)}},{key:"showLocationDetail",value:function(e){this.locationDetail.showLocation(e),this.$detailDrawerSaveLocationContainer.addClass("is-hidden"),this.$locationDetail.removeClass("is-hidden")}},{key:"showAddNewLocationForm",value:function(){this.showSaveLocation()}}]),e}(),Ul=function(){},ql=function(){function e(t,i,n){h()(this,e),this.onChangeVisibility=n||Ul,this.onLocationSelected=this.onLocationSelected.bind(this),this.store=i||Oe,this.$element=a()(t),this.$accordion=this.$element.find("[data-object-map-drawer-overview-accordion]"),this.$autoSuggestLocations=this.$element.find("[data-auto-suggest-locations]"),this.drawer=new Fl(this.$element,this.store,"poi_overview_drawer"),this.$autoSuggestLocations=this.$element.find("[data-auto-suggest-locations]"),this.autosuggest=new da(this.$autoSuggestLocations,this.onLocationSelected,Ul,Ul,this.onChangeVisibility),this.accordion=new yl(this.$accordion,this.store)}return f()(e,[{key:"onLocationSelected",value:function(e){this.autosuggest.setValue(""),this.createLocationAndMakeItActive(e.placeId,e.coordinates.lat,e.coordinates.lng,e.location)}},{key:"createLocationAndMakeItActive",value:function(e,t,i,n){this.store.dispatch(function(e){return{type:"add_location",location:e}}({id:e,lat:t,lng:i,location:n,label:n})),this.store.dispatch(Ue("kaart/locatie/".concat(e)))}}]),e}(),Gl=/locatie\/(.*)\/bewaren/,Wl=function(){function e(t,i){h()(this,e),this.store=i||Oe,this.connect=new Ie(this.store,["ui[".concat("poi_overview_drawer","]"),"ui[".concat($,"]"),"ui.activeLocationId","entities.personalPlaces","ui.userLoggedIn"]),this.$element=a()(t),this.$detailDrawer=this.$element.find("[data-poi-detail-drawer]"),this.$overviewDrawer=this.$element.find("[data-poi-overview-drawer]"),this.$accordionWrapper=this.$element.find("[data-drawer-overview-accordion-wrapper]"),this.detailDrawer=new zl(this.$detailDrawer,this.store),this.overviewDrawer=new ql(this.$overviewDrawer,this.store,this.onSuggestItems.bind(this)),this.bindMediaViewerEvents(),this.subscribeToStore()}return f()(e,[{key:"onSuggestItems",value:function(e){e?this.$accordionWrapper.addClass("is-visibility-hidden"):this.$accordionWrapper.removeClass("is-visibility-hidden")}},{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t,i){var n=[T].indexOf(i.ui.poi_overview_drawer)>-1,a=n&&t.ui.poi_overview_drawer===C,o=[C,E,S].indexOf(i.ui[$])>-1&&t.ui[$]===T,s=i.ui[$]===T&&[C,E,S].indexOf(t.ui[$])>-1;a?e.store.dispatch(qe($,T)):o&&n?e.store.dispatch(qe("poi_overview_drawer",S)):s&&e.store.dispatch(qe("poi_overview_drawer",T)),t.ui.activeLocationId!==i.ui.activeLocationId&&null!==t.ui.activeLocationId&&e.store.dispatch(qe($,S)),t.entities.personalPlaces!==i.entities.personalPlaces&&null!==t.ui.activeLocationId&&(e.isValidLocationId(t.ui.activeLocationId,t)?e.setUpDrawers():(e.setDrawersToBaseState(),e.store.dispatch(Ue("kaart")),e.store.dispatch(Ze(null))))}))}},{key:"isValidLocationId",value:function(e,t){var i=t.entities.locations;return void 0!==t.entities.personalPlaces[e]||void 0!==i[e]}},{key:"bindMediaViewerEvents",value:function(){var e=this;window.addEventListener("media-viewer-opened-event",(function(){e.setUpDrawers()})),window.addEventListener("media-viewer-closed-event",(function(){e.setDrawersToHiddenState()})),a()(window).on("map-type-select-event-media-viewer-map",(function(t,i){"roadmap"!==i.value?(e.store.dispatch(Ue("kaart")),e.store.dispatch(Ze(null)),e.setDrawersToHiddenState(),e.$element.addClass("is-hidden")):(e.$element.removeClass("is-hidden"),e.setUpDrawers())}))}},{key:"setUpDrawers",value:function(){var e=this.store.getState(),t=e.ui.mediaViewerRoute,i=new RegExp("^".concat("kaart","$")),n=new RegExp("^".concat("kaart","/").concat("bewaren","$")),o=new RegExp(Gl);!1!==e.ui.userLoggedIn||!a.a.isEmptyObject(e.entities.locations)||n.test(t)?i.test(t)?this.setDrawersToBaseState():n.test(t)?(this.store.dispatch(qe($,E)),this.detailDrawer.showAddNewLocationForm()):o.test(t)?this.store.dispatch(qe($,E)):null!==e.ui.activeLocationId&&(this.store.dispatch(qe($,S)),this.store.dispatch(qe("poi_overview_drawer",T))):this.setDrawersToBaseState()}},{key:"setDrawersToBaseState",value:function(){this.store.dispatch(qe("poi_overview_drawer",S)),this.store.dispatch(qe($,T))}},{key:"setDrawersToHiddenState",value:function(){this.store.dispatch(qe($,T)),this.store.dispatch(qe("poi_overview_drawer",T))}}]),e}();a()("[data-object-map-drawers]").each((function(e,t){return new Wl(t)}));var Zl=function(e){return e.entities.personalPlaces},Kl=function(e){return function(e){return Z(e.entities.locations)}(e).filter((function(e){return!!e.personalPlace}))},Yl=function(){function e(t,i){h()(this,e),this.onPersonalPlacesListItemSelected=this.onPersonalPlacesListItemSelected.bind(this),this.onRemovePersonalPlace=this.onRemovePersonalPlace.bind(this),this.store=i||Oe,this.connect=new Ie(this.store,["entities.personalPlaces","ui.activeLocationId"]),this.$element=a()(t),this.$personalPlacesList=a()("[data-personal-places-list]",this.$element),this.$emptyState=a()("[data-empty-state]",this.$element),this.$loggedInState=a()("[data-not-loggedin-state]",this.$element),this.personalPlacesList=new ya(this.$personalPlacesList,this.store,this.onPersonalPlacesListItemSelected,this.onRemovePersonalPlace),this.authenticationRedux=new ka}return f()(e,[{key:"onPersonalPlacesListItemSelected",value:function(e){this.updateUrlToContainActiveLocation(e)}},{key:"updateUrlToContainActiveLocation",value:function(e){var t="kaart/locatie/".concat(e);this.store.dispatch(Ue(t))}},{key:"init",value:function(){var e=this.store.getState(),t=Kl(e);this.authenticationRedux.fetchUserAuthenticationInfo(),this.layout(t),this.bindEvents()}},{key:"bindEvents",value:function(){var e=this;this.connect.subscribe((function(t,i){if(Zl(t)!==Zl(i)){var n=Kl(t);e.layout(n)}})),this.$element.on("click","[data-login-button]",(function(t){t.preventDefault(),e.authenticationRedux.openLoginDialog().then((function(){e.authenticationRedux.closeLoginDialog()}))}))}},{key:"onRemovePersonalPlace",value:function(e){var t=this.store.getState();e===function(e){return e.ui.activeLocationId}(t)&&this.store.dispatch(Ze(null));var i=Al()(t.entities.locations,(function(t){return t.personalPlace==e}));i&&(this.store.dispatch(et(e)),this.store.dispatch(Ye(i.id)))}},{key:"layout",value:function(e){var t=this.store.getState();this.$personalPlacesList.toggleClass("is-hidden",e.length<1),this.$emptyState.toggleClass("is-hidden",e.length>0),this.$loggedInState.toggleClass("is-hidden",t.ui.userLoggedIn)}}]),e}();a()("[data-my-personal-places]").each((function(e,t){return new Yl(t).init()}));var Jl=function(){function e(t){h()(this,e);var i=this;i.element=t,i.$element=a()(t),i.spinner=new En("[data-media-viewer-map-spinner]"),a()(document).on("map-route-show-spinner",(function(){i.show()})),a()(document).on("map-route-hide-spinner",(function(){i.hide()}))}return f()(e,[{key:"show",value:function(){this.$element.removeClass("is-hidden"),this.spinner.show()}},{key:"hide",value:function(){this.$element.addClass("is-hidden"),this.spinner.hide()}}]),e}();a()("[data-media-viewer-loading-overlay]").each((function(e,t){return new Jl(t)}));i(393);var Ql=function(){function e(t,i){h()(this,e),this.store=i||Oe,this.connect=new Ie(this.store,["entities.personalPlaces","ui.modalityAndTravelToggle","ui.userLoggedIn","getPersonalPlaces.loaded","getPersonalPlaces.error","addPersonalPlace.loaded","addPersonalPlace.error","ui.selectedCategories"]),this.shouldLoadPersonalPlacesOnScroll=!0,this.routeEndpoint=t.getAttribute("data-object-locations-route-endpoint"),this.Cookies=kt,this.routeEndpoint||St.log("object-locations configuration error"),this.bindEvents(),this.restoreCategories()}return f()(e,[{key:"connectToStore",value:function(){var e=this,t=function(e,t,i){return t[e].loaded&&!t[e].error&&t[e].loaded!==i[e].loaded};this.connect.subscribe((function(i,n){i.ui.selectedCategories!==n.ui.selectedCategories&&e.rememberCategories(i.ui.selectedCategories);var o=!1===n.ui.userLoggedIn||null===n.ui.userLoggedIn,s=i.ui.userLoggedIn&&o;if((t("addPersonalPlace",i,n)||s)&&e.store.dispatch(Je()),t("getPersonalPlaces",i,n)){if(i.addPersonalPlace.loaded){var r=Object.values(i.entities.personalPlaces).filter((function(e){return e.isLatest}));1===r.length&&e.store.dispatch(Ue("kaart/locatie/".concat(r[0].id)))}a.a.isEmptyObject(i.entities.personalPlaces)||e.store.dispatch(Qe(i.ui.globalObjectId,i.ui.modalityAndTravelToggle.modality,e.routeEndpoint))}}))}},{key:"bindEvents",value:function(){var e=this;a()(document).on("click","[data-entry-point]",(function(e){var t=a()(e.target).data("entry-point");"open-map"===t?Bn.travelTime(Hn.ENTRY_POINT_MAP,""):"add-location"===t&&Bn.travelTime(Hn.ENTRY_POINT_ADD,"")})).on("user-authenticated-event",(function(e,t){Bn.travelTime(t.loginType,"poi")})).on("scroll",(function(){window.scrollY>2e3&&e.shouldLoadPersonalPlacesOnScroll&&(e.connectToStore(),!0===e.store.getState().ui.userLoggedIn&&e.store.dispatch(Je()),e.shouldLoadPersonalPlacesOnScroll=!1)}))}},{key:"rememberCategories",value:function(e){this.Cookies.setCookie("selected-categories",e.join("|"))}},{key:"restoreCategories",value:function(){var e=this.Cookies.getCookie("selected-categories","");if(""!==e){var t=e.split("|");this.store.dispatch({type:"set_categories",ids:t})}}}]),e}();a()("[data-object-locations]").length>0&&a()("[data-object-locations]").first().each((function(e,t){return new Ql(t)}));var Xl="[".concat("data-object-my-locations-action-delete","]"),ec="[".concat("data-object-my-locations-action-select","]"),tc=function(){function e(t,i){h()(this,e),this.store=i||Oe,this.connect=new Ie(this.store,["entities.personalPlaces","entities.travelTimes","getTravelTimes","ui.userLoggedIn"]),this.$element=a()(t),this.$itemElement=this.$element.find("[data-object-my-locations-items]"),this.$listElement=this.$element.find("[data-object-my-locations-list]"),this.compiledTemplate=ta()(this.$element.find("[data-object-my-locations-template]").html()),this.subscribeToStore(),this.bindEvents()}return f()(e,[{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t){e.layout(t.ui.globalObjectId,t.ui.modalityAndTravelToggle.modality,t.entities.personalPlaces,t.entities.travelTimes)}))}},{key:"bindEvents",value:function(){var e=this;this.$listElement.on("click",ec,(function(t){e.selectPersonalPlaceHandler(t)})).on("click",Xl,(function(t){e.deletePersonalPlaceHandler(t)}))}},{key:"layout",value:function(e,t,i,n){var a=this;if(!("abort"===this.store.getState().getTravelTimes.error)){var o=Object.keys(i).length,s=this.store.getState().getTravelTimes.loading;if(null!==this.store.getState().getTravelTimes.error)this.$listElement.empty(),this.compiledErrorTemplate=ta()(this.$element.find("[data-object-my-locations-template-error]").html()),this.$listElement.append(this.compiledErrorTemplate());else{this.$element.addClass("places-loaded"),this.$itemElement.toggleClass("has-places",o>0),this.$listElement.empty();Z(i).forEach((function(i){var o=i.label||i.location,r=function(e){return e&&!e.error?"".concat(e.duration,"  ").concat(e.distance):null}(n["".concat(i.id,"-").concat(e,"-").concat(t)]);a.$listElement.append(a.compiledTemplate({locationId:i.id,isLoading:s,label:o,distance:r,error:null===r&&!s}))}))}}}},{key:"selectPersonalPlaceHandler",value:function(e){var t=e.currentTarget.getAttribute("data-object-my-locations-action-select"),i=this.store.getState().entities.personalPlaces[t].location;this.store.dispatch(Ue("kaart/locatie/".concat(t))),Bn.travelTime(Hn.ENTRY_POINT_GO_TO,i)}},{key:"deletePersonalPlaceHandler",value:function(e){e.stopPropagation();var t=e.currentTarget.getAttribute("data-object-my-locations-action-delete"),i=this.store.getState().entities.personalPlaces[t].location;this.store.dispatch(et(t)),Bn.travelTime(Hn.DELETE_POI,i)}}]),e}();a()("[data-object-my-locations]").each((function(e,t){return new tc(t)}));i(235);var ic=/locatie\/([^/]*)/,nc=function(){return window.location.hash.replace(/^#/,"")},ac=function(e){return null!==e.match(/^(foto|video|360-foto|plattegrond|overzicht|kaart|nwn-kaart)/)};new(function(){function e(t){h()(this,e),this.store=t||Oe,this.initialUrl=window.location.href.replace(window.location.hash,""),this.lastPushedHash="",this.hasPushed=!1,this.connect=new Ie(this.store,["ui.mediaViewerHash"]),this.bindEvents(),this.store.dispatch(Ue(nc())),window.location.hash&&(this.hasPushed=!0)}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.connect.subscribe((function(t,i){if(t.ui.mediaViewerHash!==i.ui.mediaViewerHash){var n=!ac(i.ui.mediaViewerHash)&&ac(t.ui.mediaViewerHash),a=ac(i.ui.mediaViewerHash)&&!ac(t.ui.mediaViewerHash);if(nc()!==t.ui.mediaViewerHash||n||a){var o=t.ui.mediaViewerHash?"#".concat(t.ui.mediaViewerHash):e.initialUrl;e.hasPushed?window.history.replaceState("media-viewer-router",null,o):(window.history.pushState("media-viewer-router",null,o),e.hasPushed=!0)}e.lastPushedHash=t.ui.mediaViewerHash;var s=e.lastPushedHash.match(ic);if(s){var r=s[1];e.store.dispatch(Ze(r))}else e.store.dispatch(Ze(null));e.store.dispatch({type:"set_media_viewer_route",mediaViewerRoute:e.lastPushedHash})}})),window.onpopstate=function(){if(""!==e.lastPushedHash)e.store.dispatch(Ue("")),e.hasPushed=!1,e.lastPushedHash="";else{var t=window.location.hash.replace(/^#/,"");e.hasPushed=!0,e.store.dispatch(Ue(t)),e.lastPushedHash=t}}}}]),e}());function oc(e,t){this.$element=a()(e),this.isReplacementForAdBanner=void 0!==this.$element.attr("data-kopers-services-traffic-driver-adreplacement"),t&&this.isReplacementForAdBanner&&this.$element.removeAttr("hidden")}oc.initialize=function(){var e=!document.getElementById("krnomhVATBFQ");a()("[data-kopers-services-traffic-driver]").each((function(t,i){return new oc(i,e)})),a()(document).on("resultsUpdated",(function(){a()("[data-kopers-services-traffic-driver]").each((function(t,i){return new oc(i,e)}))}))},oc.initialize();var sc=function(e){return"".concat(e,"-traffic-driver-bar")},rc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h()(this,e),this._localStorageService=t.localStorageService||new _t,this._isLocalStorageSupported=this._localStorageService.isSupported(),this.options=t}return f()(e,[{key:"isEnabled",value:function(e){if(!this._isLocalStorageSupported)return!1;var t=this._localStorageService.getAsParsedJson("tealium_va_funda_funda")||{},i=t.audiences||{},n=t.badges||{},a=Object.keys(i).map((function(e){return i[e]})),o=Object.keys(n);return{audiences:a.indexOf(this.options.audiences)>-1,badges:o.indexOf(this.options.badges)>-1}[e]}},{key:"_saveValue",value:function(e){this._localStorageService.saveAsStringified(sc(this.options.id),e)}},{key:"_getValue",value:function(){return this._localStorageService.getAsParsedJson(sc(this.options.id))}},{key:"accept",value:function(){this._saveValue("accepted")}},{key:"decline",value:function(){this._saveValue("declined")}},{key:"dismiss",value:function(){this._saveValue("dismissed")}},{key:"isAccepted",value:function(){return"accepted"===this._getValue()}},{key:"isDeclined",value:function(){return"declined"===this._getValue()}},{key:"isDismissed",value:function(){return"dismissed"===this._getValue()}}]),e}(),lc=function(){function e(t,i){h()(this,e),this.$element=a()(t),this.$defaultContentElement=a()("[data-content-default]",this.$element),this.$acceptedContentElement=a()("[data-content-accepted]",this.$element),this.$declinedContentElement=a()("[data-content-declined]",this.$element),this.targetBadge=t.getAttribute("data-traffic-driver-bar-badge"),this.targetAudience=t.getAttribute("data-traffic-driver-bar-audience");var n={audiences:t.getAttribute("data-traffic-driver-bar-audience"),badges:t.getAttribute("data-traffic-driver-bar-badge"),id:t.getAttribute("data-traffic-driver-bar")};this.visibilityRepository=i||new rc(n),this.bindEvents(),this.targetType=this.targetAudience?"audiences":"badges";var o=this.visibilityRepository,s=o.isEnabled(this.targetType),r=o.isDismissed(),l=o.isDeclined(),c=o.isAccepted(),d=s&&!r&&!l&&!c;this.$element.toggleClass("is-hidden",!d)}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$element.on("click","[data-accept-button]",(function(t){t.target.getAttribute("href")?(e.visibilityRepository.accept(),e.$element.addClass("is-hidden")):(t.preventDefault(),e.visibilityRepository.accept(),e.layout())})),this.$element.on("click","[data-decline-button]",(function(t){t.preventDefault(),e.visibilityRepository.decline(),e.layout()})),this.$element.on("click","[data-dismiss-button]",(function(t){t.preventDefault(),e.visibilityRepository.dismiss(),e.$element.addClass("is-hidden")})),this.$element.on("click","[data-close-link]",(function(t){t.preventDefault(),e.visibilityRepository.dismiss(),e.$element.addClass("is-hidden")}))}},{key:"layout",value:function(){var e=this.visibilityRepository,t=e.isDeclined(),i=e.isAccepted();this.$defaultContentElement.toggleClass("is-hidden",i||t),this.$acceptedContentElement.toggleClass("is-hidden",!i),this.$declinedContentElement.toggleClass("is-hidden",!t)}}]),e}();a()("[data-traffic-driver-bar]").each((function(e,t){return new lc(t)}));var cc=a()(window),dc=function(){function e(t){h()(this,e),this.$element=a()(t),this.gtmEventLogger=wt,this.$component=this.$element[0],this.$showPhone=a()(t).find("[data-sticky-contact-phone-handle]"),this.$showPhoneNumber=a()(t).find("[data-sticky-contact-phone-number]"),this.$callButton=a()(t).find("[data-sticky-contact-call-button]"),this.$messageButton=a()(t).find("[data-sticky-contact-message-button]"),this.eventPrefix=this.$element.data("sticky-contact-buttons"),this.callButtonAction=this.eventPrefix+"-contact-sticky-call",this.messageButtonAction=this.eventPrefix+"-contact-sticky-message",this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;cc.on("scroll",(function(){var t=window.screen.availWidth<500,i=window.screen.availWidth<750;t?window.pageYOffset>48?e.$component.classList.add("is-visible"):e.$component.classList.remove("is-visible"):window.pageYOffset>342?e.$component.classList.add("is-visible"):e.$component.classList.remove("is-visible"),i&&(e.reachedFooterLinks()?e.$component.classList.remove("is-visible"):e.$component.classList.add("is-visible"))})),this.$callButton.on("click",(function(){e.gtmEventLogger.log({eventCategory:"interactions-contactaanvragen",eventAction:e.callButtonAction,eventLabel:e.callButtonAction})})),this.$messageButton.on("click",(function(){e.gtmEventLogger.log({eventCategory:"interactions-contactaanvragen",eventAction:e.messageButtonAction,eventLabel:e.messageButtonAction});var t=e.$messageButton.closest("[".concat("data-broker-id","]")).attr("data-broker-id");Zi("Contact Request Clicked",{lead_broker_id:t,navigation_trigger:"listing_sticky_header"})})),this.$showPhone.on("click",(function(){e.$showPhone.addClass("is-clicked"),e.$showPhoneNumber.addClass("is-clicked")}))}},{key:"reachedFooterLinks",value:function(){var e=document.body,t=document.documentElement,i=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);return Math.round(window.screen.height+window.pageYOffset)>=i-this.$component.offsetHeight}}]),e}();a()("[data-sticky-contact-buttons]").each((function(e,t){return new dc(t)}));var uc="[".concat("data-ub-in-page","]"),hc=!1,pc=function(){function e(t){h()(this,e),this.$element=a()(t),this.$feedbackLike=this.$element.find("[data-response-like]"),this.$feedbackDislike=this.$element.find("[data-response-dislike]"),this.$thankyou=this.$element.find("[data-thankyou]"),this.showEventName=this.$element.attr("data-show-event-name")||!1,this.gtmCategoryName=this.$element.attr("data-gtm-category"),this.gtmActionName=this.$element.attr("data-gtm-action"),this.localStorageKey=this.$element.attr("data-localstorage-key"),this.localStorage=new _t,this.shouldShowOnInit=this.$element.attr("data-feedback-show-init")||!1,this.bindEvents(),this.shouldShowOnInit&&this.show(),this.$element.find(uc).length>0&&this.loadInPageUsabillaScript()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$feedbackLike.click((function(){return e.handleFeedbackResponse("like",e.$feedbackLike)})),this.$feedbackDislike.click((function(){return e.handleFeedbackResponse("dislike",e.$feedbackDislike)})),this.showEventName&&a()(window).on(this.showEventName,(function(){return e.show()}))}},{key:"show",value:function(){this.storageExists()||this.$element.removeClass("fd-completely-hidden")}},{key:"hide",value:function(){var e=this;this.$element.hasClass("fd-completely-hidden")||(this.$element.one("animationend",(function(){return e.hideAnimationEndHandler()})),this.$element.addClass("is-hiding"))}},{key:"hideAnimationEndHandler",value:function(){this.$element.removeClass("is-hiding").addClass("fd-completely-hidden"),this.$element.off("animationend")}},{key:"handleFeedbackResponse",value:function(e,t){this.$element.children().addClass("fd-completely-hidden"),this.sendGtmEvent(e,this.gtmActionName),this.saveToStorage(e),this.showFollowUpFeedback(t)}},{key:"showFollowUpFeedback",value:function(e){var t=e.attr("data-ub-in-page")||!1;t&&this.showInPageFeedback(t);var i=e.attr("data-usabilla-key")||!1;i&&this.showModalFeedback(i),t||i||this.showThankYouMessage()}},{key:"showInPageFeedback",value:function(e){if("function"==typeof window.usabilla){var t=this;this.$element.find('[ub-in-page="'.concat(e,'"]')).removeClass("fd-completely-hidden"),window.usabilla("setEventCallback",(function(e,i){"in-page"===e&&"In-Page:Success"===i&&setTimeout((function(){return t.hide()}),3e3)}))}else this.showThankYouMessage()}},{key:"loadInPageUsabillaScript",value:function(){"function"==typeof window.usabilla||hc||(hc=!0,Is()(this.getUsabillaScriptUrl(),(function(){return hc=!1})))}},{key:"getUsabillaScriptUrl",value:function(){return(this.$element.attr("data-asset-base")||"")+"/assets/vendor-inpage-usabilla.js"}},{key:"showModalFeedback",value:function(e){this.showThankYouMessage(),"function"==typeof window.usabilla_live&&window.usabilla_live("trigger",e)}},{key:"showThankYouMessage",value:function(){var e=this;this.$element.children().addClass("fd-completely-hidden"),this.$thankyou.removeClass("fd-completely-hidden"),setTimeout((function(){return e.hide()}),3e3)}},{key:"sendGtmEvent",value:function(e,t){wt.log({eventCategory:this.gtmCategoryName,eventAction:t,eventLabel:e})}},{key:"saveToStorage",value:function(e){this.localStorage.saveAsStringified(this.localStorageKey,e)}},{key:"storageExists",value:function(){return void 0!==this.localStorage.getAsParsedJson(this.localStorageKey)}}]),e}();a()("[data-feedback]").each((function(e,t){return new pc(t)}));var fc=function(){function e(t){h()(this,e),this.$element=a()(t),this.$prices=this.$element.find("[".concat("data-price-key","]")),this.$numberOfSoldObject=this.$element.find("[data-sold-object]"),this.$carouselItems=this.$element.find("[data-carousel-items]"),this.neighbourhood=this.$element.find("[data-neighbourhood]").text().trim(),this.tryGetDataFromServer(),this.initCarousel()}var t,i;return f()(e,[{key:"initCarousel",value:function(){var e=this;this.$carouselItems.slick({mobileFirst:!0,arrows:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,speed:250,touchThreshold:12,dots:!0,centerMode:!0,centerPadding:"16px",responsive:[{breakpoint:760,settings:"unslick"},{breakpoint:500,settings:{slidesToShow:2,slidesToScroll:2,centerMode:!1}}]}),this.$carouselItems.on("afterChange",(function(t,i){var n=a()(i.$slides[e.$carouselItems.slick("slickCurrentSlide")]).find("[".concat("data-carousel-label","]:not(.").concat("fd-completely-hidden",") ")).attr("data-carousel-label");wt.log({eventCategory:"interactions-bidding",eventAction:"object-detail-marktinzichten-swipe",eventLabel:n,nonInteraction:!1})}))}},{key:"tryGetDataFromServer",value:(i=ti()(Xt.a.mark((function e(){return Xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getData();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:this.$element.removeClass("fd-completely-hidden"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return i.apply(this,arguments)})},{key:"getData",value:(t=ti()(Xt.a.mark((function e(){var t;return Xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.ajax({url:this.$element.attr("data-endpoint-url"),dataType:"json"});case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",!1);case 5:return this.displayData(t),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"displayData",value:function(e){this.$prices.each((function(t,i){var n=a()(i).attr("data-price-key");e[n]?a()(i).html(e[n]):a()(i).parents("[".concat("data-available-content","]")).addClass("fd-completely-hidden").parent().find("[".concat("data-notavailable-content","]")).removeClass("fd-completely-hidden")})),this.$numberOfSoldObject.html(e.NumberOfSoldProperties)}}]),e}();a()("[data-object-market-insight]").each((function(e,t){return new fc(t)}));var mc="[".concat("data-page-viewed","]"),vc=function e(t){h()(this,e);var i=t.getAttribute("data-page-viewed");i?Zi(i):St.log("Page viewed event is empty",{function:"PageViewedEvent"},"warn")};a()(mc).each((function(e,t){return new vc(t)}));var gc="[".concat("data-modal","]"),yc=a()("body"),bc=a()(window),wc=new Ai,kc=function(){function e(t){h()(this,e),this.$element=a()(t),this.$closeModalTrigger=this.$element.find("[data-modal-close]"),this.lastClickedElement=null;var i=this.$element.attr("data-modal")||"";this.$openModalTrigger=""!==i?a()("[".concat("data-modal-open",'="').concat(i,'"]')):a()("[".concat("data-modal-open","]"));var n=void 0!==this.$element.attr("data-disable-close-outside");this.bindEvents(n)}return f()(e,[{key:"bindEvents",value:function(e){var t=this;this.$openModalTrigger.click((function(){return t.open()})),this.$closeModalTrigger.click((function(){return t.close()})),yc.on("keydown",(function(e){return t.keyDownHandler(e.keyCode)})),wc.listen((function(e,i){i!==t.$element.attr("data-modal")&&t.close()})),0==e&&(yc.on("mousedown",(function(e){return t.mouseDownHandler(e.which,e.target)})),yc.on("mouseup",(function(e){return t.mouseUpHandler(e.which,e.target)})))}},{key:"open",value:function(){this.isOpened()||(wc.notify("modalopened",this.$element.attr("data-modal")),this.$element.addClass("fd-modal--open"),this.disableBodyScroll())}},{key:"close",value:function(){this.$element.removeClass("fd-modal--open"),this.enableBodyScrolling()}},{key:"keyDownHandler",value:function(e){27===e&&this.close()}},{key:"isOpened",value:function(){return this.$element.hasClass("fd-modal--open")}},{key:"disableBodyScroll",value:function(){var e=bc.scrollTop();yc.css("top",-1*e),yc.addClass("has-open-modal"),this.savedScrollPosition=e}},{key:"enableBodyScrolling",value:function(){yc.css("top",""),yc.removeClass("has-open-modal"),bc.scrollTop(this.savedScrollPosition)}},{key:"mouseDownHandler",value:function(e,t){this.isLeftMouseClicked(e)&&(this.lastClickedElement=t)}},{key:"mouseUpHandler",value:function(e,t){0!=this.isLeftMouseClicked(e)&&null!=this.lastClickedElement&&0!=a()(t).is(this.lastClickedElement)&&(this.handleClickOnBackdrop(t),this.lastClickedElement=null)}},{key:"isLeftMouseClicked",value:function(e){return 1==e}},{key:"handleClickOnBackdrop",value:function(e){this.$element.is(e)&&this.close()}}]),e}();a()(gc).each((function(e,t){return new kc(t)}));document.querySelector(".object-detail-print")&&(window.onload=function(){setTimeout((function(){return window.print()}),1e3)});function $c(e){this.config={},this.$element=a()(e),this.$errorMessage=a()("[data-meld-een-fout-error-message]"),this.$form=a()("[data-object-meld-een-fout-form-form]"),this.$inputs=a()("[data-meld-een-fout-input]"),this.$inputsSubquestion=a()("[data-meld-een-fout-input-subquestion]"),this.$subquestions=a()("[data-meld-een-fout-subquestions]"),this.$textAreaMessage=a()('[data-meld-een-fout-input-message="textarea"]'),this.$textAreaMessageLabel=a()('[data-meld-een-fout-textarea-label="Foutmelding"]'),this.$textAreaSubquestion=a()('[data-meld-een-fout-input-subquestion="textarea"]'),this.$textAreaSubquestionLabel=a()('[data-meld-een-fout-textarea-label="FoutieveInformatie"]'),this.$element.find("[data-object-meld-een-fout-config]").length>0&&(this.config=JSON.parse(this.$element.find("[data-object-meld-een-fout-config]").text())),this.$form.attr("novalidate",!0),this.attachEventListeners(),this.setFormState()}function Cc(e){var t=a()(e).get(0);"radio"===t.type&&a()(e).prop("checked",!1),"textarea"===t.type&&a()(e).val(null)}function Sc(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((function(e){e.each((function(e,t){Cc(t),a()(t).addClass("is-hidden")}))}))}function Tc(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((function(e){e.each((function(e,t){a()(t).removeClass("is-hidden")}))}))}function Ec(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((function(e){e.each((function(e,t){a()(t).addClass("input-validation-error")}))}))}function Oc(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((function(e){e.each((function(e,t){a()(t).removeClass("input-validation-error")}))}))}$c.prototype.attachEventListeners=function(){var e=this;e.$inputs.on("change",(function(){return e.onChangeHandler()})),e.$form.on("submit",(function(t){return e.onSubmitHandler(t)}))},$c.prototype.getFormState=function(){var e=this.$form.serialize().split("&").map((function(e){return e.split("=")})).map((function(e){var t={};return t[e[0]]=e[1],t})).reduce((function(e,t){return b()(e,t)}));return{isOtherMessage:!(e.Foutmelding!==this.config.foutmeldingOtherRadioValue),isOtherWrongInfo:!(e.FoutieveInformatie!==this.config.foutieveInformatieOtherRadioValue),isWrongInfo:!(e.Foutmelding!==this.config.foutmeldingWrongInfoRadioValue),messageOtherText:!!e.FoutmeldingText,messageSet:!!e.Foutmelding,wrongInfoOptionSet:!!e.FoutieveInformatie,wrongInfoOtherText:!!e.FoutieveInformatieText}},$c.prototype.onChangeHandler=function(){this.setFormState(),Sc(this.$errorMessage),Oc(this.$textAreaMessageLabel,this.$textAreaSubquestionLabel)},$c.prototype.onSubmitHandler=function(e){this.validateForm()||e.preventDefault()},$c.prototype.setFormState=function(){var e=this.getFormState(),t=this.$textAreaMessageLabel,i=this.$inputsSubquestion,n=this.$subquestions;e.isOtherMessage?Tc(t):Sc(t),e.isWrongInfo?Tc(n,i):Sc(i,n)},$c.prototype.validateForm=function(){var e=this.getFormState();return e.messageSet?e.isWrongInfo&&!e.wrongInfoOptionSet?(Tc(this.$errorMessage),!1):e.isWrongInfo&&e.wrongInfoOptionSet&&e.isOtherWrongInfo&&!e.wrongInfoOtherText?(Ec(this.$textAreaSubquestion),Tc(this.$errorMessage),!1):e.isOtherMessage&&!e.messageOtherText?(Tc(this.$errorMessage),Ec(this.$textAreaMessage),!1):(Sc(this.$errorMessage),Oc(this.$textAreaMessage,this.$textAreaSubquestion),!0):(Tc(this.$errorMessage),!1)},a()("[data-object-meld-een-fout-form]").each((function(e,t){return new $c(t)}));i(394);function xc(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return _c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _c(e,t)}(e))){var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Ic="AanwezigheidVan:tuin",Pc=function(){function e(t){h()(this,e);this.$element=a()(t),this.$elementItems=this.$element.find("li.filter-flyout-option-label"),this.$checkboxes=this.$element.find("[data-filter-checkbox-item]"),this.appliedFilters=Ei,this.flyoutOptions=this.$element.find("[data-checkbox-more-options]"),this.bindEvents(),this.initialCheckState()}return f()(e,[{key:"initialCheckState",value:function(){for(var e=this.$checkboxes.filter(":checked"),t=0;t<e.length;t++)e[t].click()}},{key:"bindEvents",value:function(){var e=this,t=this;t.$elementItems.on("click",t.$checkboxes,(function(t){e.checkboxClick(t)})),t.$element.on("resetfilter",(function(){t.resetAppliedFilters()}))}},{key:"checkboxClick",value:function(e){e.preventDefault();e.currentTarget.firstElementChild.checked=!e.currentTarget.firstElementChild.checked,this.updateAppliedFilters(e),this.$element.trigger("change")}},{key:"resetAppliedFilters",value:function(){var e=this.$checkboxes.filter(":checked");e.prop("checked",!1);var t,i=xc(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;this.appliedFilters.remove(n.value)}}catch(e){i.e(e)}finally{i.f()}}},{key:"removeSelectedCheckBox",value:function(e){e.checked=!1,this.appliedFilters.remove(e.value),a()("[data-instant-search]").trigger("range_filter_removed"),e.value===Ic&&(this.showMoreOptions(!1),this.$element.trigger("deselect-filter-item"))}},{key:"updateAppliedFilters",value:function(e){var t=this,i=e.currentTarget.firstElementChild,n={filterGroupId:i.value,filterGroupName:i.value,filterName:i.value,labelText:e.currentTarget.getElementsByTagName("label")[0].textContent};e.currentTarget.firstElementChild.checked?this.appliedFilters.add(n,(function(){t.removeSelectedCheckBox(e.currentTarget.firstElementChild)}),!0):(this.appliedFilters.remove(i.value),i.value===Ic&&this.$element.trigger("deselect-filter-item")),i.value===Ic&&this.showMoreOptions(i.checked)}},{key:"showMoreOptions",value:function(e){this.flyoutOptions.toggleClass("is-hidden",!e)}}]),e}();a()("[data-search-filter-checkbox]").each((function(e,t){return new Pc(t)}));var Lc=function(){function e(t){h()(this,e);this.$element=a()(t),this.content=this.$element.find(".info-message").html(),this.$triggerElement=a()(this.$element.attr("sidebar-info-trigger")),this.$floater=this.makeFloatingInfo(),this.isVisible=!1,this.bindEvents()}return f()(e,[{key:"makeFloatingInfo",value:function(){if(0!==this.$triggerElement.length){var e=a()('<div class="'.concat("info-message-floating"," ").concat("is-hidden",'">').concat(this.content,"</div>"));return this.$triggerElement.append(e),this.$triggerElement.css({position:"relative"}),e}}},{key:"bindEvents",value:function(){var e=this;a()(window).on("click",(function(){e.toggleInfo(!1)})),e.$triggerElement.on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.toggleInfo()}))}},{key:"toggleInfo",value:function(e){(void 0===e?!this.isVisible:e)?(this.$element.removeClass("is-hidden"),this.$floater.removeClass("is-hidden"),this.isVisible=!0):(this.$element.addClass("is-hidden"),this.$floater.addClass("is-hidden"),this.isVisible=!1)}}]),e}();a()("[data-sidebar-info]").each((function(e,t){return new Lc(t)}));var Ac=function(){function e(t){h()(this,e);var i=this;i.$element=a()(t),i.$closeButton=i.$element.find("[data-permanent-redirect-notification-close-button]"),i.$closeButton.on("click",(function(e){return i.dismissMessage(e)}))}return f()(e,[{key:"dismissMessage",value:function(e){e.preventDefault(),this.$element.addClass("is-hidden")}}]),e}();a()("[data-permanent-redirect-notification]").each((function(e,t){return new Ac(t)}));var jc={dag:"daily",week:"weekly",maand:"monthly",geen:"disable"},Dc=function(){function e(t,i){var n=this;h()(this,e);var o=this;this.nafChecked=!0,o.$body=i,o.element=t,o.$element=a()(t),o.saveSearchForm=o.$element,o.saveSearchId=t.getAttribute("data-save-search")||!1,o.$saveSearchHandle=o.$body.find("[data-save-search-handle]"),o.vuexStore=Si,o.$container=o.$body.find('[data-save-search-container="'+o.saveSearchId+'"]'),o.loginDialogElement=document.querySelector('[data-dialog="user-form"]'),o.authenticationRedux=new ka,o.$body.on("click","[data-save-search-handle]",(function(e){e.preventDefault(),n.onClickSaveSearchButtonShowDialog(e.currentTarget)})),o.vuexStore.subscribe((function(e){"updateFilter"===e.type&&"onbeschikbaar"===e.payload.value?(a()(".search-main").addClass("historic"),a()(".search-sidebar .save-search-button").addClass("is-hidden")):"removeFilter"===e.type&&(a()(".search-main").removeClass("historic"),a()(".search-sidebar .save-search-button").removeClass("is-hidden"))})),o.$body.on("change","[data-user-checkbox-frequency]",(function(e){var t=e.target.checked;n.disableFrequencyDropdow(t)})),o.$element.on("click","[data-save-search-submit-button]",(function(e){e.preventDefault(),o.submitForm()})),o.$body.on("click",'[data-dialog="save-search-form"] [data-save-search-submit-button]',(function(e){e.preventDefault(),o.submitForm()})),o.$body.on("click","[data-save-search-cancel-button]",(function(){o.dialog.close()})),this.toggleSaveSearchDialogIfRequested()}var t,i,n;return f()(e,[{key:"disableFrequencyDropdow",value:function(e){var t=this.$body.find("[data-user-email-frequency]");e?(t.removeAttr("disabled"),this.nafChecked=!0):(t.attr("disabled",!0),this.nafChecked=!1)}},{key:"onClickSaveSearchButtonShowDialog",value:function(e){var t=this;if(this.isIdentityServerLoginEnabled()&&!this.isUserLoggedIn())window.location.href=this.getLoginUrl();else{var i=a()(e).attr("data-save-search-dialog-endpoint");this.dialog=this.findDialogInstance(),this.dialog.open(),this.dialog.getContent(i,"html").then((function(){var e=t.dialog.$element.find("[data-user-checkbox-frequency]")[0].checked;t.disableFrequencyDropdow(e)})),this.saveSearchForm=this.dialog.$element}}},{key:"findDialogInstance",value:function(){return document.querySelector('[data-dialog="save-search-form"]').dialog}},{key:"submitForm",value:(n=ti()(Xt.a.mark((function e(){var t,i;return Xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.authenticationRedux.authentication.getUserAuthenticationInfo();case 3:if(!(t=e.sent).isLoggedIn){e.next=8;break}this.saveSearch(),e.next=14;break;case 8:return e.next=10,this.authenticationRedux.openLoginDialog(t.loginUrl);case 10:return e.next=12,this.getNewAntiForgeryToken();case 12:i=e.sent,this.setAntiforgeryToken(i);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),St.log(e.t0,{function:"submitForm"});case 19:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(){return n.apply(this,arguments)})},{key:"setAntiforgeryToken",value:function(e){this.getAntiForgeryTokenInput().attr("value",e)}},{key:"getAntiForgeryTokenInput",value:function(){return this.saveSearchForm.find('input[name="__RequestVerificationToken"]')}},{key:"getNewAntiForgeryToken",value:(i=ti()(Xt.a.mark((function e(){var t;return Xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.ajax({url:"/mijn/savedsearch/refreshtoken/",dataType:"html"});case 3:return t=e.sent,e.abrupt("return",a()(t).attr("value"));case 7:e.prev=7,e.t0=e.catch(0),St.log(e.t0,{function:"getNewAntiForgeryToken"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return i.apply(this,arguments)})},{key:"logDataOnAnalytics",value:function(){var e=this.$body.find("[data-user-email-frequency]")[0].value.toLowerCase(),t=jc[e];!1===this.nafChecked&&(t="disable"),wt.log({eventCategory:"interactions-mijnprofiel",eventAction:"save-NAF-notifications-frequency",eventLabel:t})}},{key:"saveSearch",value:(t=ti()(Xt.a.mark((function e(){var t,i;return Xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$saveSearchHandle.attr("data-save-search-url"),this.$element.find(":input").serialize(),t=t.replace("/kaart",""),i=a()('[data-dialog="save-search-form"]').find(":input").serialize(),this.logDataOnAnalytics(),e.prev=5,e.next=8,a.a.ajax({method:"POST",url:t,data:i});case 8:a()("[data-save-search-tooltip]").addClass("is-hidden"),this.toggleSavedSearchNotification(!0,".notification-success"),this.toggleSavedSearchNotification(!1,".notification-error"),this.dialog.close(),e.next=22;break;case 15:e.prev=15,e.t0=e.catch(5),this.toggleSavedSearchNotification(!0,".notification-error"),this.toggleSavedSearchNotification(!1,".notification-success"),this.dialog.close(),St.log(e.t0,{function:"saveSearch"});case 22:this.scrollToTop();case 23:case"end":return e.stop()}}),e,this,[[5,15]])}))),function(){return t.apply(this,arguments)})},{key:"scrollToTop",value:function(){this.$body.find(".search-sidebar")[0].scrollTo(0,0),window.scrollTo(0,0)}},{key:"toggleSavedSearchNotification",value:function(e,t){a()("[data-save-search-notification]").find(t).toggleClass("is-hidden",!e)}},{key:"toggleSaveSearchDialogIfRequested",value:function(){this.shouldTriggerSaveSearchDialog()&&(this.clearTriggerSaveSearchDialogQueryStringParameter(),this.onClickSaveSearchButtonShowDialog(this.$saveSearchHandle))}},{key:"isIdentityServerLoginEnabled",value:function(){return"true"===this.$saveSearchHandle.attr("data-is-identity-server-login")}},{key:"isUserLoggedIn",value:function(){return"true"===this.$saveSearchHandle.attr("data-is-user-logged-in")}},{key:"getLoginUrl",value:function(){var e=this.$saveSearchHandle.attr("data-login-url");return e.substr(0,e.indexOf("?"))+("?ReturnUrl="+window.location.pathname+"?trigger-save-search-dialog=true")}},{key:"shouldTriggerSaveSearchDialog",value:function(){return"true"===this.$saveSearchHandle.attr("data-should-trigger-save-button-dialog")}},{key:"clearTriggerSaveSearchDialogQueryStringParameter",value:function(){var e=window.location.href,t=e.substr(0,e.indexOf("?"));window.history.replaceState({},document.title,t)}}]),e}();a()("[data-save-search]").each((function(e,t){var i=a()("body");return new Dc(t,i)}));var Mc="save-search-tooltip",Rc="closed",Fc=function(){function e(t){h()(this,e),this.element=t,this.$element=a()(t),this.$closeElement=this.$element.find("[data-save-search-tooltip-close]"),this.localStorage=new _t,this.toggleTooltip(),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$closeElement.on("click",(function(){return e.handleHide()}))}},{key:"handleHide",value:function(){this.localStorage.saveAsStringified(Mc,Rc),this.toggleTooltip(),this.logAnalytics()}},{key:"toggleTooltip",value:function(){this.storageExists()?a()("[data-save-search-tooltip]").addClass("is-hidden"):a()("[data-save-search-tooltip]").removeClass("is-hidden")}},{key:"logAnalytics",value:function(){wt.log({eventCategory:"interactions-searchresults",eventAction:"click-saved-search-tooltip",eventLabel:"save-search-tooltip"})}},{key:"storageExists",value:function(){return void 0!==this.localStorage.getAsParsedJson(Mc)}}]),e}();a()("[data-save-search-tooltip]").each((function(e,t){return new Fc(t)}));function Vc(e){this.element=e,this.$element=a()(this.element),this.noResults=new Sn(this.element,.4),this.updateState()}Vc.prototype.updateState=function(){this.noResults.updateVerticalPosition(),this.$element.removeClass("search-no-results-warning").addClass("search-no-results-warning")},Vc.enhance=function(){var e=a()("[data-search-no-results]")[0];if(void 0!==e)return new Vc(e)},a()(document).on("resultsUpdated",Vc.enhance),Vc.enhance();var Hc=".".concat("input-validation-error");function Nc(e){this.$element=a()(e),this.$errorInputs=this.$element.find(Hc),this.bindEvents(),this.scrollToFirstError()}Nc.prototype.scrollToFirstError=function(){this.$errorInputs.length&&this.$errorInputs[0].scrollIntoView()},Nc.prototype.bindEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,i=function(e){return t.errorHandler(e)};e&&(t.$errorInputs.off("keypress click",i),t.$errorInputs=t.$element.find(Hc)),t.$errorInputs.on("keypress click",i)},Nc.prototype.errorHandler=function(e){var t=a()(e.target),i=Nc.findExpanding(t,Hc);Nc.findExpanding(i,".form-message--error").remove(),i.removeClass("input-validation-error"),this.bindEvents(!0)},Nc.findExpanding=function(e,t){var i=e.find(t).addBack(t);if(i.length)return i;var n=e.parent();return n.length?Nc.findExpanding(n,t):n},a()("[data-form-validation]").each((function(e,t){return new Nc(t)}));function Bc(e){this.$element=a()(e),this.bindEvents()}Bc.prototype.bindEvents=function(){var e=this;e.$element.click((function(t){return e.goToElement(t)}))},Bc.prototype.goToElement=function(e){e.preventDefault(),a()("html, body").animate({scrollTop:a()(this.$element.attr("href")).offset().top},600)},a()("[data-goto]").each((function(e,t){return new Bc(t)}));function zc(e){this.$element=a()(e),a()("[data-login-submit-form]").submit(this.disableAfterAction)}zc.prototype.disableAfterAction=function(){a()(this).find("[data-login-submit-button]").prop("disabled",!0)},a()("[data-user-login]").each((function(e,t){return new zc(t)}));function Uc(e){var t=this;t.$element=a()(e),t.$openTrigger=t.$element.find("[data-dialog-open]"),t.$closeTrigger=t.$element.find("[data-dialog-close]"),t.$openTrigger.on("click",(function(e){return t.open(e)})),t.$closeTrigger.on("click",(function(e){return t.close(e)}))}Uc.prototype.open=function(e){"object"===Jt()(e)&&"function"==typeof e.preventDefault&&e.preventDefault(),this.$element.addClass("show")},Uc.prototype.close=function(e){"object"===Jt()(e)&&"function"==typeof e.preventDefault&&e.preventDefault(),this.$element.removeClass("show")},a()("[data-dialog-simple]").each((function(e,t){return new Uc(t)}));var qc=Gc;function Gc(e,t){var i=this;this.$element=a()(e);var n=i.$element.find("[data-my-house-tooltip-template]").html().trim(),o=i.$element.find("[data-my-house-tooltip-product-template]").html().trim(),s=a()(window).width(),r=i.$element.attr("data-date-translations-month-format");i.componentLoaded=!1,i.assetBaseUrl=i.$element.attr("data-graph-asset-base"),i.setSpecificOptions=null,i.spinner=new En("[data-graph-spinner]"),i.seperator=i.$element.attr("data-thousand-separator");var l={chart:{renderTo:"graph-container",spacing:[10,0,10,0],type:"area",animation:{duration:300},height:330,backgroundColor:"transparent",style:{fontFamily:'"Proxima Nova",sans-serif'}},credits:{enabled:!1},lang:{thousandsSep:this.seperator,decimalPoint:","},legend:{enabled:!1},loading:{hideDuration:500,showDuration:500},plotOptions:{area:{animation:!1,fillColor:"transparent",lineWidth:2.5,marker:{fillColor:"#FFFFFF",lineColor:"#3888C5",lineWidth:2,radius:3,states:{hover:{enabled:!1}}},trackByArea:!0},allowPointSelect:!1,series:{turboThreshold:5e3,states:{hover:{enabled:!1}}}},series:[{data:[],id:"YourObject",lineWidth:3,color:"#3888C5",marker:{lineWidth:2,radius:3},name:"YourObject",zIndex:3},{data:[],id:"flags",linkedTo:":previous",lineWidth:0,marker:{enabled:!1},name:null,onSeries:"line"},{data:[],id:"Products",linkedTo:":previous",lineWidth:0,marker:{enabled:!1},color:"#3888C5",name:"Products",onSeries:"line"}],title:{text:""},tooltip:{shadow:!1,shared:!0,useHTML:!0,crosshairs:{color:"#A4DBFF",dashStyle:"solid"},followPointer:!0,formatter:function(){if(!i.isLoading)return i.renderTooltip({tooltip:n,product:o},this)},hideDelay:0,positioner:function(e,t,n){var o,s=a()("div.highcharts-tooltip"),r=s.width()/2,l=s.height();return n.plotX+r>i.chart.plotWidth?(o=n.plotX+i.chart.plotLeft-130,s.addClass("align-right")):n.plotX<r?(o=n.plotX+i.chart.plotLeft-20,s.addClass("align-left")):(o=n.plotX+i.chart.plotLeft-75,s.removeClass("align-right"),s.removeClass("align-left")),{x:o,y:n.plotY+i.chart.plotTop-(l+20)}},style:{padding:0}},xAxis:{dateTimeLabelFormats:{day:r,week:r,month:"%B"},name:"Datum",labels:{autoRotation:[-45],autoRotationLimit:120,align:"center",style:{color:"#999"}},lineColor:"#D7E2E5",lineWidth:1,minPadding:0,maxPadding:0,tickColor:"transparent"},yAxis:{gridLineColor:"#D7E2E5",gridLineWidth:1,labels:{formatter:function(){return Highcharts.numberFormat(this.value,0,"",i.seperator)},style:{color:"#999"}},lineColor:"#D7E2E5",lineWidth:1,min:0,title:{style:{color:"#999"},x:-6}}};i.overrideComponentOptions(t),Is()(i.getLibraryUrl(),(function(e){void 0!==e&&(i.translateDates(),Highcharts.setOptions({global:{useUTC:!1}}),i.chart=new Highcharts.Chart(l),Gc.redrawBasedOnViewport(i.chart,s),i.componentLoaded=!0)})),a()(window).on("resize",Vi()((function(){var e=a()(window).width();Gc.redrawBasedOnViewport(i.chart,e)}),100))}Gc.prototype.overrideComponentOptions=function(e){this.assetBaseUrl=e.assetBaseUrl||this.assetBaseUrl,this.setSpecificOptions=e.setSpecificOptions||this.setSpecificOptions},Gc.prototype.translateDates=function(){var e=this,t={},i=function(i){var n=e.$element.attr(i.selector);n&&(Gc[i.property]=t[i.property]=n.split(","))};i({property:"months",selector:"data-date-translations-months"}),i({property:"shortMonths",selector:"data-date-translations-shortmonths"}),i({property:"weekdays",selector:"data-date-translations-weekdays"}),Gc.dateFormat=e.$element.attr("data-date-translations-date-format"),Highcharts.setOptions({lang:t})},Gc.prototype.getLibraryUrl=function(){return void 0!==this.assetBaseUrl&&""!==this.assetBaseUrl?this.assetBaseUrl+"/assets/vendor-highcharts.js":"/assets/vendor-highcharts.js"},Gc.prototype.processData=function(){this.setLoading(!0),null!==this.setSpecificOptions&&Dn()(this.setSpecificOptions)&&this.setSpecificOptions(this.data,this.chart),Gc.highlightWeekends(this.chart,this.data.weekends),Gc.populateChart(this.chart,this.data),Gc.plotFlagLine(this.chart),this.setLoading(!1)},Gc.prototype.setLoading=function(e){var t=this.$element.find("[data-my-house-graph-spinner-template]").html().trim();this.isLoading!=e&&(this.isLoading=e,this.isLoading?(this.chart.showLoading(t),this.spinner.show()):(this.chart.hideLoading(),this.spinner.hide()))},Gc.redrawBasedOnViewport=function(e,t){t<500?(e.xAxis[0].update({labels:{y:30}},!1),e.yAxis[0].update({showLastLabel:!1,labels:{align:"left",x:5,y:-10}},!1)):(e.xAxis[0].update({labels:{y:20}},!1),e.yAxis[0].update({showLastLabel:!0,labels:{align:"right",x:-8,y:3}},!1)),e.redraw(),e.reflow()},Gc.plotFlagLine=function(e){e.xAxis[0].removePlotLine("flags"),e.series.filter((function(e){return"products"!==e.options.name})).filter((function(e){return"flags"===e.options.id})).reduce((function(e,t){return t.data}),[]).forEach((function(t){return Gc.plotFlagPoint(t,e)}))},Gc.plotFlagPoint=function(e,t){t.xAxis[0].addPlotLine({value:e.x,width:1,color:"#00AAE6",id:"flags",zIndex:1})},Gc.highlightWeekends=function(e,t){t.forEach((function(t){var i=t.Date;e.xAxis[0].addPlotBand({from:i-432e5,to:i+432e5,color:"rgba(245, 245, 245, 0.7)",zIndex:1})}))},Gc.prototype.renderTooltip=function(e,t){var i=new RegExp("{title}","g"),n=a()("[data-graph]").attr("data-translations-day-label"),o=t.x.toString().length>2?Gc.formatDate(new Date(t.x)):n.replace("{value}",t.x),s=t.points.filter((function(e){return"YourObject"===e.series.name}))[0],r=t.points.filter((function(e){return"Products"===e.series.name}))[0],l=e.tooltip.replace(i,o).replace("{seriesColor}",s.color).replace("{value}",jt.format(s.y,this.seperator)),c=a()(l);if(r){var d=Gc.renderProductTitles(e.product,r.point.title);c.find("[data-my-house-tooltip-products]").append(d)}a()("div.highcharts-tooltip").empty().append(c)},Gc.renderProductTitles=function(e,t){var i=new RegExp("{flagName}","g");return t.map((function(t){return e.replace(i,t)})).join("")},Gc.populateChart=function(e,t){delete t.weekends,Object.keys(t).forEach((function(i,n){return e.series[n].setData(t[i],!0,!0,!1)}))},Gc.formatDate=function(e){return Highcharts.dateFormat(Gc.dateFormat,e)};i(395);var Wc="[data-".concat("async-text-validate","]"),Zc=Kc;function Kc(e){this.$element=a()(e),this.url=this.$element.data("async-text-validate"),this.$textarea=this.$element.find("[data-async-text-textarea]"),this.$divUnderlines=this.$element.find("[data-async-text-underlines]"),this.$validCheckIcon=this.$element.find("[data-async-text-valid-container]"),this.$errorMessages=this.$element.find("[data-async-text-error-messages-container]"),this.handleInitialErrors(),this.bindEvents()}Kc.prototype.bindEvents=function(){var e=this;e.$textarea.on("blur",(function(){return e.validate()})),e.$divUnderlines.on("mousedown",(function(t){return e.restoreTextArea(t)}))},Kc.prototype.handleInitialErrors=function(){var e=this.$element.find("[data-async-text-invalid]");if(e.length>0){var t=JSON.parse(e.html());this.responseHandler(t)}},Kc.prototype.validate=function(){var e=this,t={url:e.url,data:{Explanation:e.$textarea.val()}};a.a.post(t).then((function(t){return e.responseHandler(t)}))},Kc.prototype.responseHandler=function(e){Array.isArray(e.invalidWords)&&e.invalidWords.length>0||Array.isArray(e.errorMessages)&&e.errorMessages.length>0?(this.showUnderlinedWords(e.invalidWords),this.showErrorMessages(e.errorMessages)):this.$validCheckIcon.removeClass("is-hidden")},Kc.prototype.showUnderlinedWords=function(e){var t=Zc.adaptMessage(e);if(Array.isArray(t)&&t.length>0){for(var i='<span class="highlight">',n=this.$textarea.val().trim(),a=0,o=0;o<t.length;o++){var s=a+t[o].StartPos,r=a+t[o].EndPos,l=n.substring(0,s),c=n.substring(s,r),d=n.substring(r);n=l+i+c+"</span>"+d,a+=i.length+"</span>".length}this.$textarea.addClass("is-hidden"),this.$divUnderlines.html(n),this.$divUnderlines.removeClass("is-hidden"),this.$divUnderlines.addClass("input-validation-error"),this.$validCheckIcon.addClass("is-hidden")}},Kc.adaptMessage=function(e){var t=[];if(!Array.isArray(e)||0===e.length)return t;e.sort((function(e,t){return e.StartPos-t.StartPos}));for(var i=0;i<e.length;i++)e[i].EndPos=e[i].StartPos+e[i].Word.length;t.push(e[0]);for(var n=1;n<e.length;n++){var a=t.pop(),o=e[n];o.StartPos<=a.EndPos?t.push({StartPos:a.StartPos,EndPos:Math.max(a.EndPos,o.EndPos)}):(t.push(a),t.push(o))}return t},Kc.prototype.showErrorMessages=function(e){Array.isArray(e)&&e.length>0&&(this.$errorMessages.html(e.join("<br/>")),this.$errorMessages.removeClass("is-hidden"))},Kc.prototype.restoreTextArea=function(e){"object"===Jt()(e)&&"function"==typeof e.preventDefault&&(e.preventDefault(),e.stopPropagation()),this.$divUnderlines.addClass("is-hidden"),this.$errorMessages.addClass("is-hidden"),this.$textarea.removeClass("is-hidden"),this.$textarea.focus()},a()(Wc).each((function(e,t){return new Kc(t)}));i(396);var Yc=Jc;function Jc(e){var t=this;t.$element=a()(e),t.Cookies=kt,t.$selectGraphDataForm=t.$element.find("[data-my-house-datasource-form]"),t.dataObservers=[],t.requestUrl=t.$element.attr("data-datasource-request-url"),t.issuedJwt=t.$element.attr("data-datasource-jwt"),t.globalId=t.$element.attr("data-datasource-globalid"),t.trailingSlash=t.$element[0].hasAttribute("data-datasource-remove-slash"),t.selectedPeriod=null;var i=t.getValidPeriodCookie();i&&t.$element.find("select").val(i),t.$selectGraphDataForm.on("change",(function(){a()(".graph-no-data").remove(),t.selectedInputChanged(t.$selectGraphDataForm)})),a()(document).ready((function(){return t.loadData()}))}Jc.instance=null,Jc.prototype.loadData=function(){var e=this,t=!0;e.foreachObservers((function(e){return function(){e.isLoaded.apply(this)||(t=!1)}})),t?e.requestPeriodsForDropdown().then((function(){return e.selectedInputChanged(e.$selectGraphDataForm)})):setTimeout(e.loadData.bind(e),100)},Jc.prototype.selectedInputChanged=function(e){this.setCookie(e),this.requestStatisticsData()},Jc.prototype.setCookie=function(e){var t=a()(e);this.selectedPeriod=t.find(":selected"),this.selectedType=t.find(":checked").val(),this.Cookies.setCookie("mijn_PreferredStatsPeriod",this.selectedPeriod.val())},Jc.prototype.requestPeriodsForDropdown=function(){var e=this,t=e.createDropdownRequestUrl(e.requestUrl,e.globalId,e.trailingSlash);return e.foreachObservers((function(e){return e.onDataLoading})),a.a.ajax({url:t,headers:{Authorization:"Bearer "+e.issuedJwt},xhrFields:{withCredentials:!0},dataType:"json",success:function(t){Jc.isSuccesfulResponse(t)?e.createOptionsForDropdown(t):e.onFail(t)},error:function(t){e.onFail(t)},complete:function(t){Jc.isTokenExpired(t)&&e.refreshToken(e.requestPeriodsForDropdown)}})},Jc.prototype.onFail=function(e){this.foreachObservers((function(e){return e.onDataLoadError}),e)},Jc.prototype.createOptionsForDropdown=function(e){var t=this,i=a()("[data-my-house-datasource-dropdown]");Object.keys(e).forEach((function(n){var o=i.find("[value='"+e[n].Label+"']");o.length||(o=a()("<option></option>").text(e[n].Label),i.find("option").eq(n).before(o)),o=o.data("dateFrom",e[n].DateFrom).data("dateTo",e[n].DateTo).data("format",e[n].Format).data("interval",e[n].Interval),!t.getValidPeriodCookie()&&e[n].IsSelected&&o.attr("selected",1)})),i.find("option").each((function(e,t){a()(t).data("dateFrom")||a()(t).remove()}))},Jc.prototype.requestStatisticsData=function(){var e=this,t=e.createStatisticsRequestUrl(e.requestUrl,e.selectedType,e.globalId,e.trailingSlash);return e.foreachObservers((function(e){return e.onDataLoading})),a.a.ajax({url:t,dataType:"json",headers:{Authorization:"Bearer "+e.issuedJwt},xhrFields:{withCredentials:!0},success:function(t){Jc.isSuccesfulResponse(t)?e.foreachObservers((function(e){return e.onDataLoaded}),t,e.selectedPeriod,e.selectedType):e.onFail(t),e.isLoading=!1},error:function(t){e.onFail(t)},complete:function(t){Jc.isTokenExpired(t)&&e.refreshToken(e.requestStatisticsData)}})},Jc.prototype.createStatisticsRequestUrl=function(e,t,i,n){return[[e,t,i,Jc.formatDate(this.selectedPeriod.data("dateFrom")),Jc.formatDate(this.selectedPeriod.data("dateTo"))].join("/"),!1===n?"/":""].join("")},Jc.prototype.createDropdownRequestUrl=function(e,t,i){return[e,"/getgraphperiods/",t,!1===i?"/":""].join("")},Jc.prototype.foreachObservers=function(e){var t=this,i=[].slice.call(arguments).splice(1);Object.keys(this.dataObservers).forEach((function(n){e(t.dataObservers[n]).apply(t.dataObservers[n].context,i)}))},Jc.prototype.registerDataChanged=function(e){this.dataObservers.push(e)},Jc.prototype.refreshToken=function(e){var t=this;return a.a.ajax(t.refreshJwtUrl).done((function(i){"Token"in i&&""!==i.Token&&(t.issuedJwt=i.Token,e())}))},Jc.prototype.getValidPeriodCookie=function(){for(var e=this.Cookies.getCookie("mijn_PreferredStatsPeriod"),t=this.$element.find("option"),i=0;i<t.length;i++)if(t[i].value===e)return e},Jc.formatDate=function(e){var t=new Date(e),i=function(e){return e<10?"0"+e:e};return[t.getFullYear(),i(t.getMonth()+1),i(t.getDate())].join("")},Jc.isTokenExpired=function(e){return 498===e.status},Jc.isSuccesfulResponse=function(e){return"undefined"!==e.Result},a()("[data-my-house-datasource]").each((function(e,t){if(Jc.instance)throw"UserMyHouseDatasource.instance has already been set.";Jc.instance=new Jc(t)}));i(397);function Qc(e,t){var i=this;i.$element=a()(e);var n=i.$element.find("[data-graph]"),o=n.attr("data-graph-asset-base"),s={setData:function(e,t){return i.setData(e,t)}};1===n.length&&o&&(s.assetBaseUrl=i.assetBaseUrl,i.graph=new qc(n,s),t||Yc.instance.registerDataChanged({onDataLoading:Qc.loadingData,onDataLoaded:Qc.loadData,onDataLoadError:Qc.loadError,isLoaded:Qc.isLoaded,context:this}))}Qc.isLoaded=function(){return this.graph&&this.graph.componentLoaded},Qc.loadData=function(e,t,i){var n=t.data("format");"Date"===n?this.setToDates(e.GraphData):"DayNumber"===n&&this.setToIndex(e.GraphData),this.updateAxisInterval(t),this.updateAxisFormat(t,i),this.graph.processData()},Qc.prototype.setToIndex=function(e){this.graph.data={viewed:e.Viewed.map((function(t){return[e.Viewed.indexOf(t)+1,t.Value]})),flags:e.Flags.map((function(e){return{x:e.Date=(t=e.Date,new Date(t).getDate()),y:0,title:"flags"};var t})),products:e.Products.map((function(t){return{x:e.Products.indexOf(t)+1,y:0,title:t.Value,name:"products"}})),weekends:e.Weekends}},Qc.prototype.setToDates=function(e){Object.keys(e).forEach((function(t){e[t].forEach((function(e){return e.Date=(t=e.Date,new Date(t).getTime());var t}))})),this.graph.data={viewed:e.Viewed.map((function(e){return[e.Date,e.Value]})),flags:e.Flags.map((function(e){return{x:e.Date,y:0,title:"flags"}})),products:e.Products.map((function(e){return{x:e.Date,y:0,title:e.Value,name:"products"}})),weekends:e.Weekends}},Qc.prototype.setAxisLabel=function(e){var t={};return a.a.each(this.$element.get(0).attributes,(function(e,i){var n=i.name,a=i.value;0===n.indexOf("data-y-axis-label-")&&(n=n.substring(n.lastIndexOf("-")+1),t[n]=a)})),t[e]},Qc.prototype.updateAxisFormat=function(e,t){var i=e.data("format");this.graph.chart.yAxis[0].update({title:{text:this.setAxisLabel(t)}}),"Date"===i?this.graph.chart.xAxis[0].update({type:"datetime",labels:{format:void 0}},!1):"DayNumber"===i&&this.graph.chart.xAxis[0].update({tickInterval:7,type:"linear",labels:{format:this.$element.attr("data-translation-day-label")}},!1)},Qc.prototype.updateAxisInterval=function(e){var t,i=e.data("interval");"Daily"===i?t=864e5:"Weekly"===i?t=6048e5:"Monthly"===i?t=2592e6:"Yearly"===i&&(t=31536e6),this.graph.chart.xAxis[0].update({tickInterval:t},!1)},Qc.loadingData=function(){this.graph.setLoading(!0)},Qc.loadError=function(){var e=a()(".graph-no-data"),t=a()("[data-graph-error-message-template]").html().trim();0===e.length&&a()(".highcharts-container").append(t),this.graph.setLoading(!1)},a()("[data-my-house-graph]").each((function(e,t){return new Qc(t)}));function Xc(e){this.$element=a()(e),this.$dropdown=this.$element.find("[data-my-house-header-dropdown]"),this.urlPathBase=this.$dropdown.attr("data-my-house-base-url"),this.selectedOptionValue=this.getSelectedOptionValue(),this.bindEvents()}Xc.prototype.bindEvents=function(){var e=this;e.$dropdown.on("change",(function(){e.onChange()}))},Xc.prototype.onChange=function(){window.location.pathname=this.getPathToRedirect()},Xc.prototype.getSelectedOptionValue=function(){return this.selectedOptionValue=this.$dropdown.val(),this.selectedOptionValue},Xc.prototype.getPathToRedirect=function(){return this.urlPathBase+this.getSelectedOptionValue()+"/"},a()("[data-my-house-header]").each((function(e,t){return new Xc(t)}));function ed(e){this.$element=a()(e),this.urlAttribute=this.$element.find("[data-url-string]"),this.urlValue=this.urlAttribute[0].getAttribute("data-url-string"),this.$link=a()("[data-dialog-handle]"),this.checkUrl()&&this.$link.trigger("click")}ed.prototype.checkUrl=function(){return window.location.href.indexOf(this.urlValue)>-1},a()("[data-my-house-options]").each((function(e,t){return new ed(t)}));function td(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yc.instance,i=this;i.$element=a()(e),i.loaded=!1,i.$cells=i.$element.find("[data-my-house-cell-data]"),i.$cellTotal=i.$element.find("#user-my-house-table-header-total"),i.thousandSeperator=i.$element.attr("data-thousand-separator"),t.registerDataChanged({onDataLoading:i.loadingTableData,onDataLoaded:i.populateTable,onDataLoadError:i.loadError,isLoaded:i.isLoaded,context:i}),a()(document).ready((function(){return i.onReady()}))}td.prototype.onReady=function(){this.loaded=!0},td.prototype.isLoaded=function(){return this.loaded},td.prototype.populateTable=function(e,t){var i=e.TableData,n=this;n.$element.hasClass("no-data")&&n.$element.removeClass("no-data"),n.$cellTotal.html(a()(t).html()),i.hasOwnProperty&&n.$cells.each((function(e,t){var a=t.getAttribute("data-my-house-cell-data").split(".");"Conversion"==a[1]?t.innerHTML=i[a[0]][a[1]]+"%":t.innerHTML=jt.format(i[a[0]][a[1]],n.thousandSeperator)}))},td.prototype.loadError=function(){this.$element.addClass("no-data")},td.prototype.loadingTableData=function(){},a()("[data-my-house-statistics]").each((function(e,t){return new td(t)}));var id=ad,nd=new Ai;function ad(e){var t=this;function i(e,i){nd.notify(t.ratingId,{topic:e,value:i}),t.observers.notify(e,i)}t.$element=a()(e),t.ratingId=t.$element.attr("data-rating")||!1,t.$inputs=t.$element.find("input"),t.selectedValue=0,t.run=function(){!function(){t.ratingId&&nd.listen(t.ratingId,t.messageHandler);t.$inputs.each((function(e,i){var n=a()(i),o=a()("label[for="+n.attr("id")+"]");o.data("index",e),o.on("mouseenter",(function(){return t.hoverInHandler(e)})),o.on("mouseleave",(function(){return t.hoverOutHandler(e)})),n.on("change",(function(){return t.clickHandler(e)}))}))}(),t.$inputs.each((function(e,i){var n=a()(i);n.is(":checked")&&t.clickHandler(n.val())}))},t.observers=new Ai,t.TOPICS={CHANGE:0,HOVER_IN:1,HOVER_OUT:2},t.onChange=function(e){t.observers.listen(t.TOPICS.CHANGE,e)},t.onHoverIn=function(e){t.observers.listen(t.TOPICS.HOVER_IN,e)},t.onHoverOut=function(e){t.observers.listen(t.TOPICS.HOVER_OUT,e)},t.clickHandler=function(e,n){var o=parseInt(e,10);a()(t.$inputs[t.selectedValue]).prop("checked",!1).removeAttr("checked"),a()(t.$inputs[o]).prop("checked",!0).attr("checked","checked"),t.$inputs.slice(0,o+1).addClass("is-rated"),t.$inputs.slice(o+1).removeClass("is-rated"),t.selectedValue=o,void 0!==n&&n||(!function(e){i(t.TOPICS.CHANGE,e)}(o),t.ratingId&&t.$element.trigger("selectrating",{score:o}))},t.hoverInHandler=function(e,n){var a,o=parseInt(e,10);t.$inputs.slice(0,o+1).addClass("is-hovered"),t.hoverValue=o,void 0!==n&&n||(a=o,i(t.TOPICS.HOVER_IN,a))},t.hoverOutHandler=function(e,n){var a,o=parseInt(e,10);t.$inputs.removeClass("is-hovered"),t.hoverValue=0,void 0!==n&&n||(a=o,i(t.TOPICS.HOVER_OUT,a))},t.messageHandler=function(e){var i=e.value;switch(e.topic){case t.TOPICS.CHANGE:t.clickHandler(i,!0);break;case t.TOPICS.HOVER_IN:t.hoverInHandler(i,!0);break;case t.TOPICS.HOVER_OUT:t.hoverOutHandler(i,!0)}},t.selectRating=t.clickHandler,t.run()}ad.getSelector=function(){return"[data-rating]"},ad.initialize=function(){return ji.getAllInstances(ad)},ad.initialize();var od=sd;function sd(e){var t=this;t.element=e,t.$element=a()(e),t.$overallRating=t.$element.find("[data-overall-object-rating]"),t.$overallRatingInputs=t.$overallRating.find("input"),t.$resetHandle=t.$element.find("[data-object-rating-form-reset-handle]"),t.$ratings=t.$element.find("[data-rating]"),t.$inputs=t.$ratings.find("input"),t.$textarea=t.$element.find("[data-object-rating-textarea]"),t.$resetHandle.on("click",(function(){return t.resetRating()}))}sd.prototype.resetRating=function(){this.$inputs.removeClass("is-rated");var e=this.$element.attr("data-object-rating-form-reset-action");return a.a.ajax({method:"POST",url:e})},a()("[data-object-rating-form]").each((function(e,t){return new sd(t)}));function rd(e){this.$element=a()(e),this.$form=this.$element.find("form"),this.$cancel=this.$element.find("[data-form-with-notifications-cancel]"),this.$successNotification=this.$element.find('[data-notification="successNotification"]'),this.$errorNotification=this.$element.find('[data-notification="errorNotification"]'),this.$readFields=this.$element.find("[data-read]"),this.lastValidData=this.getInitialFormValues(),this.bindEvents()}rd.prototype.bindEvents=function(){var e=this;e.$form.unbind("submit").bind("submit",(function(t){return e.submitAsync(t)})),e.$cancel.click((function(){return e.cancel()}))},rd.prototype.submitAsync=function(e){var t=this,i=t.$form.attr("action"),n=t.$form.serialize();void 0!==e&&"function"==typeof e.preventDefault&&e.preventDefault(),a.a.post(i,n).done((function(e){return t.submitSuccessHandler(e)})).fail((function(e){return t.submitErrorHandler(e)}))},rd.prototype.submitErrorHandler=function(e){this.$errorNotification.trigger("show",e),this.$element.trigger("submit-error",e)},rd.prototype.submitSuccessHandler=function(e){if(void 0!==e&&!0===e.success)this.lastValidData=e.data,this.restoreEditValues(),this.updateReadContent(e.data),this.$successNotification.trigger("show",e.NotificationMessage),this.$errorNotification.trigger("hide"),this.$element.trigger("submit-success",e.data);else{var t="object"===Jt()(e)?e.NotificationMessage:e;this.$successNotification.trigger("hide"),this.$errorNotification.trigger("show",t),this.$element.trigger("submit-error",t)}},rd.prototype.updateReadContent=function(e){this.$readFields.each((function(t,i){var n=i.getAttribute("data-read");void 0!==e&&Object.prototype.hasOwnProperty.call(e,n)&&(i.innerHTML=e[n])}))},rd.prototype.cancel=function(){this.restoreEditValues(),this.$successNotification.trigger("hide"),this.$errorNotification.trigger("hide")},rd.prototype.getInitialFormValues=function(){var e=this.$form.serialize();return JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')},rd.prototype.restoreEditValues=function(){for(var e in this.lastValidData)if(Object.prototype.hasOwnProperty.call(this.lastValidData,e)){var t=this.lastValidData[e],i=this.$form.find("[name="+e+"]");i.length>0&&("radio"===i.attr("type")?i.filter('[value="'+t+'"]').prop("checked",!0):i.val(t))}},a()("[data-form-with-notifications]").each((function(e,t){return new rd(t)}));function ld(e){this.$element=a()(e),this.editContainer=this.$element.find("[data-form-hidden-edit-container]"),this.readContainer=this.$element.find("[data-form-hidden-read-container]"),this.editTrigger=this.$element.find("[data-form-hidden-edit-trigger]"),this.readTrigger=this.$element.find("[data-form-hidden-read-trigger]"),this.disableFallbackLinks(),this.bindEvents()}ld.prototype.disableFallbackLinks=function(){this.readTrigger.removeAttr("href"),this.editTrigger.removeAttr("href")},ld.prototype.bindEvents=function(){var e=this;e.editTrigger.click((function(){return e.toggle()})),e.readTrigger.click((function(){return e.toggle()})),e.$element.on("submit-success",(function(){return e.toggle()}))},ld.prototype.toggle=function(){this.editTrigger.toggle(),this.readContainer.toggle(),this.editContainer.toggle()},a()("[data-form-hidden]").each((function(e,t){return new ld(t,e)}));var cd="[data-".concat("form-alert-on-leave","]");function dd(e){this.$element=a()(e),this.message=this.$element.data("form-alert-on-leave"),this.isDirty=!1,this.bindEvents()}dd.prototype.bindEvents=function(){var e=this;e.$element.find("input,textarea,select").on("change",(function(){return e.setDirty(!0)})),e.$element.on("submit",(function(){return e.setDirty(!1)})),a()(window).on("beforeunload",(function(){return e.pageLeaveHandler()}))},dd.prototype.setDirty=function(e){this.isDirty=e},dd.prototype.pageLeaveHandler=function(){if(this.isDirty)return confirm(this.message)},a()(cd).each((function(e,t){return new dd(t)}));var ud={dag:"daily",week:"weekly",maand:"monthly",geen:"disable"},hd=function(){function e(t){h()(this,e),this.$element=a()(t),this.gtmEventLogger=wt,this.$emailFrequency=a()(t).find("[data-user-email-frequency]")[0],this.$settingSubmit=a()(t).find("[data-user-email-setting-submit]"),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$settingSubmit.on("click",(function(){var t=ud[e.$emailFrequency.value.toLowerCase()];e.logSetting(t)}))}},{key:"logSetting",value:function(e){this.gtmEventLogger.log({eventCategory:"interactions-mijnprofiel",eventAction:"save-NAF-notifications-frequency",eventLabel:e})}}]),e}();a()("[data-email-settings-form]").each((function(e,t){return new hd(t)}));function pd(e){var t=this;t.$element=a()(e),t.$errorMessage=a()("[data-user-report-form-error-message]"),t.$inputs=t.$element.find("[data-user-report-form-input]"),t.$form=t.$element.find("[data-user-report-form-form]"),t.$textArea=t.$element.find("[data-user-report-form-input-message]"),t.$checkboxes=[].slice.call(document.querySelectorAll('[type="checkbox"]')),t.checkboxOther=t.$element.attr("data-user-report-form-other"),t.$inputs.on("change",(function(){return t.onChangeHandler()})),t.$textArea.on("keypress",(function(){return t.onChangeHandler()})),t.$form.on("submit",(function(e){return t.onSubmitHandler(e)}))}pd.prototype.onChangeHandler=function(){this.$errorMessage.addClass("is-hidden"),this.$textArea.removeClass("input-validation-error"),this.setFormState()},pd.prototype.onSubmitHandler=function(e){this.validateForm()||e.preventDefault()},pd.prototype.setFormState=function(){this.getFormState().ReportOther?this.$textArea.removeClass("is-hidden"):this.$textArea.addClass("is-hidden")},pd.prototype.getFormState=function(){return this.serializeCheckboxes(this.$checkboxes)},pd.prototype.validateForm=function(){var e=this.getFormState(),t=this.$checkboxes,i=this.$textArea.val();return t.some((function(e){return e.checked}))?e.ReportOther&&0===i.length?(this.$errorMessage.removeClass("is-hidden"),this.$textArea.addClass("input-validation-error"),!1):(this.$errorMessage.addClass("is-hidden"),!0):(this.$errorMessage.removeClass("is-hidden"),!1)},pd.prototype.serializeCheckboxes=function(e){return e.reduce((function(e,t){return e[t.name]=t.checked,e}),{})},a()("[data-user-report-form]").each((function(e,t){return new pd(t)}));var fd=vd,md="[data-".concat("collapse-text","]");function vd(e){this.$element=a()(e),this.$textContainer=this.$element.find("[data-text-container]"),this.textLong=this.$textContainer.html(),this.charsToCollapse=this.$element.data("collapse-text")||500,this.textLong.length<this.charsToCollapse||(this.$expandTrigger=this.$element.find("[data-text-expand]"),this.$collapseTrigger=this.$element.find("[data-text-collapse]"),this.textShort=this.textLong.substr(0,this.charsToCollapse)+"",this.collapse(),this.bindEvents())}vd.prototype.bindEvents=function(){var e=this;e.$expandTrigger.on("click",(function(){return e.expand()})),e.$collapseTrigger.on("click",(function(){return e.collapse()}))},vd.prototype.expand=function(){this.$textContainer.html(this.textLong),this.$textContainer.removeClass("is-collapsed"),this.$expandTrigger.addClass("is-hidden"),this.$collapseTrigger.removeClass("is-hidden")},vd.prototype.collapse=function(){this.$textContainer.html(this.textShort),this.$textContainer.addClass("is-collapsed"),this.$expandTrigger.removeClass("is-hidden"),this.$collapseTrigger.addClass("is-hidden")},vd.initialize=function(){a()(md).each((function(e,t){return new vd(t)}))},vd.initialize();var gd=i(249),yd=i.n(gd);function bd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fd,n=this,o=a()(e);n.form=e,n.$form=o,n.asyncResult={},n.$currentPage=n.$form.find("[data-pagination-input-next]"),n.formData={},n.outputMap={},n.$outputs=bd.getOutputs(n.$form),n.spinner=new En("[data-user-reviews-spinner]"),n.ajax=t,n.collapseComponent=i,n.$outputs.each((function(e,t){var i=t.getAttribute("data-instant-search-output"),o=n.outputMap[i]||a()();n.outputMap[i]=o.add(t)})),a()(document).on("isUpdatingReviews",(function(){n.$outputs.addClass("is-updating"),n.spinner.isVisible()||n.spinner.show()})),a()(document).on("resultsUpdated resultsError",(function(){n.$outputs.removeClass("is-updating"),n.spinner.hide()})),n.bindToEvents(),n.formData=n.$form.serializeArray(),"replaceState"in window.history&&window.history.replaceState("pust_state_set_by_funda",window.title)}bd.prototype.bindToEvents=function(){var e=this;window.addEventListener("popstate",(function(e){"pust_state_set_by_funda"===e.state&&window.location.reload()}),!1),e.$form.on("pageadjusted","[data-pagination]",Vi()((function(){e.doRequest()}),250,{leading:!0}))},bd.prototype.doRequest=function(){var e=this;a()(document).trigger("isUpdatingReviews"),e.request&&e.request.abort(),e.request=e.ajax({url:e.$form.attr("action"),method:(e.$form.attr("method")||"POST").toUpperCase(),data:e.$form.serialize(),success:function(t){return e.successHandler(t)},error:function(t){return e.errorHandler(t)}})},bd.prototype.successHandler=function(e){e.formData=yd()(this.$form.serializeArray()),this.update(e),this.formData=this.$form.serializeArray()},bd.prototype.errorHandler=function(e){"abort"!==e.statusText&&this.triggerResultsError()},bd.prototype.triggerResultsError=function(){a()(document).trigger("resultsError")},bd.prototype.update=function(e){this.updateHistory(e.url),this.updateOutputs(e.content)},bd.prototype.updateHistory=function(e){"pushState"in window.history&&window.history.pushState("pust_state_set_by_funda",window.title,e)},bd.getOutputs=function(e){return e.find("[data-instant-search-output]")},bd.prototype.updateOutputs=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.outputMap[t]&&null!==e[t]&&this.outputMap[t].html(e[t]);Object.keys(e).length&&a()(document).trigger("resultsUpdated"),Di.initialize(),this.collapseComponent.initialize()},a()("[data-user-review-paging]").each((function(e,t){return new bd(t)}));var wd="[data-".concat("height-sync-id","]");function kd(e){this.$element=a()(e),this.$syncElmenents=this.$element.find(wd),this.bindEvents(),this.heightChangeHandler()}kd.prototype.bindEvents=function(){var e=this;a()(window).on("resize",(function(){return e.heightChangeHandler()}))},kd.prototype.heightChangeHandler=function(){var e=this.getHighestHeightPerIdDictionary();this.updateHeightsById(e)},kd.prototype.getHighestHeightPerIdDictionary=function(){var e={};return this.$syncElmenents.each((function(t,i){var n=a()(i),o=n.data("height-sync-id");n.height("");var s=n.height();(void 0===e[o]||e[o]<s)&&(e[o]=s)})),e},kd.prototype.updateHeightsById=function(e){this.$syncElmenents.each((function(t,i){var n=a()(i),o=n.data("height-sync-id");n.height(e[o])}))},a()("[data-height-sync]").each((function(e,t){return new kd(t)}));function $d(e){this.$element=a()(e),this.$textarea=this.$element.find("[data-form-input]"),this.$countDown=this.$element.find("[data-countdown]"),this.$icon=this.$element.find("[data-icon]"),this.minChars=this.$textarea.attr("minlength"),this.zeroInputText=this.$textarea.attr("data-zero-input-text"),this.moreInputPreText=this.$textarea.attr("data-more-input-pre-text"),this.moreInputPostText=this.$textarea.attr("data-more-input-post-text"),this.bindEvents(),this.updateCountDown()}$d.prototype.bindEvents=function(){var e=this;e.$textarea.bind("input propertychange",(function(){return e.updateCountDown()}))},$d.prototype.updateCountDown=function(){var e=this.$textarea.val().length;if(e>=this.minChars)this.$icon.removeClass("is-hidden"),this.$countDown.addClass("is-correct"),this.$countDown.html("");else{var t=e>0?"".concat(this.moreInputPreText).concat(this.minChars-e).concat(this.moreInputPostText):this.zeroInputText;this.$icon.addClass("is-hidden"),this.$countDown.removeClass("is-correct"),this.$countDown.html(t)}},a()("[data-form-textarea-countdown]").each((function(e,t){return new $d(t)}));var Cd=Sd;function Sd(e){return a.a.extend(this,e)}Sd.prototype.getIndexBy=function(e){for(var t=0;t<this.length;t++)if(e(this[t]))return t;return-1},Sd.prototype.getNextIndexCircular=function(e){return e<0?-1:(e+1)%this.length};var Td="[data-".concat("toggle-visibility-container","]"),Ed="[data-".concat("toggle-visibility-trigger","]");function Od(e){this.$element=a()(e),this.$$containers=new Cd(this.$element.find(Td)),this.iActiveContainer=this.$$containers.getIndexBy((function(e){return!a()(e).hasClass("is-hidden")})),this.$triggers=this.$element.find(Ed),this.$select=this.$element.find("[data-toggle-visibility-trigger-select]"),this.bindEvents()}Od.prototype.bindEvents=function(){var e=this;e.$triggers.on("click",(function(t){var i=a()(t.target).data("toggle-visibility-trigger");e.toggle(i)})),e.$select.change((function(t){e.toggle(t.target.value)}))},Od.prototype.toggle=function(e){var t=e?this.$$containers.getIndexBy((function(t){return a()(t).data("toggle-visibility-container")===e})):this.$$containers.getNextIndexCircular(this.iActiveContainer);this.showByIndex(t)},Od.prototype.showByIndex=function(e){e>=0&&e<this.$$containers.length&&(this.$$containers.addClass("is-hidden"),a()(this.$$containers[e]).removeClass("is-hidden"),this.iActiveContainer=e)},a()("[data-toggle-visibility]").each((function(e,t){return new Od(t)}));var xd=Pd,_d="data-async-object-rating-handle-text",Id={};function Pd(e){var t=this;t.$element=a()(e),t.$handle=t.$element.find("[data-async-object-rating-handle]"),t.$closeHandle=t.$element.find("[data-expandible-handle-scroll]"),t.$overallRating=t.$element.find("[data-overall-object-rating-form]"),t.$overallRatingInput=t.$overallRating.find("input"),t.doPageRefresh=!1,t.isExpanded=t.$element.hasClass("is-expanded"),Id[t.$element.attr("data-async-object-rating")]=t,t.scrollPosition=0,t.dialogElement=document.querySelector('[data-dialog="user-form"]'),t.expandible=new Di(t.$element[0]),t.objectRatingForm=new od(t.$element.find("[data-rating]")[0]),t.$handle.on("click",(function(e){e.preventDefault();var i=t.$element.find("[data-object-rating-form]").length;t.isExpanded=t.$element.hasClass("is-expanded"),t.isExpanded||i||t.isUserLoggedIn((function(){t.getForm(t.$handle)})),t.$element[0].hasAttribute("data-expandible-scroll")&&(t.scrollPosition=a()(window).scrollTop())})),t.$element.on("click","[data-object-rating-submit-button]",(function(e){var i=t.$overallRating.find("input:checked").val();e.preventDefault(),t.toggleRatedState(),t.scrollPosition>0&&"0"!==i&&t.scrollToObjectPosition()})),t.$element.on("click","[data-object-rating-form-reset-handle]",(function(e){e.preventDefault(),t.resetObjectRating(),t.scrollPosition>0&&t.scrollToObjectPosition()})),t.$closeHandle.on("click",(function(e){e.preventDefault(),t.scrollPosition>0&&t.scrollToObjectPosition()})),t.$overallRatingInput.on("change",(function(){t.submitOverallRating()})),a()(window).on("objectsaved",(function(e,i){var n=t.$element.find("[data-object-rating-form]").length,a=t.$element.find("[data-async-object-rating-handle-text]");t.$element.toggleClass("is-hidden"),n&&(!0===i?t.getForm(t.$handle):(t.$element.find("[data-object-rating-textarea]").val("").html(""),t.expandible.toggleExpand(!1),a.text(a.attr(_d)),t.resetRatingStyling()))}))}Pd.prototype.isUserLoggedIn=function(e){var t=this,i=t.dialogElement.dialog.isUserLoggedInUrl;return t.expandible=new Di(t.$element[0]),a.a.ajax({url:i,success:function(i){!0===i.LoggedIn?e():(t.userLoginStatus=new ba(i.LoginUrl,(function(){window.location.reload()})),t.expandible.toggleExpand(!1))},error:function(e){St.log(e,{function:"isUserLoggedIn",url:i})}})},Pd.prototype.getForm=function(e){var t=this,i=e.attr("href");return t.$element.removeClass("is-loaded"),a.a.ajax({url:i,success:function(e){if(Pd.isSuccesfulResponse(e)){var i=t.$element.find("[data-async-object-rating-content]");i.html(""),i.append(e.Html),t.createInstances()}},error:function(e){St.log(e,{function:"getForm",url:i})},complete:function(){t.$element.addClass("is-loaded")}})},Pd.isSuccesfulResponse=function(e){return"OK"===e.Result},Pd.prototype.createInstances=function(){this.objectRatingForm=new od("[data-object-rating-form]"),this.$element.find("[data-rating]").each((function(e,t){return new id(t)})),this.expandible=new Di(this.$element[0])},Pd.prototype.updateHandleText=function(){var e=this.$element.find("[data-object-rating-textarea]").val(),t=this.$element.find("[data-async-object-rating-handle-text]");e?t.text(e.substring(0,150)):t.text(t.attr(_d))},Pd.prototype.toggleRatedState=function(){var e=this;e.$form=e.$element.find("[data-object-rating-form]");var t=e.$form.attr("action"),i=e.$form.find(":input").serialize();return e.$element.addClass("is-doing-request"),a.a.ajax({method:"POST",url:t,data:i,success:function(t){if(Pd.isSuccesfulResponse(t))e.updateHandleText(),e.$handle.addClass("is-rated"),e.$element.addClass("is-rated"),e.expandible.toggleExpand(!e.expandible.isExpanded),e.getForm(e.$handle);else if("ERROR"===t.Result){var i=e.$element.find("[data-async-object-rating-content]");i.html(""),i.append(t.Html),e.createInstances()}},error:function(e){St.log(e,{function:"toggleRatedState",url:t}),window.location.href=t},complete:function(){!0===e.doPageRefresh&&window.location.reload(),e.$element.removeClass("is-doing-request")}})},Pd.prototype.submitOverallRating=function(){var e=this.$overallRating.attr("action"),t=this.$overallRating.serialize();return a.a.ajax({method:"POST",url:e,data:t,error:function(e){St.log(e,{function:"submitOverallRating"})}})},Pd.prototype.resetObjectRating=function(){this.$element.find("[data-default-rating-input]").each((function(e,t){a()(t).prop("checked",!0)})),this.resetRatingStyling(),this.$element.find("[data-object-rating-textarea]").val(""),this.updateHandleText(),a()("[data-overall-object-rating-error-message]").removeClass("is-visible"),this.$element.find("[data-async-object-rating-content]").html(""),this.expandible.toggleExpand(!this.expandible.isExpanded)},Pd.prototype.resetRatingStyling=function(){this.$overallRatingInput.removeClass("is-rated"),this.$handle.removeClass("is-rated"),this.$element.removeClass("is-rated"),this.objectRatingForm.$inputs.removeClass("is-rated")},Pd.getInstances=function(){return Id},Pd.prototype.scrollToObjectPosition=function(){a()(window).scrollTop(this.scrollPosition)},Pd.initialize=function(){a()("[data-async-object-rating]").each((function(e,t){return new Pd(t)}))},Pd.initialize();function Ld(e){Xa.call(this,e),this.getOutputs(a()(e).parent())}Ld.prototype=Object.create(Xa.prototype),Ld.prototype.sendResultsUpdatedEvent=function(){},Ld.prototype.updateResults=function(e){this.renderOutputResults(e),this.soldFilterOption.attr("href",e.historischAanbodUrl),this.updateHistory(e.url),xd.initialize(),Di.initialize(),id.initialize()},Ld.prototype.bindToEvents=function(){Xa.prototype.bindToEvents.call(this);var e=this;e.$form.parent().on("pageadjusted","[data-pagination]",(function(){var t=a()(this).find("input[data-pagination-input]").val();e.$form.find("input[data-pagination-input]").val(t),e.isRestoring||e.doRequest()}))},a()("[data-user-saved-objects-sorting]").each((function(e,t){return new Ld(t)}));function Ad(e){var t=this,i=a()(e);t.$element=i,t.button=i.find("button"),t.hasWriteAccess=i.hasClass("has-write-access"),t.$element.on("click","button",(function(){var e=a()(this).parents(".notify").hasClass("request-write");t.grantUsersWishes(e)}));var n=a()("[data-using-new-auth]").length>0;t.hasWriteAccess&&!n&&(confirm("Wil je de schrijfrechten behouden voor dit account?\n\nActies en veranderingen aan dit account worden wel opgeslagen.")||t.doRequest("/mijn/fundamanagerlogin/declinewrite/",(function(){t.switchWriteAccess(!1)})))}Ad.prototype.grantUsersWishes=function(e){var t=this;e?t.doRequest("/mijn/fundamanagerlogin/requestwrite/",(function(){t.switchWriteAccess(!0)}),t.getLapText(!0)):t.doRequest("/mijn/fundamanagerlogin/declinewrite/",(function(){t.switchWriteAccess(!1)}),t.getLapText(!1))},Ad.prototype.switchWriteAccess=function(e){this.hasWriteAccess=e,e?this.$element.removeClass("has-readonly-access").addClass("has-write-access"):this.$element.removeClass("has-write-access").addClass("has-readonly-access")},Ad.prototype.doRequest=function(e,t,i){if(null!=i&&!confirm(i))return!1;a.a.post(e,(function(){void 0!==t&&t()}))},Ad.prototype.getLapText=function(e){var t="";return e?(t="Weet je zeker dat je de schrijfrechten wilt inschakelen voor dit account?\n\nLet op! ",t+="Acties en veranderingen (zoals bekeken woningen) worden echt opgeslagen en zijn dus zichtbaar voor de mijn funda gebruiker! ",t+="Deze functionaliteit is alleen toegestaan in opdracht van de eigenaar van het Mijn funda account. ",t+="In het geval een verzoek tot wijziging niet afkomstig is van de eigenaar zelf (maar bijv. van de makelaar) ",t+="dan altijd checken of hij/zij hiervoor toestemming heeft van de eigenaar.\n\nBij twijfel altijd eerst overleggen met je manager!"):t="Wil je de schrijfrechten uitschakelen voor dit account?\n\nActies en veranderingen worden dan niet meer opgeslagen.",t},a()("[data-user-my-logged-in-as]").each((function(e,t){return new Ad(t)}));i(170);var jd="Door een storing kunnen we geen postcodes opzoeken. Probeer het later opnieuw.",Dd=function(){function e(t){h()(this,e);this.$element=a()(t),this.$input=this.$element.find("[data-address-autocomplete-input]"),this.$submitButton=a()("[data-address-button]",this.$element),this.$response=this.$element.find("[data-address-autocomplete-response]"),this.$responseSuccess=this.$element.find("[data-address-autocomplete-response-success]"),this.$responseError=this.$element.find("[data-address-autocomplete-response-error]"),this.$postcodeElement=this.$element.find("[data-address-postcode]"),this.$postcodeRegex=new RegExp(this.$postcodeElement.data("val-regex-pattern")),this.$numberElement=this.$element.find("[data-address-huisnummer]"),this.$complementElement=this.$element.find("[data-address-toevoeging]"),this.lastAdresInputValue=[],this.lastAdresInputValue.huisnummer="",this.lastAdresInputValue.postcode="",this.lastAdresInputValue.toevoeging="",this.bindEvents(),this.getComplements(),a.a.extend(a.a.validator.messages,{number:"Dit huisnummer is niet geldig."})}return f()(e,[{key:"bindEvents",value:function(){var e=this;e.$input.on("input",(function(t){e.resetMessagesIfInvalid(t)})).on("blur",(function(){event.stopImmediatePropagation(),e.getComplements()})),e.$element.on("input","[data-address-postcode],[data-address-huisnummer]",Vi()((function(){e.getComplements()}),500)),e.$complementElement.on("change",(function(){e.validateOnBackend()}))}},{key:"resetMessagesIfInvalid",value:function(e){var t=a()(e.target),i=t.data("address-field-name"),n=t.val().replace(/\s/g,"").length;if("postcode"===i&&n<6)return!1;a()(e.target).valid()||this.resetResponseMessages()}},{key:"isValueChanged",value:function(e){var t=e.data("address-field-name"),i=e.val();return"postcode"===t&&""!==i&&(i=this.reformatPostcode(i),e.val(i)),this.lastAdresInputValue[t]!==i&&(this.lastAdresInputValue[t]=i,!0)}},{key:"reformatPostcode",value:function(e){if(e)return e.match(this.$postcodeRegex)&&(e=(e.substr(0,4)+" "+e.substr(-2)).toUpperCase()),e}},{key:"isAddressValid",value:function(){return(this.isValueChanged(this.$postcodeElement)||this.isValueChanged(this.$numberElement))&&""!==this.$postcodeElement.val()&&""!==this.$numberElement.val()&&!this.$postcodeElement.hasClass("input-validation-error")&&!this.$numberElement.hasClass("input-validation-error")}},{key:"resetResponseMessages",value:function(){this.disableSubmitButton(),this.$responseSuccess.removeClass("is-active"),this.$responseError.removeClass("is-active"),this.$element.removeClass("has-response")}},{key:"getComplements",value:function(){var e=this,t=e.$element.attr("data-complement-url"),i=e.$postcodeElement.val(),n=e.$numberElement.val(),o=e.$complementElement.val();e.isAddressValid()&&a.a.ajax({url:t,method:"GET",data:{postcode:i,huisnummer:n},success:function(t){e.populateComplements(o,t),e.validateOnBackend()},error:function(){e.resetResponseMessages(),e.showErrorResponse(jd)}})}},{key:"clearComplements",value:function(){this.$complementElement.empty()}},{key:"populateComplements",value:function(e,t){if(t instanceof Array&&0!=t.length){var i=this;i.clearComplements(),t.forEach((function(t){var n=new Option(""===t?"-":t,t,!1,void 0!==e&&""!==e&&t===e);i.$complementElement.append(n)}))}}},{key:"validateOnBackend",value:function(){var e=this,t=e.$element.attr("data-url"),i=e.$postcodeElement.val(),n=e.$numberElement.val(),o=e.$complementElement.val();a.a.ajax({url:t,method:"GET",data:{postcode:i,huisnummer:n,huisnummertoevoeging:o},success:function(t){if(e.resetResponseMessages(),"error"in t&&!t.success)return e.showErrorResponse("Dit adres kennen wij niet."),!1;e.showSuccessResponse(),e.handleSuccessResponse(t)},error:function(){e.resetResponseMessages(),e.showErrorResponse(jd)}})}},{key:"handleSuccessResponse",value:function(e){var t="";null!=e.huisnummertoevoeging&&(t="-"+e.huisnummertoevoeging),this.$responseSuccess.find("[data-success-message]").html(e.straat+" "+e.huisnummer+t+", "+e.postcode+" "+e.woonplaats)}},{key:"showSuccessResponse",value:function(){this.$responseSuccess.addClass("is-active"),this.$element.addClass("has-response"),this.enableSubmitButton()}},{key:"showErrorResponse",value:function(e){this.$responseSuccess.removeClass("is-active"),this.$responseError.addClass("is-active"),this.$responseError.find("[data-error-message]").html(e),this.$element.addClass("has-response"),this.disableSubmitButton()}},{key:"enableSubmitButton",value:function(){this.$submitButton.removeAttr("disabled")}},{key:"disableSubmitButton",value:function(){this.$submitButton.attr("disabled","disabled")}}]),e}();a()("[data-address-autocomplete]").each((function(e,t){return new Dd(t)}));var Md=function(){function e(t){h()(this,e);this.$element=a()(t),this.$tabs=this.$element.find("[data-accordion-tab]"),this.$panels=this.$element.find("[data-accordion-panel]"),this.setupTabs(),this.setupPanels(),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;e.$tabs.click((function(t){return e.togglePanel(t.currentTarget)}))}},{key:"setupTabs",value:function(){this.$tabs.each((function(e,t){t.setAttribute("id","".concat("accordion__tab","-").concat(e+1)),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-controls","".concat("accordion__panel","-").concat(e+1))}))}},{key:"setupPanels",value:function(){this.$panels.each((function(e,t){t.setAttribute("id","".concat("accordion__panel","-").concat(e+1)),t.setAttribute("aria-labelledby","".concat("accordion__tab","-").concat(e+1)),t.setAttribute("aria-hidden","true")}))}},{key:"togglePanel",value:function(e){var t=a()(e),i=this.$element.find("#".concat(t.attr("aria-controls")));"true"==t.attr("aria-expanded")?this.collapsePanel(t,i):this.expandPanel(t,i)}},{key:"collapsePanel",value:function(e,t){e.attr("aria-expanded","false"),t.attr("aria-hidden","true")}},{key:"expandPanel",value:function(e,t){e.attr("aria-expanded","true"),t.attr("aria-hidden","false")}}]),e}();a()("[data-accordion]").each((function(e,t){return new Md(t)}));var Rd=function(){function e(t){h()(this,e);this.$element=a()(t),this.$group=a()("[data-form-checkboxes-minlength-group]",this.$element),this.$errors=a()("[data-form-checkboxes-minlength-error]",this.$element),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;e.$element.on("submit",(function(t){return e.validateCheckboxesForm(t)}))}},{key:"validateCheckboxesForm",value:function(e){var t=this;t.$group.each((function(){t.validateCheckboxesGroup(a()(this))})),t.$errors.each((function(){a()(this).hasClass("is-hidden")||e.preventDefault()}))}},{key:"validateCheckboxesGroup",value:function(e){var t=e.attr("data-form-checkboxes-minlength-val")?e.attr("data-form-checkboxes-minlength-val"):1,i=e.find("[data-form-checkboxes-minlength-error]"),n=e.find("input:checked").length;i.addClass("is-hidden"),n<t&&i.removeClass("is-hidden")}}]),e}();a()("[data-form-checkboxes-minlength]").each((function(e,t){return new Rd(t)}));var Fd="[".concat("data-expandible-trim","]"),Vd=function(){function e(t){h()(this,e);this.$element=a()(t),this.$content=a()("[data-expandible-trim-content]",this.$element),this.$more=a()("[data-expandible-trim-more]",this.$element),this.maxLength=this.$element.attr("data-expandible-trim")||180,this.$element.text().trim().length>this.maxLength&&(this.cloneComponent(),this.trimText(),this.addButton(),this.addClick())}return f()(e,[{key:"cloneComponent",value:function(){this.$content.clone().insertAfter(this.$content).wrap('<div class="is-hidden" data-expandible-trim-full></div>')}},{key:"trimText",value:function(){this.$content.text(this.$content.text().substr(0,this.maxLength)+"... ")}},{key:"addButton",value:function(){this.$content.append(this.$more.clone().removeClass("is-hidden").attr("aria-hidden","false"))}},{key:"addClick",value:function(){var e=this;e.$button=a()("[data-expandible-trim-more][aria-hidden=false]",e.$element),e.$button.on("click",(function(){e.$content.addClass("is-hidden").attr("aria-hidden","true"),a()("[data-expandible-trim-full]",e.$element).removeClass("is-hidden").attr("aria-hidden","false")}))}}]),e}();a()(Fd).each((function(e,t){return new Vd(t)}));var Hd=function(){function e(t){h()(this,e);this.$element=a()(t),this.$toggleRequire=a()("[data-form-toggle-validation-toggle-require]",this.$element),this.$toggle=a()("[data-form-toggle-validation-toggle]",this.$element),this.$optionalBlock=a()("[data-form-toggle-validation-optional-block]",this.$element),this.$optionalField=a()("[data-form-toggle-validation-optional-field]",this.$element),this.$requiredMsg=this.$optionalField.data("form-toggle-validation-required-msg"),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;e.$toggle.on("change",(function(){e.makeFieldOptional(),e.$toggleRequire.prop("checked")&&e.makeFieldRequired()}))}},{key:"makeFieldOptional",value:function(){this.$optionalBlock.addClass("is-hidden").attr("aria-expanded",!1),this.$optionalField.val("").removeData("val-required"),this.reValidate()}},{key:"makeFieldRequired",value:function(){this.$optionalBlock.removeClass("is-hidden").attr("aria-expanded",!0),this.$optionalField.attr("data-val-required",this.$requiredMsg),this.reValidate()}},{key:"reValidate",value:function(){this.$element.removeData("validator"),this.$element.removeData("unobtrusiveValidation"),a.a.validator.unobtrusive.parse("body")}}]),e}();a()("[data-form-toggle-validation]").each((function(e,t){return new Hd(t)}));i(236);var Nd=i(104),Bd=i.n(Nd);function zd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ud=function(e){Qs()(n,e);var t,i=(t=n,function(){var e,i=Ys()(t);if(zd()){var n=Ys()(this).constructor;e=Reflect.construct(i,arguments,n)}else e=i.apply(this,arguments);return Zs()(this,e)});function n(e){var t;h()(this,n),t=i.call(this,e);var o=Bd()(t);return o.$form=a()(e),o.$map=a()("[data-map]"),o.overrideEvents(),a()(window).on("sidebar-refresh",(function(){var e=a()("[data-instant-map-search]");1===e.length&&(o.bindToElements(e),o.bindToEvents())})),t}return f()(n,[{key:"overrideEvents",value:function(){window.removeEventListener("popstate",this.onpopstate,!1)}},{key:"updateResults",value:function(e){var t=window.location.search,i=new URLSearchParams(t),n=e.url.includes("zoek")?"&":"?";e.geo&&this.updateCenterMap(e.geo),i.delete("zoek"),e.url=e.url+n+i,this.updateHistory(e.url),this.updateMapTiles(e.zo),this.$form.find("[data-search-sidebar]").hasClass("is-extended")?this.asyncResult=e:this.renderOutputResults(e)}},{key:"updateCenterMap",value:function(e){this.$map.trigger("center_map_on",e)}},{key:"updateMapTiles",value:function(e){this.$map.trigger("zo_updated",{zo:e})}}]),n}(Xa);a()("[data-instant-map-search]").each((function(e,t){return new Ud(t)}));var qd=i(250),Gd=i.n(qd);function Wd(){this._map=null,this._handlerId=0,this._proxiedHandlers={click:{},dblclick:{},center_changed:{},zoom_changed:{},idle:{},dragstart:{}},this._eventForwarding=!0,this._enableProxyAfterIdle=!1}Wd.prototype.setMapInstance=function(e){null==e&&St.log("Invalid map instance",{function:"setMapInstance"});var t=this,i=window.google;t._map=e;var n=function(e){i.maps.event.addListener(t._map,e,(function(i){t._proxyEvent(e,i)}))};for(var a in t._proxiedHandlers)n(a)},Wd.prototype.addListener=function(e,t){if(this._checkAddListenerParameters(e,t))return this._actuallyAddListener(e,t)},Wd.prototype.addListenerOnce=function(e,t){if(this._checkAddListenerParameters(e,t))return this._actuallyAddListener(e,t,!0)},Wd.prototype._checkAddListenerParameters=function(e,t){return e in this._proxiedHandlers?!!Dn()(t)||(St.log("handler is not a function",{handler:t,function:"_checkAddListenerParameters"}),!1):(St.log("Cannot attach to event:",{event:e,function:"_checkAddListenerParameters"}),!1)},Wd.prototype._actuallyAddListener=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._proxiedHandlers[e][++this._handlerId]={function:t,runOnce:i},this._handlerId},Wd.prototype.forwardProxiedEvents=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this._enableProxyAfterIdle=!0:this._eventForwarding=e},Wd.prototype.removeListener=function(e){if(this._isHandlerRegistered(e)){var t=this._getHandlerEventName(e);null!==t&&delete this._proxiedHandlers[t][e]}},Wd.prototype._isHandlerRegistered=function(e){var t=[];for(var i in this._proxiedHandlers)t=Gd()(t,Object.keys(this._proxiedHandlers[i]));return t.indexOf(e)>=0},Wd.prototype._getHandlerEventName=function(e){for(var t in this._proxiedHandlers)if(e in this._proxiedHandlers[t])return t;return null},Wd.prototype._proxyEvent=function(e,t){if(this._eventForwarding){if(0!=Object.keys(this._proxiedHandlers[e]).length)for(var i in this._proxiedHandlers[e]){var n=this._proxiedHandlers[e][i];n.function(t),n.runOnce&&delete this._proxiedHandlers[e][i]}}else this._enableProxyAfterIdle&&"idle"==e&&(this._eventForwarding=!0,this._enableProxyAfterIdle=!1)};var Zd=new Wd,Kd=i(169),Yd=i.n(Kd),Jd=Qd;function Qd(){Qd.lastMapEvent={center:null,zoom:null},Qd.eventHandle=null}Qd.updateHash=function(e,t){var i=Na()(e,(function(e,i,n){return At()(i,t[n])?e:e.concat(n)}),[]);0!=i.length&&(i.indexOf("id")>=0&&Qd.setNewHash(t),(i.indexOf("center")>=0||i.indexOf("zoom")>=0)&&(Qd.registerMapEvent(t),null==Qd.eventHandle&&(Qd.eventHandle=window.setTimeout((function(){Qd.setNewHash(Qd.lastMapEvent),Qd.eventHandle=null}),750))))},Qd.setNewHash=function(e){var t=Qd.createHash(e);if(""!==t){var i=window.location.pathname;window.history.pushState("push_state_set_by_funda",window.title,i+t)}},Qd.registerMapEvent=function(e){Qd.lastMapEvent={center:e.center,zoom:e.zoom}},Qd.getHash=function(){var e=window.location.search||null,t=[];if(null!==e){var i=(e=e.replace("?","")).split("&");for(var n in i){var a=i[n].split("="),o={key:a[0],value:a[1]};t.push(o)}}return t},Qd.getValueFromHash=function(e){var t=Qd.getHash().find((function(t){return t.key===e&&void 0!==t.value}));return void 0!==t?t.value:null},Qd.getCurrentSearchFromUrl=function(){return window.location.pathname.replace("/kaart","")},Qd.createHash=function(e){var t=Qd.getHash();if(Object.keys(e).indexOf("center")>=0){var i=Yd()([],t);return Qd.createHashItem(i,"zoom",e.zoom),Qd.createHashItem(i,"id",e.id),Qd.createHashItem(i,"center",e.center.lat()+","+e.center.lng()),Qd.objectToQueryString(i)}var n=Yd()({},t,e);return Qd.objectToQueryString(n)},Qd.createHashItem=function(e,t,i){var n=e.find((function(e){return e.key===t}));n?n.value=i:e.push({key:t,value:i})},Qd.objectToQueryString=function(e){var t="";return a.a.each(e,(function(e,i){void 0!==i.value&&null!==i.value&&(t+=(""===t?"?":"&")+i.key+"="+i.value)})),t};var Xd=new(function(){function e(){h()(this,e),this._localStorageService=new _t,this._hasLocalStorage=this._localStorageService.isSupported()}return f()(e,[{key:"storeViewedId",value:function(e){if(this._hasLocalStorage){var t=this.getViewed();e in t||(Object.keys(t).length>=1e3&&this.deleteOldestViewedItem(),t[e]={ts:parseInt((new Date).getTime()/1e3,10)},this.setViewed(t))}}},{key:"isViewed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this;if(!i._hasLocalStorage||t)return!1;var n=e,a=e.indexOf("-")<0,o=i.getViewed();if(0==o.length)return!1;if(!a){for(var s=n.split("-"),r=0;r<s.length;r++)if(!(s[r]in o))return!1;return!0}return n in o}},{key:"getViewed",value:function(){return this._localStorageService.getAsParsedJson("viewedIds")||{}}},{key:"setViewed",value:function(e){this._localStorageService.saveAsStringified("viewedIds",e)}},{key:"deleteOldestViewedItem",value:function(){var e=this.getViewed(),t=0,i=null;for(var n in e)e[n].ts>t&&(t=e[n],i=n);null!=i&&e[i]&&delete e[i],this.setViewed(e)}}]),e}()),eu=a()(window),tu=function(){function e(t,i){h()(this,e);this.$element=a()(t),this.$canvas=this.$element.find("[data-map-canvas]"),this.config=JSON.parse(this.$element.find("[data-map-config]").text()),this.isFullViewport=this.$element.is("[data-map-full-viewport]"),this.mapEventProxy=Zd,this.map=null,this.mapState=null,this.tileSize=null,this.mapLoadedHandler=i||null,this.isTouchDevice=!1,this.$zoomIn=this.$element.find("[data-map-zoom-zoomin]"),this.$zoomOut=this.$element.find("[data-map-zoom-zoomout]"),this.$defaultMapTypeSelector=a()("[id^=search-map-type-default]"),this.$satelliteMapTypeSelector=a()("[id^=search-map-type-satellite]"),this.mapTypeEventLogger=new mr,this.mapCreationEventLogger=new vr,this.isFullViewport&&this.setCanvasHeight(),window.history.replaceState("push_state_set_by_funda",window.title),this.initialize(),this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;a()(document).on("change","[data-search-map-type-select]",(function(t){e.switchMapType(t.currentTarget.value)}))}},{key:"initialize",value:function(){var e=this;Us().then((function(){e.create()}))}},{key:"switchMapType",value:function(e){var t=window.google;switch(e){case"roadmap":this.map.setMapTypeId(t.maps.MapTypeId.ROADMAP),this.$defaultMapTypeSelector.prop("checked",!0);break;case"satellite":this.map.setMapTypeId(t.maps.MapTypeId.HYBRID),this.$satelliteMapTypeSelector.prop("checked",!0);break;default:this.map.setMapTypeId(t.maps.MapTypeId.ROADMAP),this.$defaultMapTypeSelector.prop("checked",!0)}this.updateGTMMapType(e)}},{key:"updateGTMMapType",value:function(e){this.mapTypeEventLogger.log(e)}},{key:"setCanvasHeight",value:function(){var e=eu.height()-52;this.$element.css({height:e})}},{key:"create",value:function(){var e=window.google;this.mapCreationEventLogger.log("search-on-map"),this.map=new e.maps.Map(this.$canvas[0],this.mapSettings()),this.tileSize=new e.maps.Size(256,256),this.mapEventProxy.setMapInstance(this.map),this.bindMapEvents();var t=Jd.getValueFromHash("center");!this.isValidLatlng(t)&&this.config.geo&&this.setMapToBounds(this.config.geo)}},{key:"bindMapEvents",value:function(){var e=this;e.mapEventProxy.addListenerOnce("idle",(function(){e.$element.addClass("is-loaded"),null!==e.mapLoadedHandler&&e.mapLoadedHandler.apply(),e.recordMapState()})),e.zoomLimitHandlerId=e.mapEventProxy.addListener("zoom_changed",(function(){var t=e.map.getZoom();t>19?e.map.setZoom(19):t<8&&e.map.setZoom(8)})),e.$zoomIn.on("click",(function(t){t.preventDefault();var i=e.map.getZoom();19!==i&&e.map.setZoom(i+1)})),e.$zoomOut.on("click",(function(t){t.preventDefault();var i=e.map.getZoom();8!==i&&e.map.setZoom(i-1)})),e.$element.on("center_map_on",(function(t,i){return e.setMapToBounds(i)})),eu.on("resize.map",Vi()((function(){e.isFullViewport&&e.setCanvasHeight(),e.updateCenterMap(),e.$element.trigger("close_view_type_box")}),250,{leading:!1,trailing:!0})).on("touchstart.map",(function(){e.setIsTouchDevice()}))}},{key:"updateCenterMap",value:function(){window.google.maps.event.trigger(this.map,"resize"),this.map.setCenter(this.mapState.center)}},{key:"recordMapState",value:function(e){var t={center:this.map.getCenter(),zoom:this.map.getZoom(),id:null};if(void 0!==e&&"id"in e&&(t.id=e.id,e.id&&Xd.storeViewedId(e.id)),null!==this.mapState)Jd.updateHash(this.mapState,t);else{var i=Jd.getValueFromHash("id");null!==i&&""!==i&&(t.id=i)}this.mapState=t}},{key:"setIsTouchDevice",value:function(){this.isTouchDevice=!0,this.$element.addClass("is-touch-device"),eu.off("touchstart.map")}},{key:"mapSettings",value:function(){var e=this.config,t=window.google,i=null,n=Jd.getValueFromHash("center");if(this.isValidLatlng(n)){var a=n.split(",");i={lat:parseFloat(a[0]),lng:parseFloat(a[1])}}else i={lat:e.lat,lng:e.lng};return{center:i,zoom:parseInt(Jd.getValueFromHash("zoom"),10)||10,draggableCursor:"default",draggingCursor:"default",gestureHandling:"greedy",disableDefaultUI:!0,clickableIcons:!1,zoomControlOptions:{style:t.maps.ZoomControlStyle.SMALL},styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}}},{key:"isValidLatlng",value:function(e){return null!=e&&0===e.search(/(^[0-9]{1,3}\.)([\d]+),([0-9]{1,3}\.)([\d]+)/g)}},{key:"setMapToBounds",value:function(e){var t=window.google;this.map.panTo(new t.maps.LatLng((e.MaxYWgs+e.MinYWgs)/2,(e.MaxXWgs+e.MinXWgs)/2)),this.map.fitBounds(new t.maps.LatLngBounds(new t.maps.LatLng(e.MinYWgs,e.MinXWgs),new t.maps.LatLng(e.MaxYWgs,e.MaxXWgs))),this.recordMapState(),this.switchMapType("hybrid"===this.map.mapTypeId?"satellite":"roadmap")}}]),e}(),iu=nu;function nu(e,t,i){this.tileServers=e,this.tilePath=t,this.zoom=i}function au(){this._storedTiles={},this._storedMarkers={},this._historyCache={}}nu.prototype.createUrl=function(e,t,i,n){var o,s={zoom:{find:"{zoom}",replace:e},coordX:{find:"{coordx}",replace:t.x},coordY:{find:"{coordy}",replace:t.y},query:{find:"{searchQuery}",replace:encodeURIComponent(i)},cluster:{find:"{cluster}",replace:n},screen:{find:"{screen}",replace:a()(document).width()<750?"m":"d"}},r=this.tilePath;for(var l in s)void 0!==s[l]&&(o=new RegExp("("+s[l].find+")","gm"),r=r.replace(o,s[l].replace));return this.getTileServer(t)+r},nu.prototype.getTileServer=function(e){var t=this.tileServers,i=new RegExp("([/])$","g");if(0===t.length)return".";var n=t[(e.x+e.y)%t.length];return"https:"===window.location.protocol&&(n=n.replace("http://","https://")),n.replace(i,"")},nu.prototype.isValidTile=function(e,t){var i=t.x,n=t.y,a=!0;if(e<this.zoom.min||e>this.zoom.max)a=!1;else switch(e){case 6:a=i>=32&&i<=33&&n>=20&&n<=21;break;case 7:a=i>=65&&i<=66&&n>=41&&n<=43;break;case 8:a=i>=130&&i<=133&&n>=82&&n<=86;break;case 9:a=i>=260&&i<=266&&n>=165&&n<=172;break;case 10:a=i>=520&&i<=533&&n>=330&&n<=344;break;case 11:a=i>=1041&&i<=1066&&n>=661&&n<=689;break;case 12:a=i>=2083&&i<=2133&&n>=1323&&n<=1378;break;case 13:a=i>=4167&&i<=4266&&n>=2647&&n<=2756;break;case 14:a=i>=8334&&i<=8532&&n>=5294&&n<=5513;break;case 15:a=i>=16669&&i<=17065&&n>=10589&&n<=11026}return a},au.prototype.storeMarker=function(e,t,i){var n=t.points;if(this._storedTiles[e]=t,void 0!==n)for(var a=0,o=n.length;a<o;a++){var s=n[a];this._storedMarkers[s.id]={lat:s.lat,lng:s.lng,zoom:i}}},au.prototype.getNearestMarker=function(e,t){var i,n=window.google,a=7199254740666;for(var o in this._storedMarkers){var s=this._storedMarkers[o];if(s&&s.zoom==t){var r=new n.maps.LatLng(s.lat,s.lng),l=n.maps.geometry.spherical.computeDistanceBetween(e,r);l<a&&(a=l,i=o)}}for(var c in this._historyCache){var d=this._storedMarkers[c];if(d&&d.zoom==t){var u=new n.maps.LatLng(d.lat,d.lng),h=n.maps.geometry.spherical.computeDistanceBetween(e,u);h<a&&(a=h,i=c)}}return i},au.prototype.getMarkerById=function(e){return this._historyCache[e]||this._storedMarkers[e]},au.prototype.getMarkerIdByPartial=function(e){var t=Al()(Object.keys(this._storedMarkers),(function(t){return t.indexOf(e)>=0}));return void 0===t&&(t=Al()(Object.keys(this._historyCache),(function(t){return t.indexOf(e)>=0}))),t},au.prototype.getMarkerByPartial=function(e){var t=this.getMarkerIdByPartial(e);if(void 0!==t)return this._historyCache[t]||this._storedMarkers[t]},au.prototype.getStoredTiles=function(e){return Object.keys(this._storedTiles).length>0&&void 0!==this._storedTiles[e]?this._storedTiles[e]:{}},au.prototype.rememberSelectObjects=function(e){var t=Al()(Object.keys(this._storedMarkers),(function(t){return t==e}));t&&(this._historyCache[e]=this._storedMarkers[t])},au.prototype.clear=function(){this._storedMarkers=[],this._storedTiles={}};var ou=new au,su=ru;function ru(e,t){this.map=e.map,this.$map=a()("[data-map]"),this.tileSize=e.tileSize,this.cluster=e.cluster,this.marker=t,this.searchQuery=-1!=window.location.pathname.indexOf("/kaart")?window.location.pathname.replace("/kaart",""):"koop/heel-nederland",this.mapEventProxy=Zd,this.mapTileCache=ou;var i=e.config;this.tileServer=new iu(i.tileServers,i.tilePath,{min:8,max:19}),this.singleClicked=null,this.clickedMarker=null,null!==this.map&&null!==this.marker&&this.bindEvents()}ru.prototype.minZoom=8,ru.prototype.maxZoom=19,ru.prototype.name="Tile #s",ru.prototype.alt="Tile Coordinate Map Type",ru.prototype.getTile=function(e,t,i){var n="tile-"+t+"-"+e.x+"-"+e.y,a=i.createElement("div");return a.setAttribute("id",n),a.setAttribute("class","map-tile"),this.tileServer.isValidTile(t,e)&&this.loadMarker(t,e,n,a),a},ru.prototype.refreshTiles=function(e){this.searchQuery=e,this.mapTileCache.clear(),this.$map.trigger("force_maptile_refresh",{isFinished:!1});var t=this.map.getZoom();this.map.setZoom(t+1),this.map.setZoom(t),this.$map.trigger("force_maptile_refresh",{isFinished:!0})},ru.prototype.bindEvents=function(){var e=this;e.mapEventProxy.addListener("click",(function(t){return e.mapClickHandler(t)})),e.mapEventProxy.addListener("dblclick",(function(){return e.clearMapClick()})),e.mapEventProxy.addListener("center_changed",(function(){return e.hideObjectInfo("center_changed")})),e.mapEventProxy.addListener("zoom_changed",(function(){e.mapTileCache.clear(),e.hideObjectInfo("zoom_changed")})),e.$map.on("zo_updated",(function(t,i){return e.refreshTiles(i.zo)}))},ru.prototype.loadMarker=function(e,t,i,n){var a=this.mapTileCache.getStoredTiles(i);if(Object.keys(a).length>0)return this.setMarker(a,n);var o=new URLSearchParams(window.location.search).getAll("zoek");this.doRequest(e,t,i,n,o)},ru.prototype.doRequest=function(e,t,i,n,o){var s=this,l=s.searchQuery;!s.searchQuery.includes("zoek")&&null!==o&&o.length&&(l+="?"+a.a.map(o,(function(e){return"zoek="+e})).join("&"));var c=s.tileServer.createUrl(e,t,l,s.cluster),d=s.map.getZoom();s.request=r({url:c,method:"GET",dataType:"jsonp",cache:!0,timeout:3e4}),s.request.done((function(e){if(null!=e)return s.mapTileCache.storeMarker(i,e,d),s.setMarker(e,n)}))},ru.prototype.setMarker=function(e,t){var i=e.points;if(void 0!==i&&i.length>0)for(var n=0,a=i.length;n<a;n++){var o=i[n];void 0!==t&&void 0!==o&&t.appendChild(this.marker.getElement(o))}return t},ru.prototype.clearMapClick=function(){this.singleClicked=!1},ru.prototype.mapClickHandler=function(e){var t=this;t.singleClicked=!0,setTimeout((function(){t.singleClicked&&t.clickedOnMap(e)}),200)},ru.prototype.clickedOnMap=function(e){var t=this.fixEventOffset(e.latLng),i=this.map.getZoom(),n=ou.getNearestMarker(t,i);if(n){var a=ou.getMarkerById(n);this.isPixelDistanceClose(t,a)?this.showObjectInfo(n):this.hideObjectInfo("no_object"),this.$map.trigger("close_view_type_box")}else this.hideObjectInfo("no_object")},ru.prototype.showObjectInfo=function(e){this.mapTileCache.rememberSelectObjects(e),this.$map.trigger("show_object_info",{objectId:e,initial:!1})},ru.prototype.hideObjectInfo=function(e){this.$map.trigger("hide_object_info",{type:e})},ru.prototype.fixEventOffset=function(e){var t=Math.pow(2,this.map.getZoom()),i=this.map.getProjection().fromLatLngToPoint(e);return i.y+=this.marker.pixelDistance/t,this.map.getProjection().fromPointToLatLng(i)},ru.prototype.isPixelDistanceClose=function(e,t){var i=window.google,n=Math.pow(2,this.map.getZoom()),a=this.map.getProjection(),o=a.fromLatLngToPoint(new i.maps.LatLng(t.lat,t.lng)),s=a.fromLatLngToPoint(e),r=new i.maps.Point(o.x*n,o.y*n),l=new i.maps.Point(s.x*n,s.y*n),c=Math.abs(r.x-l.x),d=Math.abs(r.y-l.y);return c<=this.marker.pixelDistance&&d<=this.marker.pixelDistance};var lu=uu,cu=14,du=13;function uu(e,t,i){var n=a()(window);this.$map=e,this.config=t,this.savedObjects=i,this.selectedMarker=Jd.getValueFromHash("id")||null,this.pixelDistance=n.width()>=750?du:cu,this.isInitialized=!1,this.mapTileCache=ou,this.currentSelectedObject="",this.bindEvents()}uu.prototype.bindEvents=function(){var e=this,t=a()(window);e.$map.on("show_object_info",(function(t,i){void 0!==i.objectId&&null!==i.objectId&&(e.selectMarker(i.objectId),e.currentSelectedObject=i.objectId)})),e.$map.on("hide_object_info",(function(){return e.unselectMarker()})),a()(window).on("map_saved_object_event",(function(t,i){e.savedObjects=i,e.changeIconToSavedObject()})),t.on("resize",Vi()((function(){t.width()>=750?e.pixelDistance=du:e.pixelDistance=cu}),250,{leading:!1,trailing:!0}))},uu.prototype.getElement=function(e){var t=e.id,i=Xd.isViewed(e.id,e.capped),n=document.createElement("div");n.setAttribute("data-marker",t);var a=this.savedObjects.find((function(e){return t===e}));return e.capped?(n.setAttribute("class",this.createClassName(t," search-map-marker__multiple-objects",e.capped,i,a)),n.innerHTML=""):e.count>1?(n.setAttribute("class",this.createClassName(t," search-map-marker__multiple-objects",e.capped,i,a)),n.innerHTML=e.count):n.setAttribute("class",this.createClassName(t," search-map-marker__default",e.capped,i,a)),!this.isInitialized&&this.isActive(t)&&(this.$map.trigger("show_object_info",{objectId:this.selectedMarker,initial:!0}),this.isInitialized=!0),n.style.left=e.x+"px",n.style.top=e.y+"px",n},uu.prototype.selectMarker=function(e){this.toolTips=this.$map.parent().find("[data-popover-travel-time-tip]"),this.toolTips.addClass("is-hidden"),this.unselectMarker(),this.selectedMarker=e,a()('[data-marker*="'+e+'"]').addClass("is-active")},uu.prototype.changeIconToSavedObject=function(){this.toolTips=this.$map.parent().find("[data-popover-travel-time-tip]"),this.toolTips.addClass("is-hidden"),this.selectedMarker=this.currentSelectedObject,a()('[data-marker*="'+this.selectedMarker+'"]').toggleClass("is-saved")},uu.prototype.unselectMarker=function(){var e=a()('[data-marker*="'+this.selectedMarker+'"]');this.selectedMarker&&!e.hasClass("capped")&&Xd.isViewed(this.selectedMarker)&&e.addClass("viewed"),this.selectedMarker=null,e.removeClass("is-active")},uu.prototype.unselectAllMarkers=function(){a()("[data-marker]").removeClass("is-active"),this.selectedMarker=null},uu.prototype.createClassName=function(e,t,i,n,a){var o=["search-map-marker",t+" "+this.config.markerDomainClass];return this.isActive(e)&&o.push("is-active"),i&&o.push("capped"),n&&o.push("viewed"),a&&o.push("is-saved"),o.join(" ")},uu.prototype.isActive=function(e){return e.indexOf(this.selectedMarker)>-1};var hu=vu,pu=27,fu=37,mu=39;function vu(e,t){this.$element=a()(e),this.$map=a()("[data-map]"),this.objects=[],this.objectsAreVisible=!1,this.objectUrl=this.$element.attr("data-search-map-infowindow-object-url"),this.$objectList=this.$element.find("[data-search-map-infowindow-list]"),this.$navigation=this.$element.find("[data-search-map-infowindow-navigation]"),this.$previousButton=this.$navigation.find("[data-search-map-infowindow-previous]"),this.$nextButton=this.$navigation.find("[data-search-map-infowindow-next]"),this.slideshowIsInitialized=!1,this.currentSlide=0,this.$positionObject=this.$navigation.find("[data-search-map-infowindow-position]"),this.positionSeparator=this.$positionObject.attr("data-search-map-infowindow-separator"),this.mapTileCache=ou,this.parent=t,this.skipUpdate=!1,this.selectedObjectScreenPos=null,this.bindEvents()}vu.prototype.bindEvents=function(){var e=this;e.$map.on("show_object_info",(function(t,i){return e.processEvent(i)})),e.$map.on("hide_object_info",(function(){return e.hide()})),e.$objectList.on("beforeChange",(function(t,i,n,a){return e.updatePosition(a)})),e.bindCloseButtonEvent()},vu.prototype.bindCloseButtonEvent=function(){var e=this;e.$element.on("click","[data-close-infowindow]",(function(){e.hide(),e.parent.recordMapState({id:null})}))},vu.prototype.processEvent=function(e){var t=null;(this.selectedObjectScreenPos=null,this.currentSlide=0,e.initial)?((t=ou.getMarkerIdByPartial(e.objectId).split("-")).length>1&&(this.currentSlide=t.indexOf(e.objectId)),this.skipUpdate=!0):t=e.objectId.split("-");var i=ou.getMarkerByPartial(t[0]);i&&(this.selectedObjectScreenPos=this.getSelectedScreenCoordinates(i)),this.loadObjectInfo(t)},vu.prototype.getSelectedScreenCoordinates=function(e){var t=window.google,i=this.parent.map.getProjection().fromLatLngToPoint(this.parent.map.getBounds().getNorthEast()),n=this.parent.map.getProjection().fromLatLngToPoint(this.parent.map.getBounds().getSouthWest()),a=new t.maps.LatLng(e.lat,e.lng),o=Math.pow(2,this.parent.map.getZoom()),s=this.parent.map.getProjection().fromLatLngToPoint(a),r=new t.maps.Point((s.x-n.x)*o,(s.y-i.y)*o),l=this.parent.$element.offset();r.x+=l.left,r.y+=l.top;var c={w:22,h:28};return 14==this.parent.mapMarkerManager.pixelDistance?(r.x-=11,r.y-=28):(r.x-=9,r.y-=22,c={w:18,h:22}),{x1:r.x,y1:r.y,x2:r.x+c.w,y2:r.y+c.h}},vu.prototype.show=function(){this.$element.removeClass("measure"),this.objectsAreVisible||(this.$element.addClass("is-visible"),this.objectsAreVisible=!0)},vu.prototype.measure=function(){var e=this,t=window.google;e.$element.addClass("measure");var i=e.$element.find(".search-map-infowindow__list"),n=i.offset(),a={w:i.width(),h:i.height()};if(n.left-=10,n.top-=69,a.w+=20,a.h+=89,null!==e.selectedObjectScreenPos){var o=e.selectedObjectScreenPos;if(o.x1>=n.left&&o.x1<=n.left+a.w&&o.y1>=n.top&&o.y1<=n.top+a.h){var s=o.y2-n.top-20;t.maps.event.addListenerOnce(this.parent.map,"idle",(function(){e.show()})),this.parent.mapEventProxy.forwardProxiedEvents(!1),this.parent.map.panBy(0,s),this.parent.mapEventProxy.forwardProxiedEvents(!0)}else e.show()}},vu.prototype.hide=function(){this.$element.removeClass("is-visible"),this.objectsAreVisible=!1,a()(document).off("keydown.keyupBinding")},vu.prototype.loadObjectInfo=function(e){var t=this;t.objects=t.getObjectList(e),t.$objectList.addClass("is-updating");var i=t.objects.join("-"),n=encodeURIComponent(t.parent.currentSearch),a=t.objectUrl.replace("{objectId}",i).replace("{searchQuery}",n);t.request&&t.request.abort(),t.request=r({url:a,method:"GET",dataType:"JSON",timeout:3e4}),t.request.done((function(e){null!=e&&t.updateResults(e)})),t.request.fail((function(e){"abort"!==e.statusText&&t.isUpdated()}))},vu.prototype.isUpdated=function(){var e=this;setTimeout((function(){e.$objectList.removeClass("is-updating")}),250),a()(document).trigger("resultsUpdated")},vu.prototype.updateResults=function(e){var t=this,i=e.content;""!==i&&(t.removeSlickBinding(),t.$objectList.html(i),ws.initialize(),ji.getAllInstances(Tl),t.objects.length>1&&t.addSlickBinding(),a()(document).on("keyup.keyupBinding",(function(e){e.keyCode==pu&&(t.parent.recordMapState({id:null}),t.parent.markerOverlay.hideObjectInfo())})),t.measure()),t.isUpdated()},vu.prototype.addSlickBinding=function(){var e=this;e.updatePosition(e.currentSlide),e.$objectList.slick({speed:250,cssEase:"ease",mobileFirst:!0,infinite:!1,useTransform:!0,touchThreshold:12,initialSlide:e.currentSlide||0,slidesToShow:1,slidesToScroll:1,nextArrow:e.$nextButton,prevArrow:e.$previousButton}),e.slideshowIsInitialized=!0,a()(document).on("keyup.keyupBinding",(function(t){t.keyCode!=fu||t.altKey?t.keyCode!=mu||t.altKey||e.$objectList.slick("slickNext",!1):e.$objectList.slick("slickPrev",!1)})),e.$navigation.addClass("is-visible")},vu.prototype.removeSlickBinding=function(){this.$navigation.removeClass("is-visible"),a()(document).off("keydown.keyupBinding"),this.slideshowIsInitialized&&(this.$objectList.slick("unslick"),this.slideshowIsInitialized=!1)},vu.prototype.updatePosition=function(e){e<0&&(e=0);var t=parseInt(e,10)+1,i=this.objects.length,n=t+" "+this.positionSeparator+i;this.skipUpdate?this.skipUpdate=!1:this.parent.recordMapState({id:this.objects[t-1]}),this.$positionObject.text(n)},vu.prototype.getObjectList=function(e){return"string"==typeof e?e.split("-"):e};var gu={strokeWidth:15,opacity:.35},yu=function(){function e(t,n){h()(this,e),this.store=n||Oe,this.googleMap=t;var a=i(406).TgmGoogleMapsPolygonOverlay;this.TgmPolygonArray=i(119).PolygonArray,this.layer=new a(this.googleMap,gu),this.layer.setInverse(!0),this.connect=new Ie(this.store,["ui.travelTimePolygon","ui.activeLocationId"]),this.subscribeToStore()}return f()(e,[{key:"centerMapOnPolygon",value:function(e){var t=this.TgmPolygonArray.create(e,gu);this.bounds=t.getMaxBounds(),this.gBounds=new google.maps.LatLngBounds(this.bounds.southWest,this.bounds.northEast),this.googleMap.fitBounds(this.gBounds,0)}},{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t,i){He(t)?t.ui.travelTimePolygon!==i.ui.travelTimePolygon&&(e.clearPolygon(),e.renderPolygon(t.ui.travelTimePolygon)):e.clearPolygon()}))}},{key:"renderPolygon",value:function(e){e&&(this.layer.setData(e),this.centerMapOnPolygon(e))}},{key:"clearPolygon",value:function(){this.layer.setData(null)}}]),e}(),bu=1,wu=2,ku=3,$u=a()(window),Cu=function(){function e(t){h()(this,e),this.$element=a()(t),this.$button=a()(t).find("[data-search-map-gps-controls-center]"),this.isGeoLocationSupported="geolocation"in navigator,this.gpsLocation=null,this.state=bu,this.bindEvents()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$button.on("click",(function(t){e.handleClick(t),e.registerGAEvents(t)})),$u.on("map_uncentered",(function(){e.state===wu&&(e.state=bu,e.updateState())}))}},{key:"registerGAEvents",value:function(e){if(a()(e.target).hasClass("is-disabled")){this.gaLogEvent("click-current-location-disabled-button")}else{this.gaLogEvent("click-current-location")}}},{key:"updateState",value:function(){this.isGeoLocationSupported&&(this.$button.removeClass("is-disabled").removeClass("is-centered"),this.state===ku?this.$button.addClass("is-disabled"):this.state===wu&&(this.$button.addClass("is-centered"),$u.trigger("track_center_map",this.gpsLocation)))}},{key:"handleClick",value:function(){this.isGeoLocationSupported&&navigator.geolocation.getCurrentPosition(this.geoSuccessHandler.bind(this),this.geoErrorHandler.bind(this))}},{key:"geoSuccessHandler",value:function(e){this.gpsLocation={lat:e.coords.latitude,lng:e.coords.longitude},this.state=wu,this.updateState();this.gaLogEvent("click-current-location-success")}},{key:"geoErrorHandler",value:function(e){1===e.code?(this.state=ku,a()(document).trigger("gps-error-event",{type:"gps-access-denied-error"})):(this.state=bu,a()(document).trigger("gps-error-event",{type:"gps-general-error"})),this.updateState();this.gaLogEvent("click-current-location-error")}},{key:"gaLogEvent",value:function(e){void 0!==window.gtmDataLayer&&gtmDataLayer.push({event:"GAEvent",eventCategory:"interactions-kaart",eventAction:e})}}]),e}();a()("[data-search-map-gps-controls]").each((function(e,t){return new Cu(t)}));function Su(e){var t=this;t.bindToElements(e),t.bindEvents(),a()(window).on("sidebar-refresh",(function(){var e=a()("[data-search-map-content]");1==e.length&&(t.bindToElements(e),t.bindEvents())}))}function Tu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Su.prototype.bindToElements=function(e){this.$element=a()(e),this.$map=a()("[data-map]"),this.url=this.$element.attr("data-search-map-content-url"),this.$autocomplete=this.$element.find("[data-autocomplete]"),this.$submitButton=this.$element.find("[data-search-map-content-submit-location]"),this.$geoIdentifier=this.$element.find('[data-instant-search-output="zoekboxHiddenValue"]'),this.$geo=a()("[data-instant-map-search]").find("#sidebar-autocomplete-identifier"),this.$mapOptionsLink=this.$element.find("[data-map-options]"),this.$mapOptionsList=this.$element.find("[data-map-type-select-top]")},Su.prototype.bindEvents=function(){var e=this,t=this;t.$autocomplete.on("searchqueryupdated",(function(){return t.submitLocation()})),t.$submitButton.on("click",(function(){return t.submitLocation()})),a()(document).on("resultsUpdated",(function(){t.$geo.val("no-update")})),t.$mapOptionsLink.on("click",(function(){t.openMapViewOptions()})),a()(document).on("close_view_type_box",(function(){return t.closeMapViewOptions()})),a()(window).on("remove-tooltip-last-tip-event",(function(){e.toolTips=e.$element.parent().find("[data-popover]"),e.$toolTipNext=e.$element.find("[search-map-dismiss-travel-time-tip]"),e.toolTips.eq(2).addClass("is-hidden"),e.mobileTooltipArrow&&e.mobileTooltipArrow.addClass("is-hidden")})),a()(window).on("tooltip-last-tip-event",(function(){e.toolTips=e.$element.parent().find("[data-popover]"),e.$toolTipNext=e.$element.find("[search-map-dismiss-travel-time-tip]"),e.toolTips.eq(2).removeClass("is-hidden"),e.toolTips.eq(2).parent().find(".mobile-triangle-last-tip").removeClass("is-hidden"),e.$toolTipNext.on("click",(function(){kt.setCookie("show-travel-time-tooltip-cookies",5),e.toolTips.eq(2).addClass("is-hidden"),e.toolTips.eq(2).parent().find(".mobile-triangle-last-tip").addClass("is-hidden")})),e.closeToolTipButton=e.toolTips.parent().find("[data-popover-close]"),e.mobileTooltipArrow=e.toolTips.parent().find("[data-tooltip-mobile-arrow]"),e.closeToolTipButton.on("click",(function(){e.mobileTooltipArrow.addClass("is-hidden")}))}))},Su.prototype.submitLocation=function(){var e=this.$geoIdentifier.val();""!==e&&"0"!==e&&this.changeCenterMap(e)},Su.prototype.changeCenterMap=function(e){this.$geo.val(e),this.$geo.trigger("change")},Su.prototype.openMapViewOptions=function(){this.$mapOptionsList.removeClass("is-hidden").addClass("is-visible")},Su.prototype.closeMapViewOptions=function(){this.$mapOptionsList.removeClass("is-visible").addClass("is-hidden")},a()("[data-search-map-content]").each((function(e,t){return new Su(t)}));var Eu=a()(window),Ou=function(e){Qs()(n,e);var t,i=(t=n,function(){var e,i=Ys()(t);if(Tu()){var n=Ys()(this).constructor;e=Reflect.construct(i,arguments,n)}else e=i.apply(this,arguments);return Zs()(this,e)});function n(e,t){var o;h()(this,n);o=i.call(this,e,(function(){s.savedObjectsURL=a()(document).find("[data-saved-objects-url]"),s.fetchSavedObjects(),s.mapEventProxy.removeListener(s.zoomLimitHandlerId),s.mapEventProxy.addListener("zoom_changed",(function(){s.verifyMapZoomLimit(s.map)})),s.mapEventProxy.addListener("idle",(function(){s.recordMapState()})),s.mapEventProxy.addListener("dragstart",(function(){s.trackedCenter&&(s.trackedCenter=null,Eu.trigger("map_uncentered"))})),s.$element.on("force_maptile_refresh",(function(e,t){s.doNotEnforceZoomLevel=!t.isfinshed})),window.addEventListener("popstate",s.onMapPopState.bind(s),!1),a()("[data-search-map-infowindow]").each((function(e,t){s.infoWindow=new hu(t,s)})),s.$element.on("zo_updated",(function(e,t){s.currentSearch=t.zo})),Eu.on("track_center_map",(function(t,i){s.trackedCenter=i;var n=new e.maps.LatLng(i.lat,i.lng);s.map.panTo(n),s.updateGpsMarker(n)})),a()(document).on("gps-error-event",(function(e,t){s.hideGpsErrors(),"gps-general-error"===t.type&&s.$gpsGeneralError.find("[data-notification]").removeClass("is-hidden"),"gps-access-denied-error"===t.type&&s.$gpsAccessDeniedError.find("[data-notification]").removeClass("is-hidden")})),s.onPersonalPlaceMarkerClickedHandler=s.onPersonalPlaceMarkerClickedHandler.bind(s);var e=window.google;s.personalPlaceMarkers=new ir(e.maps,s.map,null,null,s.onPersonalPlaceMarkerClickedHandler),s.travelTimePolygon=new yu(s.map,t)}));var s=Bd()(o);return s.doNotEnforceZoomLevel=!1,s.trackedCenter=null,s.centerMarker1=null,s.centerMarker2=null,s.mapEventProxy=Zd,s.mapEvents=Jd,s.currentSearch=s.mapEvents.getCurrentSearchFromUrl(),o.gpsMarker=null,o.$gpsGeneralError=a()(document).find("[data-general-error]"),o.$gpsAccessDeniedError=a()(document).find("[data-access-denied-error]"),o.travelTimeSpinnerOverlay=a()(document).find("[data-travel-time-polygon-loading-overlay]"),o.$polygonErrorMessage=a()(document).find("[data-search-map-polygon-error]"),o.hideGpsErrors(),o.appSpinner=new En("[data-travel-time-spinner]"),o.store=t||Oe,o.connect=new Ie(o.store,["ui.activeLocationId","ui.modalityAndTravelToggle","ui.showPolygonSpinner","ui.errorLoadingPolygon"]),o.subscribeToStore(),o}return f()(n,[{key:"fetchSavedObjects",value:function(){var e=this,t=e.savedObjectsURL.attr("data-saved-objects-url");a.a.ajax({type:"GET",url:t}).fail((function(){e.createOverlay([])})).done((function(t){var i=Array.isArray(t)?t:[];e.createOverlay(i)}))}},{key:"onPersonalPlaceMarkerClickedHandler",value:function(e){this.store.dispatch(Ze(e)),Bn.travelTime(Hn.SEARCH_MAP_CLICK_POI_MARKER,e)}},{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t,i){var n=De(t);if(e.togglePolygonErrorMessage(t.ui.errorLoadingPolygon),Ne(t,i)&&He(t)||function(e,t){return Me(e)!==Me(t)}(t,i)){e.logTravelTimeChangeEvent(t,i),e.store.dispatch(We(!0));var a=ve(t,n);e.store.dispatch(nt(a,Me(t)))}t.ui.showPolygonSpinner!==i.ui.showPolygonSpinner&&e.showLoadingSpinner(t.ui.showPolygonSpinner)}))}},{key:"togglePolygonErrorMessage",value:function(e){var t=this.$polygonErrorMessage.find("[data-notification]");e?(this.$polygonErrorMessage.removeClass("is-hidden"),t.removeClass("is-hidden")):(this.$polygonErrorMessage.addClass("is-hidden"),t.addClass("is-hidden"))}},{key:"showLoadingSpinner",value:function(e){e?(this.travelTimePolygon.clearPolygon(),this.travelTimeSpinnerOverlay.removeClass("is-hidden"),this.appSpinner.show()):(this.travelTimeSpinnerOverlay.addClass("is-hidden"),this.appSpinner.hide())}},{key:"createOverlay",value:function(e){var t=this;t.mapMarkerManager=new lu(t.$element,t.config,e);var i={map:t.map,config:t.config,tileSize:t.tileSize,cluster:Jd.getValueFromHash("c")||0};t.markerOverlay=new su(i,t.mapMarkerManager),t.map.overlayMapTypes.insertAt(0,t.markerOverlay),t.$element.on("show_object_info",(function(e,i){var n=i.objectId,a=n.split("-");a.length>1&&(n=a[0]),t.recordMapState({id:n})})),t.$element.on("hide_object_info",(function(e,i){"no_object"===i.type&&t.recordMapState({id:null})}))}},{key:"verifyMapZoomLimit",value:function(e){if(!this.doNotEnforceZoomLevel){var t=e.getZoom();t>19?e.setZoom(19):t<8&&e.setZoom(8)}}},{key:"onMapPopState",value:function(e){var t=window.google;if(e&&"push_state_set_by_funda"===e.state){this.mapEventProxy.forwardProxiedEvents(!1);var i=this.mapEvents.getValueFromHash("center"),n=this.mapEvents.getValueFromHash("zoom");if(i&&n){var a=this.mapEvents.getValueFromHash("center").split(","),o=new t.maps.LatLng(parseFloat(a[0])+.5,parseFloat(a[1])+.5);this.map.setCenter(o);var s=new t.maps.LatLng(parseFloat(a[0]),parseFloat(a[1]));this.map.setCenter(s),this.map.setZoom(parseInt(this.mapEvents.getValueFromHash("zoom"),10))}var r=this.mapEvents.getCurrentSearchFromUrl();r!==this.currentSearch&&(this.markerOverlay.refreshTiles(r),this.currentSearch=r,this.refreshSidebar(r));var l=this.mapEvents.getValueFromHash("id");null!==l&&""!==l?(this.mapMarkerManager.selectMarker(l),this.infoWindow.processEvent({initial:!0,objectId:l})):(this.mapMarkerManager.unselectAllMarkers(),this.infoWindow.hide()),this.mapEventProxy.forwardProxiedEvents(!0)}}},{key:"refreshSidebar",value:function(e){a.a.ajax({type:"GET",url:"/kaartsidebar"+e,dataType:"text",success:function(e){a()("form").html(a()(e)),a()(window).trigger("sidebar-refresh")}})}},{key:"hideGpsErrors",value:function(){this.$gpsGeneralError.find("[data-notification]").addClass("is-hidden"),this.$gpsAccessDeniedError.find("[data-notification]").addClass("is-hidden")}},{key:"updateGpsMarker",value:function(e){null===this.gpsMarker&&(this.gpsMarker={item1:new google.maps.Marker({icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#1285ff",fillOpacity:.2,strokeColor:"#1285ff",strokeOpacity:.6,strokeWeight:1,scale:40},map:this.map,clickable:!1}),item2:new google.maps.Marker({icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#1285ff",fillOpacity:1,strokeColor:"#ffffff",strokeOpacity:1,strokeWeight:1,scale:8},map:this.map,clickable:!1})}),this.gpsMarker.item1.setPosition(e),this.gpsMarker.item2.setPosition(e)}},{key:"logTravelTimeChangeEvent",value:function(e,t){if(Be(e,t)){var i=Re(e);Bn.travelTime(Hn.SEARCH_MAP_SEARCH_MAP_SWITCH_MODALITY,i)}if(function(e,t){return Fe(e)!==Fe(t)}(e,t)){var n=Fe(e);Bn.travelTime(Hn.SEARCH_MAP_SEARCH_MAP_SWITCH_TRAVEL_TIME,n)}}}]),n}(tu);a()("[data-search-map]").each((function(e,t){return new Ou(t)}));var xu=".".concat("is-active"),_u=function(){function e(t,i){h()(this,e),this.onToggleSelected=i,this.$element=a()(t),this.cookies=kt,this.$closeButton=this.$element.find("[data-travel-mode-toggle-close]"),this.bindEvents(),this.toggleSelectedItem(),this.shouldShowTooltips=this.cookies.getCookie("show-travel-time-tooltip-cookies",0)<=2,this.shouldShowTooltips?this.initializeToolTips():this.hideMobileTravelTimeTooltip()}return f()(e,[{key:"bindEvents",value:function(){var e=this;this.$element.on("click","[data-travel-mode-toggle-item]",(function(t){e.itemClicked(t)}))}},{key:"hideMobileTravelTimeTooltip",value:function(){this.toolTips=this.$element.parent().find("[data-popover]"),this.mobileTooltipArrow=this.toolTips.parent().find("[data-tooltip-mobile-arrow]"),this.mobileTooltipArrow.addClass("is-hidden")}},{key:"initializeToolTips",value:function(){var e=this;this.toolTips=this.$element.parent().find("[data-popover]"),this.mobileTooltipArrow=this.toolTips.parent().find("[data-tooltip-mobile-arrow]"),this.closeToolTip=this.$element.parent().find("[data-popover-close]"),this.closeToolTip.on("click",(function(t){e.closeToolTipClick(t)})),this.$toolTipNext=this.$element.parent().find("[data-travel-time-next-tip]"),this.$toolTipNext.on("click",(function(t){e.nextToolTipClick(t.target.getAttribute("data-travel-time-next-tip"))})),this.toolTips.eq(0).removeClass("is-hidden")}},{key:"closeToolTipClick",value:function(){this.mobileTooltipArrow.addClass("is-hidden")}},{key:"nextToolTipClick",value:function(e){1==e?(this.toolTips.eq(0).addClass("is-hidden"),this.toolTips.eq(1).removeClass("is-hidden"),this.toolTips.eq(0).parent().find(".mobile-triangle-first-tip").addClass("is-hidden"),this.toolTips.eq(1).parent().find(".mobile-triangle-second-tip").removeClass("is-hidden")):(this.toolTips.eq(0).addClass("is-hidden"),this.toolTips.eq(1).addClass("is-hidden"),this.toolTips.eq(0).parent().find(".mobile-triangle-first-tip").addClass("is-hidden"),this.toolTips.eq(1).parent().find(".mobile-triangle-second-tip").addClass("is-hidden"),a()(window).trigger("tooltip-last-tip-event"))}},{key:"hideTravelTimeToolTip",value:function(){this.toolTips&&(this.toolTips.addClass("is-hidden"),this.closeToolTipClick())}},{key:"itemClicked",value:function(e){if(this.hideTravelTimeToolTip(),this.$closeButton.addClass("icon-close-blue"),this.$closeButton.text(""),"LI"===e.currentTarget.tagName){var t={value:e.currentTarget.dataset.itemValue,key:e.currentTarget.dataset.itemKey};this.setAsActiveItem(t,e),this.$element.toggleClass("expanded")}}},{key:"setAsActiveItem",value:function(e,t){"close"!==e.value?(this.$element.find(xu).removeClass("is-active"),this.$element.find(t.currentTarget).addClass("is-active"),this.setItemAsActive(t.target.textContent),this.onToggleSelected(e)):this.$element.hasClass("expanded")&&this.toggleSelectedItem()}},{key:"toggleSelectedItem",value:function(){var e=this.$element.find(xu);this.setItemAsActive(e.text())}},{key:"setItemAsActive",value:function(e){this.$closeButton.text(e),this.$closeButton.removeClass("icon-close-blue")}},{key:"toggle",value:function(){this.toggleSelectedItem(),this.$element.removeClass("expanded")}}]),e}(),Iu=function(){function e(t,i){h()(this,e),this.store=i||Oe,this.connect=new Ie(this.store,["ui.activeLocationId","ui.modalityAndTravelToggle"]),this.cookies=kt,this.onToggleSelect=this.onToggleSelect.bind(this),this.$element=a()(t),this.$modalityToggle=this.$element.find("[data-travel-mode-toggle-modality]"),this.$travelTimeToggle=this.$element.find("[data-travel-mode-toggle-travel-time]"),this.travelModeModalityToggle=new _u(this.$modalityToggle,this.onToggleSelect),this.travelModeTravelTimeToggle=new _u(this.$travelTimeToggle,this.onToggleSelect),this.subscribeToStore(),this.bindEvents(),this.setToolTipCookies()}return f()(e,[{key:"subscribeToStore",value:function(){var e=this;this.connect.subscribe((function(t){var i=He(t);e.showModalityAndTravelTimeToggle(i)}))}},{key:"setToolTipCookies",value:function(){var e=this.cookies.getCookie("show-travel-time-tooltip-cookies",0);++e<5&&this.cookies.setCookie("show-travel-time-tooltip-cookies",e)}},{key:"bindEvents",value:function(){var e=this;a()(document).bind("mouseup touchend",(function(t){var i=a()("[data-travel-mode-toggle-zok-wrapper]");i.is(t.target)||0!==i.has(t.target).length||e.hideModalityAndTravelToggle()}))}},{key:"hideModalityAndTravelToggle",value:function(){this.travelModeModalityToggle.toggle(),this.travelModeTravelTimeToggle.toggle()}},{key:"onToggleSelect",value:function(e){this.store.dispatch({type:"update_polygon_modality_and_travel_time",selectedToggle:e})}},{key:"showModalityAndTravelTimeToggle",value:function(e){e?this.$element.removeClass("is-hidden"):this.$element.addClass("is-hidden")}}]),e}();a()("[data-travel-mode-toggle-zok-wrapper]").each((function(e,t){return new Iu(t)}));function Pu(e){this.$element=a()(e),this.$form=a()("[data-zoekwidget-results-link-form]"),this.$terms_input=a()("[data-zoekwidget-terms-input]"),this.$url_input=a()("[data-zoekwidget-results-link-input]"),this.$notification=this.$element.find("[zoekwidget-results-link-notification]"),this.bindEvents()}Pu.prototype.bindEvents=function(){this.bindFormSubmitEvent()},Pu.prototype.bindFormSubmitEvent=function(){var e=this;e.$form.on("submit",(function(){if(!e.$terms_input.is(":checked"))return e.displayError(e.$terms_input,"error-terms"),e.sendUrlUpdateFailedEvent(),!1;var t=e.$url_input.val();return e.validateUrl(t)?(e.verifyUrlOnserver(),!1):(e.displayError(e.$url_input,"error-url"),e.sendUrlUpdateFailedEvent(),!1)}))},Pu.prototype.displayError=function(e,t){this.$form.find(".error").removeClass("error"),e.addClass("error"),this.$form.addClass("has-error"),this.$notification.html(this.$form.data(t))},Pu.prototype.hideError=function(){this.$form.find(".error").removeClass("error"),this.$notification.html("")},Pu.prototype.verifyUrlOnserver=function(){var e=this.$form.attr("action")+"?ajax";a.a.post({url:e,data:this.$form.serialize(),success:this.handleServerResponse,context:this})},Pu.prototype.handleServerResponse=function(e){"OK"==e.Result?(this.hideError(),this.sendUrlUpdateSuccessEvent(e.PreviewUrl,e.Snippet)):(this.displayError(this.$url_input,e.Result),void 0!==window.gtmDataLayer&&window.gtmDataLayer.push({event:"customevent-zoekwidget","zoekwidget-inputurl":this.$url_input.val(),"zoekwidget-error":"geen valide zoekopdracht"}),this.sendUrlUpdateFailedEvent())},Pu.prototype.sendUrlUpdateSuccessEvent=function(e,t){a()(window).trigger("urlupdatesuccessevent",{url:e,snippet:t})},Pu.prototype.sendUrlUpdateFailedEvent=function(){a()(window).trigger("urlupdatefailedevent")},Pu.prototype.validateUrl=function(e){return/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/.test(e)},a()("[data-zoekwidget-results-link]").each((function(e,t){return new Pu(t)}));function Lu(e){this.$element=a()(e),this.$updateButton=this.$element.find("#update-button"),this.$embeddedCode=this.$element.find("#zoekwidget-implementation__code"),this.$copyButton=this.$element.find("#zoekwidget-implementation__copy"),this.$urlInput=a()(".zoekwidget-results-link"),this.$url="",this.$successNotification=this.$element.find('[data-notification="successNotification"]'),this.$errorNotification=this.$element.find('[data-notification="errorNotification"]'),this.bindEvents()}Lu.prototype.bindEvents=function(){this.bindHandleUrlUpdateSuccessEvent(),this.bindHandleUrlUpdateFailedEvent(),this.bindCopyCodeEvent()},Lu.prototype.bindCopyCodeEvent=function(){var e=this;e.$copyButton.on("click",(function(){e.$embeddedCode.select();var t=document.execCommand("copy");e.showCopyNotification(t)}))},Lu.prototype.showCopyNotification=function(e){e?this.$successNotification.trigger("show"):this.$errorNotification.trigger("show")},Lu.prototype.resetCopyNotification=function(){this.$successNotification.trigger("hide"),this.$errorNotification.trigger("hide")},Lu.prototype.bindHandleUrlUpdateSuccessEvent=function(){var e=this;a()(window).on("urlupdatesuccessevent",(function(t,i){e.resetCopyNotification(),e.$url=i.url,e.showConfiguration(),e.updateIframeCode(i.snippet),e.loadPreview()}))},Lu.prototype.bindHandleUrlUpdateFailedEvent=function(){var e=this;a()(window).on("urlupdatefailedevent",(function(){e.resetCopyNotification(),e.$url="",e.hideConfiguration(),e.updateIframeCode(""),e.loadPreview()}))},Lu.prototype.updateIframeCode=function(e){this.$embeddedCode.val(e)},Lu.prototype.loadPreview=function(){this.sendUrlEvent(this.$url)},Lu.prototype.sendUrlEvent=function(e){a()(window).trigger("sentwidgetlink",{url:e})},Lu.prototype.showConfiguration=function(){this.$element.removeClass("is-hidden")},Lu.prototype.hideConfiguration=function(){this.$element.addClass("is-hidden")},a()("[data-zoekwidget-implementation]").each((function(e,t){return new Lu(t)}));function Au(e){this.$element=a()(e),this.$fakeView=this.$element.find(".zoekwidget-preview__fake-view"),this.$embeddedView=this.$element.find(".zoekwidget-preview__embedded-view"),this.bindEvents()}Au.prototype.bindEvents=function(){this.bindListenIframeParametersEvent()},Au.prototype.bindListenIframeParametersEvent=function(){var e=this;a()(window).on("sentwidgetlink",(function(t,i){e.showEmbeddedPage(i)}))},Au.prototype.showEmbeddedPage=function(e){var t=a()("#widget-preview");t.attr("src",e.url),t.attr("width","100%"),t.attr("height","750px"),t.attr("scrolling","no"),this.switchViews(""==e.url)},Au.prototype.switchViews=function(e){void 0!==this.$fakeView&&void 0!==this.$embeddedView.length&&1==this.$fakeView.length&&1==this.$embeddedView.length&&(e?(this.$fakeView.removeClass("is-hidden"),this.$embeddedView.addClass("is-hidden")):(this.$fakeView.addClass("is-hidden"),this.$embeddedView.removeClass("is-hidden")))},a()("[data-zoekwidget-preview]").each((function(e,t){return new Au(t)}));function ju(e){this.$element=a()(e),this.baseUrl=this.$element.attr("data-media-foto360-krpano-base-url")||"",this.src=this.$element.attr("data-media-foto360-krpano-source"),this.initKrpano(),a()(window).on("krpanohotspotclicked",(function(e,t){if(t.name){var i=new RegExp("([^/]+/$)|([^/]+$)"),n=window.location.href.replace(i,"360-foto-"+t.name);window.location.assign(n)}}))}ju.prototype.initKrpano=function(){var e=this,t=document.createElement("div");t.id="media-foto360-krpano",e.$element.append(t);var i=function(t){e.krpano=t,t.set("basedir","")},n=-1!==window.location.search.indexOf("krpanodebug=true");Is()(e.baseUrl+"/assets/vendor-krpano.js",(function(t){t||embedpano({html5:"prefer",swf:e.baseUrl+"/assets/components/krpano-loader/krpano.swf",xml:e.src,target:"media-foto360-krpano",consolelog:n,onready:i})}))},a()("[data-media-foto360]").each((function(e,t){return new ju(t)}));var Du=function(){function e(t,i){if(h()(this,e),void 0!==(i=i||window.analytics)&&(this.props=JSON.parse(t.innerHTML),0!==this.props.length)){var n=this.props.userId;if(void 0!==n)delete this.props.userId,(new _t).getAsParsedJson("ajs_user_id")!==n&&i.identify(n,this.props)}}return f()(e,null,[{key:"resetUser",value:function(e){void 0!==(e=e||window.analytics)&&(void 0!==(new _t).getAsParsedJson("ajs_user_id")&&e.reset())}}]),e}();a()("[data-user-identify]").each((function(e,t){return new Du(t)})),0===a()("[data-user-identify]").length&&Du.resetUser()}});
//# sourceMappingURL=index.js.map