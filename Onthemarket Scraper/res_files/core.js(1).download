!function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=33)}({0:function(e,t){function a(e){var t=100*e;return Math.round(100*t)/100+"%"}function n(e){e=r(e);var t="",a=parseInt(e);return a!==parseFloat(e)&&(e-=a,t=Math.ceil(12*e)+" months"),a+" years "+t}function l(e){return isNaN(e)&&(e=0),"£"+(Math.round(100*e)/100).toLocaleString("en-UK",{minimumFractionDigits:2}).replace(".00","")}function r(e){return"string"==typeof e&&(e=(e=e.replace("£","")).replace("%",""),e=parseFloat(e.replace(",",""))),(isNaN(e)||""==e)&&(e=0),e}function o(e){return r(e.value)}function i(e){return o(document.getElementById(e))}function s(e){return parseFloat(o(e))}function d(e){return parseInt(o(e))}function u(e){return d(document.getElementById(e))}function c(e,t){!function(e,t){document.getElementById(e).innerHTML=t}(e,l(t))}function p(e){var t,a=document.getElementById("mortgageAmount_app"+e+"_employment").value,n=u("mortgageAmount_app"+e+"_input1_"+a),l=u("mortgageAmount_app"+e+"_input2_"+a);switch(a){case"employed":t=n+.5*l;break;case"contractor":t=240*n;break;default:t=n+l}return t}$(document).ready((function(){$(document).on("click","#addSecondApplicantAnchor",(function(e){return e.preventDefault(),$("#addSecondApplicant").hide(),$("#secondApplicant").show().closest("form").addClass("hasSecondApplicantShown"),!1})),$(".employmentType").length&&$(".employmentType").on("change",(function(){var e=$(this),t=e.closest("fieldset");t.find("div[data-employment]").hide().find('input[name*="input1"]').removeAttr("required","required"),t.find('div[data-employment="'+e.val()+'"]').show().find('input[name*="input1"]').attr("required","required")}))}));function m(e,t,n){var l=0;switch(e){case"loan":l=n/t;break;case"deposit":l=(t-n)/t}return a(l)}var f=function(e,t,a){return parseInt(parseInt(a[e+1])-parseInt(a[e]))/100*t[e]},y=function(e,t){var a={1:0,2:0,3:500000.01,4:925000.01,5:1500000.01},n={residential:{1:0,2:0,3:5,4:10,5:12},btl:{1:3,2:3,3:8,4:13,5:15}}[t],l={1:f(1,n,a),2:f(2,n,a),3:f(3,n,a),4:f(4,n,a)},r=l[1],o=l[1]+l[2],i=l[1]+l[2]+l[3],s=l[1]+l[2]+l[3]+l[4],d=0;switch(!0){case e>a[5]:d=(e-a[5])/100*n[5]+s;break;case e>a[4]:d=(e-a[4])/100*n[4]+i;break;case e>a[3]:d=(e-a[3])/100*n[3]+o;break;case e>a[2]:d=(e-a[2])/100*n[2]+r;break;default:d=e/100*n[1]}return d},v=function(e,t){return"ftb"===t&&(t="residential"),y(e,t)};function g(e,t,a,n,l){for(var r=0,o=0;o<t.length;o++)if(l){if(t[o][a]==e)return t[o][n]}else{if(t[o][a]>e)return r;r=t[o][n]}return r}window.affordabilityCalculator=function(e){var t=12*o(document.getElementById("affordabilityCalculator_monthlySalary"))+12*o(document.getElementById("affordabilityCalculator_overtime"))*.5+12*o(document.getElementById("affordabilityCalculator_comission"))*.5+.5*o(document.getElementById("affordabilityCalculator_bonus"))-(12*o(document.getElementById("affordabilityCalculator_finance"))+12*o(document.getElementById("affordabilityCalculator_childSupport"))+.03*o(document.getElementById("affordabilityCalculator_creditcard"))),a=0;if(t>0){var n=document.getElementById("affordabilityCalculator_soleJoint");a=t*n.options[n.selectedIndex].value}else t=0;document.getElementById("affordabilityCalculator_lendAmount").innerHTML=l(a),document.getElementById("affordabilityCalculator_results").style.display="block",e.classList.add("isCalculated")},window.btlStampDutycalculate=function(e){var t=o(document.getElementById("btlstampdutyCalculator_purchasePrice"));document.getElementById("btlstampdutyCalculator_stampDuty").innerHTML=l(v(t,"btl")),e.classList.add("isCalculated")},window.btlStressMaxLoancalculate=function(e){var t=12*d(document.getElementById("btlstressmaxloanCalculator_monthlyRent"))/(o(document.getElementById("btlstressmaxloanCalculator_stressTestRate"))/100)/1.25;document.getElementById("btlstressmaxloanCalculator_maxLoan").innerHTML=l(t),e.classList.add("isCalculated")},window.btlStressMinRentCalculate=function(e){var t=d(document.getElementById("btlstressminrentCalculator_loanRequired"))*o(document.getElementById("btlstressminrentCalculator_stressTestRate"))/100/12*1.25;document.getElementById("btlstressminrentCalculator_minRent").innerHTML=l(t),e.classList.add("isCalculated")},window.btlTaxChanges=function(){var e,t,a,n,r,o,i,s="btlTaxChanges_",d=u(s+"rentalIncome"),p=u(s+"mortgageInterest"),m=document.querySelectorAll("."+s+"rentalIncome"),f=document.querySelectorAll("."+s+"mortgageInterest"),y=[{year:2016,reduction_rate:0},{year:2017,reduction_rate:.25},{year:2018,reduction_rate:.5},{year:2019,reduction_rate:.75},{year:2020,reduction_rate:1}];for(e=0;e<m.length;e++)m[e].innerHTML=l(d);for(e=0;e<f.length;e++)f[e].innerHTML=l(p);for(e=0;e<y.length;e++)t="_"+y[e].year,i=(r=.4*(n=d-p+(a=p*y[e].reduction_rate)))-(o=.2*a),c(s+"reduction"+t,a),c(s+"taxIncome"+t,n),c(s+"taxAt40"+t,r),c(s+"taxReliefBasic"+t,o),c(s+"taxPayable"+t,i),c(s+"profit"+t,d-p-i)},window.calculateBorrowing=function(e){var t=p("1"),a=5*t,n=4*(t+p("2"));a>n&&(n=a),e.classList.add("isCalculated"),document.getElementById("mortgageAmount").classList.add("hasCalulatedResults"),document.getElementById("txtBorrowMaxAmount").innerHTML=l(n)},window.calculateBorrowingAppTotal=p,window.calculateDeposit=function(e){var t,a,n,r=u("dpst_propertyValue"),o=i("dpst_depositNeeded")/100,s=i("dpst_currentSavings"),d=i("dpst_savingsRate")/100,c=new Date(u("dpst_dateOfDepositYear"),u("dpst_dateOfDepositMonth"),u("dpst_dateOfDepositDay"),5,0),p=r*o,m=function(e,t,a,n,l){if(n||(n=0),l||(l=0),0==e)return-(a+n)/t;var r=Math.pow(1+e,t),o=e/(r-1)*-(a*r+n);return 1==l&&(o/=1+e),o.toFixed(2)}(.8*d/12,(t=new Date,n=12*((a=c).getFullYear()-t.getFullYear()),n-=t.getMonth()+1,(n+=a.getMonth())<=0?0:n),s,-1*p,1);isFinite(m)||(m=p-s),m<0&&(m=0),document.getElementById("dpst_savings").innerHTML=l(m),e.classList.add("isCalculated")},window.calculateFlexible=function(e){var t,a,r=s(e.txtPrincipalAmount),o=s(e.txtRateWholeNumber),i=o/100/12,d=e.ddlLoanDuration.options[e.ddlLoanDuration.selectedIndex].value,u=12*d,c=0,p=s(e.txtOverPayment),m=parseFloat(r*i)/parseFloat(1-Math.pow(1+i,-u)),f=m+p,y=m*u,v=0,g=s(e.txtLumpSum),h=s(e.txtLumpSumYear),b=0;p>0?(a=Math.log(1200*f/(1200*f-r*o))/Math.log(10),t=12*Math.log((1200+o)/1200)/Math.log(10),c=parseFloat(a)/parseFloat(t),v=parseFloat(f)*parseFloat(c)*12):(v=y,c=u/12),u=parseFloat(u)/12,parseFloat(h)>parseFloat(c)&&(h=parseFloat(c));var x=1+parseFloat(o)/1200,F=-12*(parseFloat(c)-parseFloat(h));x=Math.pow(parseFloat(x),parseFloat(F)),x=1-parseFloat(x),x=1200*parseFloat(x)*parseFloat(f),F=parseFloat(x)/parseFloat(o),b=parseFloat(F),parseFloat(g)>parseFloat(b)&&(g=parseFloat(b)),b-=parseFloat(g),a=Math.log(1200*parseFloat(f)/(1200*parseFloat(f)-parseFloat(b)*parseFloat(o)))/Math.log(10),t=12*Math.log((1200+parseFloat(o))/1200)/Math.log(10),c=parseFloat(a)/parseFloat(t),c+=parseFloat(h),v=parseFloat(f)*parseFloat(c)*12+parseFloat(g),document.getElementById("txtTotalCost1").innerHTML=l(y),document.getElementById("txtTotalCost2").innerHTML=l(v),document.getElementById("txtMonthlyPayment1").innerHTML=l(m),document.getElementById("txtMonthlyPayment2").innerHTML=l(f),document.getElementById("txtLoanDuration1").innerHTML=n(d),document.getElementById("txtLoanDuration2").innerHTML=n(c);var w=d-c,C=y-v;document.getElementById("txtLoanDurationSaved").innerHTML=n(w),document.getElementById("txtTotalCostSaved").innerHTML=l(C),e.classList.add("isCalculated")},window.calculateLTV=function(e){var t=s(e.ltv_propertyValue),a=m(e.ltv_depositorloan.options[e.ltv_depositorloan.selectedIndex].value,t,s(e.ltv_amount));document.getElementById("ltv_rate").innerHTML=a,e.classList.add("isCalculated")},window.calculatePayment=function(e){var t,a=s(e.txtPrincipalAmount),n=s(e.txtRateWholeNumber),o=e.ddlLoanDuration.options[e.ddlLoanDuration.selectedIndex].value;if(0==e.ddlRepaymentType.selectedIndex&&(t=a*(n/100)/12),1==e.ddlRepaymentType.selectedIndex){var i=1;n>0&&(i=n/100/12),t=parseFloat(a*i)/parseFloat(1-Math.pow(1+i,-12*o))}document.getElementById("txtMonthlyPayment").innerHTML=l(r(t)),e.classList.add("isCalculated")},window.calculateRemo=function(e){for(var t=s(e.remo_propertyValue),a=e.remo_depositorloan.options[e.remo_depositorloan.selectedIndex].value,n=s(e.remo_amount),l=e.remo_reason.options[e.remo_reason.selectedIndex].value,r=m(a,t,n),o=parseInt(r),i={most:"Most lenders will agree to this",some:"Some lenders will agree to this",few:"A few lenders will agree to this",none:"It is unlikely lenders will agree to this"},d={home_improv:{85:"some",90:"few",95:"none"},debt_con:{80:"some",85:"few",90:"none"},gift:{85:"some",90:"none"},btl_purchase:{85:"some",90:"none"},pound_to_pound:{90:"some",95:"none"}},u=i.most,c=0;c<Object.keys(d[l]).length;c++){var p=Object.keys(d[l])[c];o>p&&(u=i[d[l][p]])}document.getElementById("remo_ltv").innerHTML=r,document.getElementById("remo_result").innerHTML=u,e.classList.add("isCalculated")},window.calculateRentalYield=function(e){var t=12*s(e.rentalyield_rent)/s(e.rentalyield_propertyValue);document.getElementById("rentalyield_result").innerHTML=a(t),e.classList.add("isCalculated")},window.calculateSaving=function(e){var t=0,a=0,n=0,r=0,o=s(e.txtCurrentRateWholeNumber),i=parseInt(e.ddlLoanDuration.options[e.ddlLoanDuration.selectedIndex].value);if(o>0){if(0==e.ddlRepaymentType.selectedIndex&&(t=s(e.txtPrincipalAmount)*(o/100)/12),1==e.ddlRepaymentType.selectedIndex){var d=parseFloat(s(e.txtCurrentRateWholeNumber)/100/12);t=s(e.txtPrincipalAmount)*d/parseFloat(1-Math.pow(1+d,-parseFloat(12*i)))}}else t=s(e.txtCurrentMonthlyPayment1);var u=s(e.txtBBRateWholeNumber);if(0==e.ddlRepaymentType.selectedIndex&&(a=e.txtPrincipalAmount.value*(u/100)/12),1==e.ddlRepaymentType.selectedIndex){var c=u/100/12;a=s(e.txtPrincipalAmount)*c/parseFloat(1-Math.pow(1+c,-12*i))}r=12*(n=parseFloat(t)-parseFloat(a)),n<0?n=r="No Saving":(n=l(n),r=l(r)),document.getElementById("txtCurrentMonthlyPayment2").innerHTML=l(t),document.getElementById("txtBBMonthlyPayment").innerHTML=l(a),document.getElementById("txtMonthlySaving").innerHTML=n,document.getElementById("txtAnnualSaving").innerHTML=r,e.classList.add("isCalculated")},window.calculateWhat=function(e){var t,a,n=new Array(17);for(t=0;t<n.length;++t)n[t]=new Array(0,0,0,0,0,0);var l=0,r=document.getElementsByTagName("select");for(t=0;t<r.length;t++)"ddlQ"==r[t].name.substring(0,4)&&(n[a=2*++l][0]=r[t].value);for(n[2][1]=n[2][0],parseFloat(n[2][0])>4?n[4][1]=n[4][0]:parseFloat(n[2][0])>3?n[4][1]=n[4][0]/2:n[4][1]=0,n[4][0]=2,1==n[4][0]?n[4][5]=(6-n[4][0])*(6-n[6][0])/5:2==n[4][0]?n[4][5]=(6-n[4][0])*(6-n[6][0])/5/1.5:n[4][5]=0,n[5][0]=6-n[4][0],1==n[5][0]?n[5][1]=n[6][0]:2==n[5][0]?n[5][1]=n[6][0]/1.5:n[5][1]=0,n[5][1]=1.1*n[5][1],n[2][0]>4?n[6][1]=n[6][0]:n[2][0]>3?n[6][1]=n[6][0]/2:n[6][1]=0,n[8][3]=n[8][0],n[10][5]=n[10][0],n[12][1]=n[12][0],n[14][4]=n[14][0]*(1-(n[4][1]+0*n[6][1])/20),n[16][1]=n[16][0],a=1;a<6;a++)for(t=0;t<17;t++)n[0][a]+=parseFloat(n[t][a]);n[0][1]+=-2;var o=0;parseFloat(n[0][1])>=0&&parseFloat(n[0][1])<6?o=1:parseFloat(n[0][1])>=6&&parseFloat(n[0][1])<8?o=2:parseFloat(n[0][1])>=8&&parseFloat(n[0][1])<12?o=3:parseFloat(n[0][1])>=12&&parseFloat(n[0][1])<20?o=4:parseFloat(n[0][1])>=20&&(o=5);var i=0;parseFloat(n[0][1])>=0&&parseFloat(n[0][1])<6?i=5:parseFloat(n[0][1])>=6&&parseFloat(n[0][1])<8?i=4:parseFloat(n[0][1])>=8&&parseFloat(n[0][1])<12?i=3:parseFloat(n[0][1])>=12&&parseFloat(n[0][1])<20?i=2:parseFloat(n[0][1])>=20&&(i=1),n[0][5]++;var s=0;parseFloat(n[0][5])>0&&parseFloat(n[0][5])<=2?s=1:parseFloat(n[0][5])>2&&parseFloat(n[0][5])<4?s=2:parseFloat(n[0][5])>=4&&parseFloat(n[0][5])<6?s=3:parseFloat(n[0][5])>=6&&parseFloat(n[0][5])<8?s=4:parseFloat(n[0][5])>=8&&(s=5);var d=6-parseFloat(n[0][3]),u=0;parseFloat(n[0][4])>0&&parseFloat(n[0][4])<=1?u=1:parseFloat(n[0][4])>1&&parseFloat(n[0][4])<=2?u=2:parseFloat(n[0][4])>2&&parseFloat(n[0][4])<=3?u=3:parseFloat(n[0][4])>3&&parseFloat(n[0][4])<=4?u=4:parseFloat(n[0][4])>4&&(u=5),document.getElementById("fixedCapped").className="results results"+o,document.getElementById("discountTracker").className="results results"+i,document.getElementById("flexible").className="results results"+s,document.getElementById("redemption").className="results results"+d,document.getElementById("cashback").className="results results"+u,e.classList.add("isCalculated")},window.capitalGainsCalculator=function(e){var t=u("capitalGainsCalculator_monthlySalary"),a=u("capitalGainsCalculator_salePrice")-u("capitalGainsCalculator_purchasePrice")-u("capitalGainsCalculator_sellingCosts")-u("capitalGainsCalculator_purchaseCosts")-u("capitalGainsCalculator_estateAgentFees")-u("capitalGainsCalculator_solicitorsFees")-u("capitalGainsCalculator_imporvementCosts")-12e3,n=12e3-t>0?12e3-t:0,r=n-a>0?n-a:n,o=5e4-t>0?5e4-t:0,i=n+o-a>0?a-n:o,s=0*r+.18*i+.28*(a-i-r>0?a-i-r:0);document.getElementById("capitalGainsCalculator_payable").innerHTML=l(s),e.classList.add("isCalculated")},window.ltvCalc=m,window.residentialStampDutycalculate=function(e){for(var t,a=o(document.getElementById("residentialstampdutyCalculator_purchasePrice")),n=document.getElementsByName("residentialstampdutyCalculator_variation"),r=0;r<n.length;r++)n[r].checked&&(t=n[r].value);document.getElementById("residentialstampdutyCalculator_stampDuty").innerHTML=l(v(a,t)),e.classList.add("isCalculated")},window.rightToBuyCalculator=function(e){var t,n,r,o=new Date(u("rightToBuy_tenancyStartYear"),u("rightToBuy_tenancyStartMonth"),u("rightToBuy_tenancyStartDay"),5,0),i=Math.floor((new Date-o)/31536e6),s=u("rightToBuy_propertyPrice"),d=82800,c=.35,p=c+(i-5)/100>.7?.7:c+(i-5)/100;u("rightToBuy_londonBorough")&&(d=110500),"flat"==document.getElementById("rightToBuy_propertyType").value&&(p=(c=.5)+(i-5)/50>.7?.7:c+(i-5)/50),n=(r=(t=(i<3?0:i<5?c:p)*s)>d?d:t)/s,document.getElementById("rightToBuy_discount").innerHTML=a(n),document.getElementById("rightToBuy_discountAmount").innerHTML=l(r),e.classList.add("isCalculated")},window.selfEmployedCalculator=function(e){var t="selfEmployedCalculator_",a=u(t+"mortgageAndIncome"),n=u(t+"leadSupport"),l=u(t+"percentageSelfGenerated")/100,r=0,o=!1,i=9600,s=.55,d=[[0,9e3,.85],[1e5,6e3,.85],[15e4,0,.85]];1==n&&l?(r=a*l*.65+a*(1-l)*.5-i,o=a*l*d[0][2]-g(a*l,d,0,1,0)):r=1==n?a*s-i:a*d[0][2]-g(a,d,0,1,0),e.classList.add("isCalculated"),c(t+"earning",r),o&&(document.getElementById(t+"earningSupportContainer").style.display="block",c(t+"earningSupport",o))},window.stampDuty=v,window.stampDutyCalcBtlResidential=y,window.stampDutyCalculateBandMax=f},1:function(e,t,a){"use strict";!function(){if($(".bestBuys").length){$(".sortingHelper").length&&(l=$(".sortingHelper a"),r=$(".sortingHelper .sortingHelperContent"),o="bestbuys",l.click((function(e){e.preventDefault(),$(".isVisible").length&&($(".isVisible").removeClass("isVisible").addClass("isHidden"),$("body").removeClass("hasModalOpen")),r.addClass("isVisible").removeClass("isHidden"),$("body").addClass("hasModalOpen"),$("#overlay input").first().focus()})),r.click((function(e){var t=$(e.target),a=t.is(".search")||t.parents().is(".content")&&!t.is(".cross");return"profile"==o&&(a=(1==t.parents("#profile .container #mailform fieldset").length||t.is("fieldset"))&&!t.is(".cross")),!!a||($("body").removeClass("hasModalOpen"),r.removeClass("isVisible").addClass("isHidden"),!1)}))),$(document).on("click",".bestBuys .revealMoreInfo",(function(e){e.preventDefault();var t=$(this),a=t.closest(".bestBuysProduct").find(".bestBuysMoreInfoWrapper"),n=a.offset().top;a.toggleClass("isRevealed"),n<$(window).scrollTop()+45&&$("html, body").animate({scrollTop:n-45}),t.text("More info"==t.text()?"Less info":"More info")}));var e=function(e){e.attr("title")&&e.attr("data-title",e.attr("title")).removeAttr("title"),$(".bestBuys abbr").next(".tooltip").remove(),e.append('<span class="tooltip">'+e.data("title")+"</span>")};$(document).on("mouseover",".bestBuys abbr",(function(){e($(this))})),$(document).on("mouseout",".bestBuys abbr",(function(){$(this).find(".tooltip").remove()})),$(document).on("click",".bestBuys abbr",(function(){var t=$(this);e(t),t.next().delay(1500).fadeOut()}));var t=function(e){var t=$(".features.btl");e.val().indexOf("btl")>-1?t.slideDown():t.slideUp()};t($('select[name="bb[lookingFor]"]')),$('select[name="bb[lookingFor]"]').on("change",(function(){t($(this))}));var a=function(e,t){return parseInt(e.find(t).val().replace(/,/g,"").trim())},n=function(e){var t=e.find(".bbError"),n=e.find(".bbPrices");if($("fieldset.number input",e).each((function(){$(this).prop("value",$(this).prop("value").replace(/[^0-9.]+/g,""))})),a(e,'input[name="bb[loan]"]')>a(e,'input[name="bb[value]"]'))t.addClass("isActive"),t.text("Your mortgage amount required exceeds the value of property. Please modify your options and try again."),n.addClass("notValid");else{var l=$("div.results",e);e.addClass("loading"),l.load(e.attr("action")+" form.bestBuys:first div.results > *",e.serializeArray(),(function(){e.removeClass("loading"),rTapNotifyDOMChange($("body")[0])}))}return!1};$(document).on("change","#sorting",(function(){return n($(this).closest("form"))})),$(document).on("submit","form.bestBuys",(function(e){return e.preventDefault(),n($(this))}))}var l,r,o}()},2:function(e,t,a){"use strict";a(3);!function(){var e=$("#frmPbSurvey");if(e.length){var t="n/a",a=e.find('input[type="submit"]');$("fieldset.number").length&&($("fieldset.number input").each((function(){"0"==$(this).prop("value")&&$(this).prop("value","")})),void 0!==window.orientation&&$("fieldset.number input").each((function(){$(this).val($(this).val().replace(",","")).prop({type:"number"})}))),$("fieldset.telephone").length&&$("fieldset.telephone input").prop("type","tel"),$("fieldset.email").length&&$("fieldset.email input").prop("type","email"),function(){var e=$(".survey_item.conditionalQuestionRemortgage");e.next().hide();var a=e.next().find("input");e.find("select").on("change",(function(){"Remortgage"===$(this).find("option:selected").text()?(a.val()==t&&a.val(""),e.parent().css("height","auto"),e.next().slideDown(),a.attr("required",!0)):(e.next().slideUp(),a.attr("required",!1),a.length&&""!==a.val()||a.val(t))}))}(),e.removeAttr("onsubmit");var n=e.llFormValidation({validateOnSubmit:!1});e.on("submit",(function(l){var r=n.valid();if(r||l.preventDefault(),$("fieldset.number input",this).each((function(){$(this).prop("value",$(this).prop("value").replace(/[^0-9.]+/g,""))})),r){var o=$('input[name="tx_pbsurvey_pi1[891][0][0]"], input[name="tx_pbsurvey_pi1[776][0][0]"]');""===o.val()&&o.val(t),e.find(".formbuttons").append('<div class="loader">Loading...</div>'),a.attr("disabled","disabled"),a.attr("value","Submitting...")}return!0}))}}()},3:function(e,t){!function(e){"use strict";e.fn.llFormValidation=function(t){var a=e.extend({debug:!1,htmlValidation:!1,validateOnSubmit:!0,fieldset:".survey_item",rules:{name:{required:!0,regex:/^[ ',-\.A-Za-z\xC0-\xCF\xD1-\xD6\xD8-\xDD\xDF-\xE5\xE7-\xF6\xF8-\xFD\xFF\u0104-\u0107\u010C\u010D\u0116-\u0119\u012E\u012F\u0141-\u0144\u0152\u0160\u0161\u016A\u016B\u0172\u0173\u0178-\u017E\u2202]+$/,message:"Please enter a valid name."},email:{required:!0,regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,12})+$/,message:"Please enter a valid email address."},phone:{required:!0,regex:/^\s*(([+]\s?\d[-\s]?\d|0)?\s?\d([-\s]?\d){9}|[(]\s?\d([-\s]?\d)+\s*[)]([-\s]?\d)+)\s*$/,message:"Please enter a valid phone number."},required:{required:!0,regex:/(.|\s)*\S(.|\s)*/,message:"This field is required."}}},t),n=function(e){return a.debug?console.log(e):""},l=e(this);a.htmlValidation||l.attr("novalidate","novalidate"),this.init=function(){var t=this;n("LL Inline Form Validator - debug mode"),n(a),l.find(a.fieldset).each((function(t,a){var n=e(a),l=r(n);if(l){var i=e('<label class="validationMessage"></label>');n.append(i),n.find("input").on("blur",(function(){o({type:l.type,input:e(this),element:n,label:i})}))}})),a.validateOnSubmit&&l.on("submit",(function(){return t.valid()}))};var r=function(e){var t=e.attr("class").match(/validation\[(.*?)\]/);return null!==t&&t.length>1&&a.rules.hasOwnProperty(t[1])?{isValid:!0,type:t[1]}:(null===t||a.rules.hasOwnProperty(t[1])||n("validation[".concat(t[1],"] is not valid!")),!1)},o=function(e){var t,n=e.type,l=e.element,r=e.input,o=e.label,i=Object.keys(a.rules).filter((function(e){return e===n})).reduce((function(e,t){return a.rules[t]}),{}),s=r.val().trim(),d=i.regex.test(r.val()),u=!s.length,c=i.required,p=d?"":c&&u?a.rules.required.message:i.message;return o.text(p),d?(l.removeClass("invalid").addClass("valid"),t=!0):(l.addClass("invalid").removeClass("valid"),t=!1),t};return this.valid=function(){var t=!0;return l.find(a.fieldset).each((function(a,l){var i=e(l),s=r(i);if(s){var d;i.find(".validationMessage").length?d=i.find(".validationMessage"):(d=e('<label class="validationMessage"></label>'),i.append(d));var u=o({type:s.type,input:i.find("input"),element:i,label:d});n({field:s.type,valid:u}),u||(t=!1)}})),t},this.init(),{valid:this.valid}}}(jQuery)},33:function(e,t,a){"use strict";a.r(t);a(5),a(6),a(1),a(0),a(2),a(4);window.$=jQuery.noConflict()},4:function(e,t){$(document).ready((function(){$(".box.breakout .reviews li p").length&&$(".box.breakout .reviews li p").each((function(){$(this).text().length>320&&$(this).truncate({max_length:290})}))}))},5:function(e,t){if(function(e){var t=!0,a=0;function n(r){return 3==r.nodeType?function(n){var r=l(n.data);t&&(r=r.replace(/^ /,""));t=!!r.match(/ $/);r=r.slice(0,a);return r=e("<div>").text(r).html(),a-=r.length,r.replace(/\w+$/,"")}(r):function(t){var l,r=(t=e(t)).clone().empty();return t.contents().each((function(){if(0==a)return!1;(l=n(this))&&r.append(l)})),r}(r)}function l(e){return e.replace(/\s+/g," ")}e.fn.truncate=function(t){var r=e.extend({},e.fn.truncate.defaults,t);e(this).each((function(){if(!(e.trim(l(e(this).text())).length<=r.max_length)){a=r.max_length+r.more.length;var t,o,i=n(this),s=e(this).hide();i.insertAfter(s),function t(a){var n=e(a),l=n.children(":last");if(!l)return a;var r=l.css("display");return r&&"inline"!=r?t(l):n}(i).append(r.more),(t=s,o=e(t).children(":last"),o&&o.is("p")?o:t).append(r.less),i.find("a:last").click((function(){return i.hide(),s.show(),!1})),s.find("a:last").click((function(){return i.show(),s.hide(),!1}))}}))},e.fn.truncate.defaults={max_length:100,more:'<a href="" class="more">…more</a>',less:'<a href="" class="less">less</a>'}}(jQuery),void 0===a)var a={en:{}};a=$.extend(!0,a,{en:{"truncate.more":"Read more","truncate.less":"Read less"}})},6:function(e,t){$(window).on("load",(function(){if($("div.box.toggle").length>0){var e=$("div.box.toggle > div");e.find("> div.content").hasClass("active")||$("> div.content",e).hide(),$("> div.title:first-child",e).bind("click",(function(){var t=$(this).parent(),a=$("> div.content",t).hasClass("active");return $("> div.content",e).slideUp("fast").removeClass("active"),$("> div.title",e).removeClass("on"),a||$("> div.content",t).slideDown("fast",(function(){$("> div.title",t).addClass("on"),$("div.wrapper > div.wrapper div.box.toggle > div.wrapper > div.title").trigger("toggleChange")})).addClass("active"),!1}));var t={"@context":"http://schema.org","@type":"FAQPage",mainEntity:[]};e.each((function(){var e,a,n,l=$(this),r={"@type":"Question",acceptedAnswer:{"@type":"Answer"}},o=(e=l.find(".content").html(),a=("<h1><h2><h3><h4><h5><h6><br><ol><ul><li><a><p><div><b><strong><i><em>".toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),n=e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,t){return a.indexOf("<"+t.toLowerCase()+">")>-1?e:""})),e===n&&e);o&&(r.name=r.text=l.find(".title").text(),r.acceptedAnswer.text=o,t.mainEntity.push(r))})),t.mainEntity.length&&$("body").append('<script type="application/ld+json">'+JSON.stringify(t)+"<\/script>")}}))}});