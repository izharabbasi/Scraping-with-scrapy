"undefined"==typeof __OTM__&&(__OTM__={}),__OTM__.MortgageCalculatorModule=function(){function e(){r!==document.getElementById("mortgage-calc-wrapper").offsetHeight&&(r=document.getElementById("mortgage-calc-wrapper").offsetHeight,window.parent.postMessage({frameHeight:r},"*"))}function t(e){window.parent.postMessage(e,"*")}function n(){if("function"==typeof window.ResizeObserver){new ResizeObserver(function(t){for(var n=0;n<t.length;n++)e()}).observe(document.getElementById("mortgage-calc-wrapper"))}else window.onload=function(){e()},window.onresize=function(){e()},setTimeout(function(){document.getElementById("mortgageAmount_app1_employment").addEventListener("change",function(){e()}),document.getElementById("addSecondApplicantAnchor").addEventListener("click",function(){setTimeout(function(){e()},20)}),document.getElementById("mortgageAmount_app2_employment").addEventListener("change",function(){e()}),document.getElementsByName("calculateButton")[0].addEventListener("click",function(){setTimeout(function(){e()},200)})},1500)}function o(){document.querySelectorAll(".charcol-logo-link")[0].addEventListener("click",function(e){t({event:"MortgageCalculatorLink",targetURL:e.target.href})}),document.addEventListener("click",function(e){var n=document.querySelectorAll(".resultsBox a")[0],o=document.querySelectorAll(".resultsBox a")[1];e.target!==n&&e.target!==o||t({event:"MortgageCalculatorLink",targetURL:e.target.href})}),document.addEventListener("submit",function(e){var n=document.querySelector(".calcValForm"),o={event:"MortgageCalculatorSubmission"},r=n.elements,a=1;if(e.target===n){for(var c=0;c<r.length;c++)"submit"!=r[c].type&&r[c].value&&null!==r[c].offsetParent&&(o["field"+a]={fieldName:document.querySelector("label[for="+r[c].id+"]").innerText,fieldValue:r[c].value,fieldApplicant:-1!==r[c].id.indexOf("app1")?"First applicant":"Second Applicant"},a++);o.txtBorrowMaxAmount=document.getElementById("txtBorrowMaxAmount").innerText,t(o)}})}var r;return function(){n(),o()}(),{initialised:!0}}();